cscope 15 $HOME/devel/cs699/project/lo3-mac-simulator -q 0000002958 0000429918
	@c_funda_clearing.c

1 
	~<¡dio.h
>

2 
	~<m®loc.h
>

3 
	~<¡ršg.h
>

20 
	sabc


22 
	mx
;

23 
	my
;

27 
	$maš
()

29 
i
;

30 
abc
 
‹mp1
[5];

31 
abc
 
‹mp2
[5];

33 
i
=0; i<5; i++)

35 
‹mp1
[
i
].
x
 = i;

36 
‹mp1
[
i
].
y
 = i/()5;

39 
i
=0; i<5; i++)

41 
	`´štf
("%d ", 
‹mp1
[
i
].
x
);

42 
	`´štf
("%à", 
‹mp1
[
i
].
y
);

43 
	`´štf
("\n");

46 
i
=0;i<5;i++)

47 
‹mp2
[
i
] = 
‹mp1
[i] ;

49 
i
=0; i<5; i++)

51 
	`´štf
("%d ", 
‹mp2
[
i
].
x
);

52 
	`´štf
("%à", 
‹mp2
[
i
].
y
);

53 
	`´štf
("\n");

57 
	}
}

	@coordinateToGraph.c

1 
	~"h—d”.h
"

3 
	gÃtwÜkG¿ph
[
MAX_NO_NODES
][MAX_NO_NODES];

4 
	gšcomšgEdge
[
MAX_NO_NODES
];

9 
	$·r£CoÜdš©eFe
()

11 
FILE
 *
å
, *
fq
;

12 
node
, 
cu¼’tNode
;

13 
cu¼’tTy³
;

14 
cu¼’tX
, 
cu¼’tY
;

15 
sÿnNode
;

16 
sÿnTy³
;

17 
sÿnX
, 
sÿnY
;

18 
cu¼’tNodeFÏg
;

19 
ch
;

20 
ŒªsmissiÚRªge
, 
š‹rã»nûRªge
;

23 
di¡ªû
;

25 
cÚÃùiv™yM©rix
[
MAX_NO_NODES
][MAX_NO_NODES];

27 
i
,
j
;

29 
i
=0;i<
MAX_NO_NODES
;i++)

31 
šcomšgEdge
[
i
] = 0;

34 
i
=0;i<
MAX_NO_NODES
;i++)

36 
j
=0;j<
MAX_NO_NODES
;j++)

38 
ÃtwÜkG¿ph
[
i
][
j
] = 
UNDEFINED
;

43 
å
 = 
	`fİ’
("coordinateFile.txt", "r");

44 
fq
 = 
	`fİ’
("networkGraph.txt", "w+");

45 
cu¼’tNode
 = 0;

47 
cu¼’tNode
 < 
MAX_NO_NODES
)

49 
	`»wšd
(
å
);

50 
cu¼’tNodeFÏg
 = 0;

51 (
ch
=
	`fg‘c
(
å
)è!ğ
EOF
)

53 if(
ch
 == '(')

55 
	`fsÿnf
(
å
,"%d",&
node
);

57 if(
cu¼’tNode
 =ğ
node
)

59 
cu¼’tNodeFÏg
 = 1;

60 
	`fg‘c
(
å
);

61 
	`fsÿnf
(
å
,"%c", &
cu¼’tTy³
);

62 
	`fg‘c
(
å
);

63 
	`fsÿnf
(
å
,"%lf", &
cu¼’tX
);

64 
	`fg‘c
(
å
);

65 
	`fsÿnf
(
å
,"%lf", &
cu¼’tY
);

67 
nodeLoÿtiÚ
[
cu¼’tNode
].
x
 = 
cu¼’tX
;

68 
nodeLoÿtiÚ
[
cu¼’tNode
].
y
 = 
cu¼’tY
;

73 if(
cu¼’tTy³
 == 'I')

75 
ŒªsmissiÚRªge
 = 
ŒªsmissiÚRªgeI
;

76 
š‹rã»nûRªge
 = 
š‹rã»nûRªgeI
;

78 if(
cu¼’tTy³
 == 'M')

80 
ŒªsmissiÚRªge
 = 
ŒªsmissiÚRªgeM
;

81 
š‹rã»nûRªge
 = 
š‹rã»nûRªgeM
;

87 
	`»wšd
(
å
);

89 (
ch
=
	`fg‘c
(
å
)è!ğ
EOF
)

91 if(
ch
 == '(')

93 
	`fsÿnf
(
å
, "%d", &
sÿnNode
);

94 
	`fg‘c
(
å
);

95 
	`fsÿnf
(
å
,"%c", &
sÿnTy³
);

96 
	`fg‘c
(
å
);

97 
	`fsÿnf
(
å
, "%lf", &
sÿnX
);

98 
	`fg‘c
(
å
);

99 
	`fsÿnf
(
å
, "%lf", &
sÿnY
);

102 if(
sÿnTy³
 == 'I')

104 
ŒªsmissiÚRªge
 = 
ŒªsmissiÚRªgeI
;

105 
š‹rã»nûRªge
 = 
š‹rã»nûRªgeI
;

108 if(
sÿnNode
 =ğ
cu¼’tNode
)

110 
cÚÃùiv™yM©rix
[
cu¼’tNode
][
sÿnNode
] = 0;

111 
ÃtwÜkG¿ph
[
cu¼’tNode
][
sÿnNode
] = 0;

115 
di¡ªû
 = ()
	`sq¹
(
	`pow
(
sÿnX
 - 
cu¼’tX
, 2è+…ow(
sÿnY
 - 
cu¼’tY
, 2));

119 if(
di¡ªû
 <ğ
ŒªsmissiÚRªge
)

121 
cÚÃùiv™yM©rix
[
cu¼’tNode
][
sÿnNode
] = 1;

122 if(
sÿnTy³
 =ğ'M' && 
cu¼’tTy³
 == 'M')

123 
ÃtwÜkG¿ph
[
cu¼’tNode
][
sÿnNode
] = 
UNDEFINED
;

126 
ÃtwÜkG¿ph
[
cu¼’tNode
][
sÿnNode
] = 1;

127 
šcomšgEdge
[
cu¼’tNode
]++;

130 if(
di¡ªû
 <ğ
š‹rã»nûRªge
)

132 
cÚÃùiv™yM©rix
[
cu¼’tNode
][
sÿnNode
] = 2;

133 
ÃtwÜkG¿ph
[
cu¼’tNode
][
sÿnNode
] = 
UNDEFINED
;

137 
cÚÃùiv™yM©rix
[
cu¼’tNode
][
sÿnNode
] = 0;

138 
ÃtwÜkG¿ph
[
cu¼’tNode
][
sÿnNode
] = 
UNDEFINED
;

146 if(
cu¼’tNodeFÏg
 == 0)

152 
cu¼’tNode
++;

158 
cu¼’tNode
 = 0;

159 
cu¼’tNode
 < 
MAX_NO_NODES
)

161 
	`»wšd
(
å
);

162 
cu¼’tNodeFÏg
 = 0;

163 (
ch
=
	`fg‘c
(
å
)è!ğ
EOF
)

165 if(
ch
 == '(')

167 
	`fsÿnf
(
å
,"%d",&
node
);

168 if(
cu¼’tNode
 =ğ
node
)

170 
cu¼’tNodeFÏg
 = 1;

171 
	`fg‘c
(
å
);

172 
	`fsÿnf
(
å
,"%c", &
cu¼’tTy³
);

174 
	`årštf
(
fq
,"%ø",
cu¼’tTy³
);

176 
i
=0; i<
MAX_NO_NODES
; i++)

178 
	`årštf
(
fq
,"%d ",
cÚÃùiv™yM©rix
[
cu¼’tNode
][
i
]);

183 if(
cu¼’tNodeFÏg
 == 0)

187 
	`årštf
(
fq
,"\n");

188 
cu¼’tNode
++;

192 
	`fşo£
(
å
);

193 
	`fşo£
(
fq
);

194 
	}
}

	@fragment.c

1 
	~"h—d”.h
"

5 
	$exŒaùSizeof
(
·ck‘FÜm©
 * 
aPack‘
)

7 
ty³
;

9 
ty³
 = 
	`EXTRACT_TYPE
(
aPack‘
->
v”_ty³_piggyback
);

11 if(
ty³
 =ğ
JOIN_REQUEST
)

12  ((
·ck‘FÜm©
è+ (
nodeJoš
));

13 if(
ty³
 =ğ
FLOW_REQUEST
)

14  ((
·ck‘FÜm©
è+ (
æowReque¡
));

15 if(
ty³
 =ğ
BW_REQUEST
)

16  ((
·ck‘FÜm©
è+ (
bwReque¡
));

17 if(
ty³
 =ğ
TEAR_DOWN
)

18  ((
·ck‘FÜm©
)+(
‹¬Down
));

19 if(
ty³
 =ğ
LINK_LEVEL_ACK
)

20  (
LINK_LEVEL_ACK_SIZE
);

21 if(
ty³
 =ğ
SCHEDULE
)

22  ((
·ck‘FÜm©
è+ (
scheduË
è+ (
	`EXTRACT_SCHEDELEM
(((scheduË *)
aPack‘
->
·ylßdPack‘
)->
schedEËm_äag_rT»e_»³©
è* (
scheduËEËm’t
)));

25 if(
ty³
 =ğ
DATA
)

26  ((
·ck‘FÜm©
)+(
d©a
)+
DATA_PACKET_SIZE
);

29 if(
ty³
 =ğ
VOICE_FLOW_REQUEST
)

30  ((
·ck‘FÜm©
è+ (
voiûFlowReque¡
));

34 if(
ty³
 =ğ
TOPOLOGY_UPDATE
)

35  ((
·ck‘FÜm©
)+(
tİŞogyUpd©e
));

37 
	}
}

40 
	$g‘S¶™SchedulšgEËm’ts
()

42 
sizeofPack‘
;

43 
cu¼’tSchedEËm
;

45 
sizeofPack‘
 = (
·ck‘FÜm©
è+ (
scheduË
);

46 
cu¼’tSchedEËm
 = 0;

48 
sizeofPack‘
 + (
scheduËEËm’t
è<ğ
MAX_PACKET_SIZE
)

50 
sizeofPack‘
 +ğ(
scheduËEËm’t
);

51 
cu¼’tSchedEËm
++;

54  
cu¼’tSchedEËm
;

55 
	}
}

57 
	$³ndšgTasks
()

59 
i
;

60 if(
”rÜR©e
 < () 0.002)

62 
³rûÁageC®lDrİ
 = ()0.0;

64 if(
”rÜR©e
 < () 0.005)

66 
³rûÁageC®lDrİ
 = ()0.01;

68 if(
”rÜR©e
 < () 0.01)

70 
³rûÁageC®lDrİ
 = ()0.05;

72 if(
”rÜR©e
 < 0.015)

74 
³rûÁageC®lDrİ
 = ()0.12;

76 if(
”rÜR©e
 < 0.02)

78 
³rûÁageC®lDrİ
 = ()0.20;

80 if(
”rÜR©e
 < 0.025)

82 
³rûÁageC®lDrİ
 = ()0.30;

84 if(
”rÜR©e
 < 0.03)

86 
³rûÁageC®lDrİ
 = ()0.40;

88 if(
”rÜR©e
 < 0.035)

90 
³rûÁageC®lDrİ
 = ()0.50;

92 if(
”rÜR©e
 < 0.040)

94 
³rûÁageC®lDrİ
 = ()0.60;

96 if(
”rÜR©e
 < 0.050)

98 
³rûÁageC®lDrİ
 = ()0.80;

102 
³rûÁageC®lDrİ
 = ()1.00;

105 
noOfSucûssC®ls
 = 0;

106 
i
=0;i<
noOfC®lsOrigš©ed
; i++)

108 if(
numSucûssC®ls
[
i
+1] == 0)

112 
noOfSucûssC®ls
 +ğ
numSucûssC®ls
[
i
+1];

116 
æowDrİDueToE2EPack‘Los£s
 = ()
noOfSucûssC®ls
 * 
³rûÁageC®lDrİ
;

125 
	}
}

129 
	$g‘NumOfF¿gm’ts
(
numofSchedEËm
)

131 
·ck‘Size
;

132 
äagm’ts
 = 1;

134 
·ck‘Size
 = (
·ck‘FÜm©
è+ (
scheduË
);

136 
numofSchedEËm
)

138 if(
·ck‘Size
 + (
scheduËEËm’t
è<ğ
MAX_PACKET_SIZE
)

140 
·ck‘Size
 +ğ(
scheduËEËm’t
);

144 
·ck‘Size
 = (
·ck‘FÜm©
è+ (
scheduË
);

145 
äagm’ts
++;

147 
numofSchedEËm
--;

149  
äagm’ts
;

150 
	}
}

	@generateRandomGraph.c

1 
	~"h—d”.h
"

3 
	#LARGE_BOUND
 3000

	)

4 
	#SMALL_BOUND
 150

	)

5 
	#AVG_MOBILE
 3

	)

7 
	#MAX_INFRA
 5

	)

8 
	#MAX_MOBILE
 (
MAX_INFRA
 * 
AVG_MOBILE
)

	)

10 
	$maš
()

12 
numNodes
, 
numMobe
;

13 
šäaId
, 
mobeId
;

14 
¿ndV®ue
;

15 
cu¼Ty³
;

16 
cu¼X
, 
cu¼Y
, 
nowX
, 
nowY
;

18 
FILE
 *
å
;

20 
cu¼X
 = -100;

21 
cu¼Y
 = 100;

23 
	`¤ªd
((è
	`time
(
NULL
));

25 
å
 = 
	`fİ’
("coordinateFile.txt","w+");

27 
numNodes
 = 0;

28 
šäaId
 = 0;

29 
mobeId
 = 
MAX_INFRA
;

31 
numNodes
 <(
MAX_INFRA
+
MAX_MOBILE
))

33 
cu¼Ty³
 = 'I';

34 
cu¼X
 += 200;

38 
	`årštf
(
å
,"(%d,%c,%d,%dè",
šäaId
,
cu¼Ty³
,
cu¼X
,
cu¼Y
);

39 
šäaId
++;

41 
numNodes
++;

43 
numMobe
 = 1;

45 
numMobe
 <=
AVG_MOBILE
)

47 
cu¼Ty³
 = 'M';

48 if(
	`¿nd
() % 2 == 1)

49 
nowX
 = 
cu¼X
 + 
	`¿nd
(è% 
SMALL_BOUND
;

52 
¿ndV®ue
 = 
	`¿nd
(è% 
SMALL_BOUND
;

53 if(
¿ndV®ue
 > 
cu¼X
)

54 
nowX
 = 
¿ndV®ue
 - 
cu¼X
;

56 
nowX
 = 
cu¼X
 - 
	`¿nd
(è% 
SMALL_BOUND
;

59 if(
	`¿nd
() % 2 == 1)

60 
nowY
 = 
cu¼Y
 + 
	`¿nd
(è% 
SMALL_BOUND
;

63 
¿ndV®ue
 = 
	`¿nd
(è% 
SMALL_BOUND
;

64 if(
¿ndV®ue
 > 
cu¼Y
)

65 
nowY
 = 
¿ndV®ue
 - 
cu¼Y
;

67 
nowY
 = 
cu¼Y
 - 
	`¿nd
(è% 
SMALL_BOUND
;

70 
	`årštf
(
å
,"(%d,%c,%d,%dè",
mobeId
,
cu¼Ty³
,
nowX
,
nowY
);

71 
mobeId
++;

72 
numNodes
++;

74 
numMobe
++;

76 
	`årštf
(
å
,"\n");

78 if(
cu¼X
 > (
LARGE_BOUND
 - 200))

80 
cu¼X
 = -100;

81 
cu¼Y
 += 225;

86 
	`fşo£
(
å
);

87  
SUCCESS
;

88 
	}
}

	@getEventStructures.c

1 
	~"h—d”.h
"

4 
	$g‘Pos™iÚ
(
node
, *
x
, *
y
, 
time
)

6 
i
,
j
,
k
;

7 
mobe_movšg
;

8 
dœeùiÚ
;

9 
¡¬t_time
;

10 
time_diff
, 
‹mp_£c
;

11 
£cÚds_–­£d
, 
æoÜ_û
;

12 
Ãw_x
, 
Ãw_y
;

14 
mobe_movšg
 = 
FALSE
;

15 
i
=0; i < 
MAX_MOVING_NODES
; i++)

17 if(
movšg_nodes
[
i
].
mobe_node
 =ğ
node
)

19 
mobe_movšg
 = 
TRUE
;

20 
dœeùiÚ
 = 
movšg_nodes
[
i
].direction;

21 
¡¬t_time
 = 
movšg_nodes
[
i
].
¡¬‹d_©
;

26 if(
mobe_movšg
 =ğ
TRUE
)

31 
time_diff
 = 
simTime
 - 
¡¬t_time
;

32 
£cÚds_–­£d
 = (è(
time_diff
/1000);

36 
dœeùiÚ
)

39 
Ãw_x
 = (
ušt16_t
è
nodeLoÿtiÚ
[
node
].
x
;

40 
Ãw_y
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
y
 + (
£cÚds_–­£d
 * 
PEDESTRIAN_SPEED
));

41 *
x
 = 
Ãw_x
;

42 *
y
 = 
Ãw_y
;

45 
Ãw_x
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
x
 + (
£cÚds_–­£d
 * (
PEDESTRIAN_SPEED
/
	`sq¹
(2))));

46 
Ãw_y
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
y
 + (
£cÚds_–­£d
 * (
PEDESTRIAN_SPEED
/
	`sq¹
(2))));

47 *
x
 = 
Ãw_x
;

48 *
y
 = 
Ãw_y
;

51 
Ãw_x
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
x
 + (
£cÚds_–­£d
 * 
PEDESTRIAN_SPEED
));

52 
Ãw_y
 = (
ušt16_t
è
nodeLoÿtiÚ
[
node
].
y
;

53 *
x
 = 
Ãw_x
;

54 *
y
 = 
Ãw_y
;

57 
Ãw_x
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
x
 + (
£cÚds_–­£d
 * (
PEDESTRIAN_SPEED
/
	`sq¹
(2))));

58 
Ãw_y
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
y
 - (
£cÚds_–­£d
 * (
PEDESTRIAN_SPEED
/
	`sq¹
(2))));

59 *
x
 = 
Ãw_x
;

60 *
y
 = 
Ãw_y
;

63 
Ãw_x
 = (
ušt16_t
è
nodeLoÿtiÚ
[
node
].
x
;

64 
Ãw_y
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
y
 - (
£cÚds_–­£d
 * 
PEDESTRIAN_SPEED
));

65 *
x
 = 
Ãw_x
;

66 *
y
 = 
Ãw_y
;

69 
Ãw_x
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
x
 - (
£cÚds_–­£d
 * (
PEDESTRIAN_SPEED
/
	`sq¹
(2))));

70 
Ãw_y
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
y
 - (
£cÚds_–­£d
 * (
PEDESTRIAN_SPEED
/
	`sq¹
(2))));

71 *
x
 = 
Ãw_x
;

72 *
y
 = 
Ãw_y
;

75 
Ãw_x
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
x
 - (
£cÚds_–­£d
 * 
PEDESTRIAN_SPEED
));

76 
Ãw_y
 = (
ušt16_t
è
nodeLoÿtiÚ
[
node
].
y
;

77 *
x
 = 
Ãw_x
;

78 *
y
 = 
Ãw_y
;

88 
Ãw_x
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
x
 - (
£cÚds_–­£d
 * (
PEDESTRIAN_SPEED
/
	`sq¹
(2))));

89 
Ãw_y
 = (
ušt16_t
è(
nodeLoÿtiÚ
[
node
].
y
 + (
£cÚds_–­£d
 * (
PEDESTRIAN_SPEED
/
	`sq¹
(2))));

90 *
x
 = 
Ãw_x
;

91 *
y
 = 
Ãw_y
;

98 if(
mobe_movšg
 =ğ
FALSE
)

100 *
x
 = 
nodeLoÿtiÚ
[
node
].x;

101 *
y
 = 
nodeLoÿtiÚ
[
node
].y;

103 
	}
}

106 
	$g‘RSSI
(
sourû
, 
de¡š©iÚ
, 
time
)

108 
di¡ªû
;

109 
¤c_x
, 
¤c_y
, 
d¡_x
, 
d¡_y
;

111 
	`g‘Pos™iÚ
(
sourû
, &
¤c_x
, &
¤c_y
, 
time
);

112 
	`g‘Pos™iÚ
(
de¡š©iÚ
, &
d¡_x
, &
d¡_y
, 
time
);

114 if(
sourû
 =ğ2 && 
simTime
 > 600000)

119 
di¡ªû
 = ()
	`sq¹
(
	`pow
(
¤c_x
 - 
d¡_x
, 2è+…ow(
¤c_y
 - 
d¡_y
, 2));

121 if(
di¡ªû
 >= 0 && distance < 5)

123 if(
di¡ªû
 >= 5 && distance < 10)

125 if(
di¡ªû
 >= 10 && distance < 15)

127 if(
di¡ªû
 >= 15 && distance < 20)

129 if(
di¡ªû
 >= 20 && distance < 25)

131 if(
di¡ªû
 >= 25 && distance < 30)

133 if(
di¡ªû
 >= 30 && distance < 35)

135 if(
di¡ªû
 >= 35 && distance < 40)

137 if(
di¡ªû
 >= 40 && distance < 45)

139 if(
di¡ªû
 >= 45 && distance < 50)

141 if(
di¡ªû
 >= 50 && distance < 55)

143 if(
di¡ªû
 >= 55 && distance < 65)

147 if(
di¡ªû
 >= 65 && distance < 75)

151 if(
di¡ªû
 >= 75 && distance < 85)

155 if(
di¡ªû
 >= 85 && distance < 95)

159 if(
di¡ªû
 >= 95 && distance < 105)

163 if(
di¡ªû
 >= 105 && distance < 120)

169 if(
di¡ªû
 >= 120 && distance < 135)

175 if(
di¡ªû
 >= 135 && distance < 155)

183 if(
di¡ªû
 >= 155 && distance < 170)

189 if(
di¡ªû
 >= 170 && distance < 185)

195 if(
di¡ªû
 >= 185 && distance < 205)

203 if(
di¡ªû
 >= 205 && distance < 225)

211 if(
di¡ªû
 >= 225 && distance < 245)

219 if(
di¡ªû
 >= 245 && distance < 255)

223 if(
di¡ªû
 >= 255 && distance < 275)

231 if(
di¡ªû
 >= 275 && distance < 295)

239 if(
di¡ªû
 >= 295 && distance < 300)

244 
	}
}

247 
scheduË
 * 
	$g‘ScheduËPack‘
(
time
, 
node
)

249 
scheduË
 * 
aScheduË
;

250 
aScheduË
 = (
scheduË
 *)
	`m®loc
((schedule));

252 
aScheduË
->
time¡amp
 = 
time
;

253 
aScheduË
->
v®idFrom
 = 
nodeID
[
node
].
scheduËV®idFrom
;

254 
aScheduË
->
äagm’tNo
 = 
nodeID
[
node
].
brßdÿ¡SchedF¿gm’tNo
;

258 
aScheduË
->
schedEËm_äag_rT»e_»³©
 = 
	`SCHEDULE_MACRO
(
nodeID
[
node
].
cu¼SchedEËm
,‚odeID[node].
mÜeF¿gm’t
,‚odeID[node].
Œ“Upd©e
,‚odeID[node].
schedR•—t
);

260  
aScheduË
;

261 
	}
}

264 
ev’t
 * 
	$g‘ScheduËEv’t
(
time
, 
tx
, 
rx
, 
ev’tTy³
 
ty³
)

266 
scheduË
 * 
aScheduË
;

267 
·ck‘FÜm©
 * 
aPack‘
;

268 
ev’t
 * 
ªEv’t
;

271 
aScheduË
 = 
	`g‘ScheduËPack‘
(
time
, 
tx
);

273 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

274 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
SCHEDULE
,
NO_PIGGYBACK
);

275 
aPack‘
->
sourû
 = 
tx
;

276 
aPack‘
->
de¡š©iÚ
 = 
BROADCAST
;

277 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aScheduË
;

279 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

280 
ªEv’t
->
time
 =ime;

281 
ªEv’t
->
node
 = 
rx
;

282 
ªEv’t
->
ty³
 =ype;

284 if(
ty³
 =ğ
TX
)

285 
aPack‘
->
rssi
 = 0;

288 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
tx
, 
rx
, 
time
);

293 
ªEv’t
->
aPack‘
 =‡Packet;

294 
ªEv’t
->
Ãxt
 = 
NULL
;

296  
ªEv’t
;

297 
	}
}

301 
ev’t
 * 
	$g‘AliveEv’t
(
time
, 
node
)

303 
ev’t
 * 
ªEv’t
;

304 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

305 
ªEv’t
->
time
 =ime;

306 
ªEv’t
->
node
 =‚ode;

307 
ªEv’t
->
ty³
 = 
MAKE_ALIVE
;

308 
ªEv’t
->
aPack‘
 = 
NULL
;

309 
ªEv’t
->
Ãxt
 = 
NULL
;

311  
ªEv’t
;

312 
	}
}

315 
ev’t
 * 
	$g‘D—dEv’t
(
time
, 
node
)

317 
ev’t
 * 
ªEv’t
;

318 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

319 
ªEv’t
->
time
 =ime;

320 
ªEv’t
->
node
 =‚ode;

321 
ªEv’t
->
ty³
 = 
MAKE_DEAD
;

322 
ªEv’t
->
aPack‘
 = 
NULL
;

323 
ªEv’t
->
Ãxt
 = 
NULL
;

325  
ªEv’t
;

326 
	}
}

329 
ev’t
 * 
	$g‘LškLev–AckEv’t
(
time
, 
node
, 
de¡š©iÚ
, 
ty³
)

331 
ev’t
 * 
ªEv’t
;

332 
·ck‘FÜm©
 * 
aPack‘
;

334 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

335 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

337 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
LINK_LEVEL_ACK
,
NO_PIGGYBACK
);

338 
aPack‘
->
sourû
 = 
node
;

339 
aPack‘
->
de¡š©iÚ
 = destination;

340 
aPack‘
->
·ylßdPack‘
 = 
NULL
;

342 
ªEv’t
->
time
 =ime;

343 
ªEv’t
->
node
 = 
de¡š©iÚ
;

344 
ªEv’t
->
ty³
 =ype;

345 if(
ty³
 =ğ
RX_END
)

347 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
node
, 
de¡š©iÚ
, 
time
);

352 
aPack‘
->
rssi
 = 0;

355 
ªEv’t
->
aPack‘
 =‡Packet;

356 
ªEv’t
->
Ãxt
 = 
NULL
;

358  
ªEv’t
;

359 
	}
}

362 
ev’t
 * 
	$g‘AckTimeoutEv’t
(
time
, 
node
)

364 
ev’t
 * 
ªEv’t
;

365 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

366 
ªEv’t
->
time
 =ime;

367 
ªEv’t
->
node
 =‚ode;

368 
ªEv’t
->
ty³
 = 
LINK_ACK_TIMEOUT
;

369 
ªEv’t
->
aPack‘
 = 
NULL
;

370 
ªEv’t
->
Ãxt
 = 
NULL
;

372  
ªEv’t
;

373 
	}
}

377 
ev’t
 * 
	$g‘JošReque¡Ev’t
(
time
, 
jošSourû
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
)

379 
nodeJoš
 * 
aJošReque¡
;

380 
·ck‘FÜm©
 * 
aPack‘
;

381 
ev’t
 * 
ªEv’t
;

383 
aJošReque¡
 = (
nodeJoš
 *)
	`m®loc
((nodeJoin));

384 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

386 
aJošReque¡
->
node
 = 
jošSourû
;

389 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
JOIN_REQUEST
,
NO_PIGGYBACK
);

390 
aPack‘
->
sourû
 = 
node
;

391 
aPack‘
->
de¡š©iÚ
 = destination;

392 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aJošReque¡
;

394 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

395 
ªEv’t
->
time
 =ime;

396 if(
ty³
 =ğ
TX
)

398 
ªEv’t
->
node
 =‚ode;

399 
aPack‘
->
rssi
 = 0;

403 
ªEv’t
->
node
 = 
de¡š©iÚ
;

404 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
node
, 
de¡š©iÚ
, 
time
);

407 
ªEv’t
->
ty³
 =ype;

408 
ªEv’t
->
aPack‘
 =‡Packet;

409 
ªEv’t
->
Ãxt
 = 
NULL
;

411  
ªEv’t
;

412 
	}
}

415 
ev’t
 * 
	$g‘TİŞogyUpd©eEv’t
(
time
, 
sourû
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
, 
upd©e_ty³
)

417 
tİŞogyUpd©e
 * 
aTİŞogyUpd©e
;

418 
·ck‘FÜm©
 * 
aPack‘
;

419 
ev’t
 * 
ªEv’t
;

421 
aTİŞogyUpd©e
 = (
tİŞogyUpd©e
 *)
	`m®loc
((topologyUpdate));

422 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

424 
aTİŞogyUpd©e
->
node
 = 
sourû
;

425 
aTİŞogyUpd©e
->
ty³
 = 
upd©e_ty³
;

427 if(
upd©e_ty³
 !ğ
REGULAR
 && upd©e_ty³ !ğ
REACTIVE
)

434 
i
,
j
,
k
;

435 
i
=0;

436 
j
=0; j < 
MAX_NO_INFRA_NODES
; j++)

438 if(
nodeID
[
sourû
].
šäa_li¡
[
j
].
is_ÃighbÜ
 =ğ
TRUE
)

440 
aTİŞogyUpd©e
->
ÃighbÜs
[
i
].
šäa_node
 = 
nodeID
[
sourû
].
šäa_li¡
[
j
].infra_node;

441 
aTİŞogyUpd©e
->
ÃighbÜs
[
i
].
rssi
 = (è
nodeID
[
sourû
].
šäa_li¡
[
j
].
av”age
;

442 
i
++;

446 ;
i
 < 
MAX_INFRA_NEIGHBORS
; i++)

448 
aTİŞogyUpd©e
->
ÃighbÜs
[
i
].
šäa_node
 = 
MAX_NO_INFRA_NODES
 + 1;

449 
aTİŞogyUpd©e
->
ÃighbÜs
[
i
].
rssi
 = 0;

452 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
TOPOLOGY_UPDATE
,
NO_PIGGYBACK
);

453 
aPack‘
->
sourû
 = 
node
;

454 
aPack‘
->
de¡š©iÚ
 = destination;

455 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aTİŞogyUpd©e
;

457 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

458 
ªEv’t
->
time
 =ime;

466 if(
ty³
 =ğ
TX
)

468 
ªEv’t
->
node
 =‚ode;

469 
aPack‘
->
rssi
 = 0;

473 
ªEv’t
->
node
 = 
de¡š©iÚ
;

474 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
node
, 
de¡š©iÚ
, 
time
);

477 
ªEv’t
->
ty³
 =ype;

478 
ªEv’t
->
aPack‘
 =‡Packet;

479 
ªEv’t
->
Ãxt
 = 
NULL
;

481  
ªEv’t
;

482 
	}
}

485 
ev’t
 * 
	$g‘VoiûMsgR–ayEv’t
(
node
, 
time
)

487 
ev’t
 * 
ªEv’t
;

488 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

489 
ªEv’t
->
time
 =ime;

490 
ªEv’t
->
node
 =‚ode;

491 
ªEv’t
->
ty³
 = 
VOICE_MSG_RELAY
;

492 
ªEv’t
->
aPack‘
 = 
NULL
;

493 
ªEv’t
->
Ãxt
 = 
NULL
;

495  
ªEv’t
;

497 
	}
}

500 
ev’t
 * 
	$g‘NodeDi§blšgEv’t
(
time
)

503 
ev’t
 * 
ªEv’t
;

504 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

505 
ªEv’t
->
time
 =ime;

506 
ªEv’t
->
node
 = 
ROOT
;

507 
ªEv’t
->
ty³
 = 
NODE_DISABLE
;

508 
ªEv’t
->
aPack‘
 = 
NULL
;

509 
ªEv’t
->
Ãxt
 = 
NULL
;

511  
ªEv’t
;

513 
	}
}

518 
ev’t
 * 
	$g‘Mob™yEv’t
(
time
)

521 
ev’t
 * 
ªEv’t
;

522 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

523 
ªEv’t
->
time
 =ime;

524 
ªEv’t
->
node
 = 
ROOT
;

525 
ªEv’t
->
ty³
 = 
MOBILITY
;

526 
ªEv’t
->
aPack‘
 = 
NULL
;

527 
ªEv’t
->
Ãxt
 = 
NULL
;

529  
ªEv’t
;

530 
	}
}

533 
ev’t
 * 
	$g‘S¹Mob™yEv’t
(
time
, 
mobe_node
, 
dœeùiÚ
)

536 
ev’t
 * 
ªEv’t
;

537 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

538 
ªEv’t
->
time
 =ime;

539 
ªEv’t
->
node
 = 
mobe_node
;

540 
ªEv’t
->
ty³
 = 
START_MOBILE
;

541 
ªEv’t
->
Ãxt
 = 
NULL
;

544 
mobe_dœeùiÚ
 * 
aMobe_DœeùiÚ
;

545 
·ck‘FÜm©
 * 
aPack‘
;

547 
aMobe_DœeùiÚ
 = (
mobe_dœeùiÚ
 *)
	`m®loc
((mobile_direction));

548 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

550 
aMobe_DœeùiÚ
->
dœeùiÚ
 = (
ušt8_t
) direction;

552 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
MOBILE_DIRECTION
,
NO_PIGGYBACK
);

553 
aPack‘
->
sourû
 = 
mobe_node
;

554 
aPack‘
->
de¡š©iÚ
 = 
mobe_node
;

555 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aMobe_DœeùiÚ
;

557 
ªEv’t
->
aPack‘
 =‡Packet;

559  
ªEv’t
;

560 
	}
}

562 
ev’t
 * 
	$g‘StİMob™yEv’t
(
time
, 
mobe_node
)

565 
ev’t
 * 
ªEv’t
;

566 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

567 
ªEv’t
->
time
 =ime;

568 
ªEv’t
->
node
 = 
mobe_node
;

569 
ªEv’t
->
ty³
 = 
STOP_MOBILE
;

570 
ªEv’t
->
aPack‘
 = 
NULL
;

571 
ªEv’t
->
Ãxt
 = 
NULL
;

575  
ªEv’t
;

576 
	}
}

579 
ev’t
 * 
	$g‘JošReque¡TimeoutEv’t
(
time
, 
node
)

581 
ev’t
 * 
ªEv’t
;

582 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

583 
ªEv’t
->
time
 =ime;

584 
ªEv’t
->
node
 =‚ode;

585 
ªEv’t
->
ty³
 = 
JOIN_REQUEST_TIMEOUT
;

586 
ªEv’t
->
aPack‘
 = 
NULL
;

587 
ªEv’t
->
Ãxt
 = 
NULL
;

589  
ªEv’t
;

590 
	}
}

594 
ev’t
 * 
	$g‘FlowReque¡TimeoutEv’t
(
time
, 
node
)

597 
ev’t
 * 
ªEv’t
;

598 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

599 
ªEv’t
->
time
 =ime;

600 
ªEv’t
->
node
 =‚ode;

601 
ªEv’t
->
ty³
 = 
JOIN_REQUEST_TIMEOUT
;

602 
ªEv’t
->
aPack‘
 = 
NULL
;

603 
ªEv’t
->
Ãxt
 = 
NULL
;

605  
ªEv’t
;

606 
	}
}

608 
ev’t
 * 
	$g‘FlowReque¡Ev’t
(
time
, 
æowSourû
, 
æowDe¡š©iÚ
, 
æowId_bwReque¡
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
)

611 
æowReque¡
 * 
aFlowReque¡
;

612 
·ck‘FÜm©
 * 
aPack‘
;

613 
ev’t
 * 
ªEv’t
;

615 
aFlowReque¡
 = (
æowReque¡
 *)
	`m®loc
((flowRequest));

616 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

618 
aFlowReque¡
->
e2eSourû
 = 
æowSourû
;

619 
aFlowReque¡
->
e2eDe¡š©iÚ
 = 
æowDe¡š©iÚ
;

620 
aFlowReque¡
->
æowId_bwReque¡
 = flowId_bwRequest;

622 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
FLOW_REQUEST
,
NO_PIGGYBACK
);

623 
aPack‘
->
sourû
 = 
node
;

624 
aPack‘
->
de¡š©iÚ
 = destination;

625 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aFlowReque¡
;

627 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

628 
ªEv’t
->
time
 =ime;

629 if(
ty³
 =ğ
TX
)

631 
ªEv’t
->
node
 =‚ode;

632 
aPack‘
->
rssi
 = 0;

636 
ªEv’t
->
node
 = 
de¡š©iÚ
;

637 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
node
, 
de¡š©iÚ
, 
time
);

640 
ªEv’t
->
ty³
 =ype;

641 
ªEv’t
->
aPack‘
 =‡Packet;

642 
ªEv’t
->
Ãxt
 = 
NULL
;

644  
ªEv’t
;

645 
	}
}

650 
ev’t
 * 
	$g‘VoiûFlowReque¡Ev’t
(
time
, 
æowSourû
, 
æowId_bwReque¡
, 
node
, 
de¡š©iÚ
, 
e2eDe¡
, 
voiûMsgDu¿tiÚ
, 
ev’tTy³
 
ty³
)

652 
voiûFlowReque¡
 * 
aFlowReque¡
;

653 
·ck‘FÜm©
 * 
aPack‘
;

654 
ev’t
 * 
ªEv’t
;

658 
aFlowReque¡
 = (
voiûFlowReque¡
 *)
	`m®loc
((voiceFlowRequest));

659 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

661 
aFlowReque¡
->
e2eSourû
 = 
æowSourû
;

663 
aFlowReque¡
->
æowId_bwReque¡
 = flowId_bwRequest;

664 
aFlowReque¡
->
ov”®Ë2eDe¡š©iÚ
 = 
e2eDe¡
;

665 
aFlowReque¡
->
voiûMsgDu¿tiÚ
 = voiceMsgDuration;

668 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
VOICE_FLOW_REQUEST
,
NO_PIGGYBACK
);

669 
aPack‘
->
sourû
 = 
node
;

670 
aPack‘
->
de¡š©iÚ
 = destination;

671 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aFlowReque¡
;

673 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

674 
ªEv’t
->
time
 =ime;

675 if(
ty³
 =ğ
TX
)

677 
ªEv’t
->
node
 =‚ode;

678 
aPack‘
->
rssi
 = 0;

682 
ªEv’t
->
node
 = 
de¡š©iÚ
;

683 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
node
, 
de¡š©iÚ
, 
time
);

686 
ªEv’t
->
ty³
 =ype;

687 
ªEv’t
->
aPack‘
 =‡Packet;

688 
ªEv’t
->
Ãxt
 = 
NULL
;

690 
	`årštf
(
vm
,"\Àg‘VoiûFlowReque¡Ev’ˆfunùiÚy³ %d by‚od%d \n",
ty³
, 
node
);

693  
ªEv’t
;

695 
	}
}

698 
ev’t
 * 
	$g‘VoiûMsgCheckEv’t
(
time
)

700 
ev’t
 * 
ªEv’t
;

701 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

703 
ªEv’t
->
time
 =ime;

704 
ªEv’t
->
ty³
 = 
VOICE_MSG_CHECK
;

705 
ªEv’t
->
aPack‘
 = 
NULL
;

706 
ªEv’t
->
Ãxt
 = 
NULL
;

707 
ªEv’t
->
node
 = 
ROOT
;

708 
	}
}

711 
ev’t
 * 
	$g‘StÜageC­ac™yEv’t
(
time
)

713 
ev’t
 * 
ªEv’t
;

714 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

716 
ªEv’t
->
time
 =ime;

717 
ªEv’t
->
ty³
 = 
STORE_CAP
;

718 
ªEv’t
->
aPack‘
 = 
NULL
;

719 
ªEv’t
->
Ãxt
 = 
NULL
;

720 
ªEv’t
->
node
 = 
ROOT
;

721 
	}
}

727 
ev’t
 * 
	$g‘BªdwidthReque¡Ev’t
(
time
, 
æowId_bwReque¡
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
)

730 
bwReque¡
 * 
aBwReque¡
;

731 
·ck‘FÜm©
 * 
aPack‘
;

732 
ev’t
 * 
ªEv’t
;

734 
aBwReque¡
 = (
bwReque¡
 *)
	`m®loc
((bwRequest));

735 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

737 
aBwReque¡
->
æowId_bwReque¡
 = flowId_bwRequest;

739 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
BW_REQUEST
,
NO_PIGGYBACK
);

740 
aPack‘
->
sourû
 = 
node
;

741 
aPack‘
->
de¡š©iÚ
 = destination;

742 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aBwReque¡
;

744 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

745 
ªEv’t
->
time
 =ime;

746 if(
ty³
 =ğ
TX
)

748 
ªEv’t
->
node
 =‚ode;

749 
aPack‘
->
rssi
 = 0;

753 
ªEv’t
->
node
 = 
de¡š©iÚ
;

754 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
node
, 
de¡š©iÚ
, 
time
);

757 
ªEv’t
->
ty³
 =ype;

758 
ªEv’t
->
aPack‘
 =‡Packet;

759 
ªEv’t
->
Ãxt
 = 
NULL
;

761  
ªEv’t
;

762 
	}
}

764 
ev’t
 * 
	$g‘BªdwidthTimeoutEv’t
(
time
, 
æowId
)

766 
ev’t
 * 
ªEv’t
;

768 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

769 
ªEv’t
->
time
 =ime;

770 
ªEv’t
->
node
 = 
æowId
;

771 
ªEv’t
->
ty³
 = 
BW_REQUEST_TIMEOUT
;

772 
ªEv’t
->
aPack‘
 = 
NULL
;

773 
ªEv’t
->
Ãxt
 = 
NULL
;

775  
ªEv’t
;

776 
	}
}

780 
ev’t
 * 
	$g‘CÚ‹ÁiÚSlÙEv’t
(
time
, 
node
)

782 
ev’t
 * 
ªEv’t
;

783 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

784 
ªEv’t
->
time
 =ime;

785 
ªEv’t
->
node
 =‚ode;

786 
ªEv’t
->
ty³
 = 
CONTENTION_SLOT_BEGINS
;

787 
ªEv’t
->
aPack‘
 = 
NULL
;

788 
ªEv’t
->
Ãxt
 = 
NULL
;

790  
ªEv’t
;

791 
	}
}

793 
ev’t
 * 
	$g‘BackoffCÚ‹ÁiÚSlÙEv’t
(
time
, 
node
)

795 
ev’t
 * 
ªEv’t
;

796 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

797 
ªEv’t
->
time
 =ime;

798 
ªEv’t
->
node
 =‚ode;

799 
ªEv’t
->
ty³
 = 
CONTENTION_SLOT_BACKOFF
;

800 
ªEv’t
->
aPack‘
 = 
NULL
;

801 
ªEv’t
->
Ãxt
 = 
NULL
;

803  
ªEv’t
;

804 
	}
}

807 
ev’t
 * 
	$g‘D©aSourûS’dEv’t
(
time
, 
node
, 
Ëngth
, 
£qNumb”
, 
e2eSourû
, 
e2eDe¡š©iÚ
, 
æowId
, 
sourû
, 
de¡š©iÚ
, 
¦ÙNo
, 
ev’tTy³
 
ty³
)

809 
d©a
 * 
aD©a
;

810 
·ck‘FÜm©
 * 
aPack‘
;

811 
ev’t
 * 
ªEv’t
;

813 
aD©a
 = (
d©a
 *)
	`m®loc
((data));

814 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

816 
aD©a
->
Ëngth
 =†ength;

817 
aD©a
->
£qNumb”
 = seqNumber;

818 
aD©a
->
e2eSourû
 =ƒ2eSource;

819 
aD©a
->
e2eDe¡š©iÚ
 =ƒ2eDestination;

820 
aD©a
->
æowId
 = flowId;

821 
aD©a
->
¦ÙNo
 = slotNo;

823 if(
æowId
 == 193)

828 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
DATA
,
NO_PIGGYBACK
);

829 
aPack‘
->
sourû
 = source;

830 
aPack‘
->
de¡š©iÚ
 = destination;

831 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aD©a
;

833 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

834 
ªEv’t
->
time
 =ime;

835 if(
ty³
 =ğ
TX
)

837 
ªEv’t
->
node
 =‚ode;

838 
aPack‘
->
rssi
 = 0;

842 
ªEv’t
->
node
 = 
de¡š©iÚ
;

843 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
node
, 
de¡š©iÚ
, 
time
);

846 
ªEv’t
->
ty³
 =ype;

847 
ªEv’t
->
aPack‘
 =‡Packet;

848 
ªEv’t
->
Ãxt
 = 
NULL
;

852  
ªEv’t
;

854 
	}
}

857 
ev’t
 * 
	$g‘D©aS’dEv’t
(
time
, 
node
, 
scheduËEËm’t
 
šputEËm’t
)

859 
ev’t
 * 
ªEv’t
;

860 
·ck‘FÜm©
 * 
aPack‘
;

861 
scheduËEËm’t
 * 
ªEËm’t
;

863 
ªEËm’t
 = (
scheduËEËm’t
 *)
	`m®loc
((scheduleElement));

864 
ªEËm’t
->
Œªsm™‹r
 = 
šputEËm’t
.transmitter;

865 
ªEËm’t
->
»ûiv”
 = 
šputEËm’t
.receiver;

866 
ªEËm’t
->
æowId_chªÃl
 = 
šputEËm’t
.flowId_channel;

867 
ªEËm’t
->
¦ÙToS¹
 = 
šputEËm’t
.slotToStart;

868 
ªEËm’t
->
numSlÙs
 = 
šputEËm’t
.numSlots;

870 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

871 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
SCHEDULE_ELEMENT
,
NO_PIGGYBACK
);

872 
aPack‘
->
sourû
 = 
node
;

873 
aPack‘
->
de¡š©iÚ
 = 
node
;

874 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
ªEËm’t
;

876 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

877 
ªEv’t
->
time
 =ime;

878 
ªEv’t
->
node
 =‚ode;

879 
ªEv’t
->
ty³
 = 
DATA_SLOT_TRANSMIT
;

880 
ªEv’t
->
aPack‘
 =‡Packet;

881 
ªEv’t
->
Ãxt
 = 
NULL
;

885  
ªEv’t
;

886 
	}
}

889 
ev’t
 * 
	$g‘T—rDownEv’t
(
time
, 
æowId
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
)

892 
i
;

893 
i
=0;i<
numOfFlowsInProg»ss
;i++)

895 if(
æowSt
[
i
].
æowId
 =ğæowId && flowSt[i].
voiûFlow
 == 1)

899 
	`årštf
(
vm
,"g‘—¸dowÀev’ˆÿÎed fÜ voiû flow id %dy³ %d\n",
æowSt
[
i
].
æowId
,
ty³
);

906 
‹¬Down
 * 
aT—rDown
;

907 
·ck‘FÜm©
 * 
aPack‘
;

908 
ev’t
 * 
ªEv’t
;

910 
aT—rDown
 = (
‹¬Down
 *)
	`m®loc
((tearDown));

911 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

913 
aT—rDown
->
æowId
 = flowId;

916 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
TEAR_DOWN
,
NO_PIGGYBACK
);

917 
aPack‘
->
sourû
 = 
node
;

918 
aPack‘
->
de¡š©iÚ
 = destination;

919 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aT—rDown
;

921 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

922 
ªEv’t
->
time
 =ime;

923 if(
ty³
 =ğ
TX
)

925 
ªEv’t
->
node
 =‚ode;

926 
aPack‘
->
rssi
 = 0;

930 
ªEv’t
->
node
 = 
de¡š©iÚ
;

931 
aPack‘
->
rssi
 = 
	`g‘RSSI
(
node
, 
de¡š©iÚ
, 
time
);

934 
ªEv’t
->
ty³
 =ype;

935 
ªEv’t
->
aPack‘
 =‡Packet;

936 
ªEv’t
->
Ãxt
 = 
NULL
;

938  
ªEv’t
;

939 
	}
}

941 
ev’t
 * 
	$g‘ScheduËReû±iÚTimeout
(
time
, 
node
)

943 
ev’t
 * 
ªEv’t
;

944 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

945 
ªEv’t
->
time
 =ime;

946 
ªEv’t
->
node
 =‚ode;

947 
ªEv’t
->
ty³
 = 
KEEP_JOINED_TIMEOUT
;

948 
ªEv’t
->
aPack‘
 = 
NULL
;

949 
ªEv’t
->
Ãxt
 = 
NULL
;

951  
ªEv’t
;

952 
	}
}

954 
ev’t
 * 
	$g‘NextEx³ùedScheduËEv’t
(
time
, 
node
)

956 
ev’t
 * 
ªEv’t
;

957 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

958 
ªEv’t
->
time
 =ime;

959 
ªEv’t
->
node
 =‚ode;

960 
ªEv’t
->
ty³
 = 
SCHEDULE_RECEPTION_TIMEOUT
;

961 
ªEv’t
->
aPack‘
 = 
NULL
;

962 
ªEv’t
->
Ãxt
 = 
NULL
;

964  
ªEv’t
;

965 
	}
}

968 
ev’t
 * 
	$g‘NextEx³ùedF¿gm’tEv’t
(
time
, 
node
, 
šäa
)

972 
ev’t
 * 
ªEv’t
;

973 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

974 
ªEv’t
->
time
 =ime;

975 
ªEv’t
->
node
 =‚ode;

976 
ªEv’t
->
ty³
 = 
FRAGMENT_RECEPTION_TIMEOUT
;

978 
ex³ùed_äagm’t
 * 
aEx³ùed_F¿gm’t
;

979 
·ck‘FÜm©
 * 
aPack‘
;

981 
aEx³ùed_F¿gm’t
 = (
ex³ùed_äagm’t
 *)
	`m®loc
((expected_fragment));

982 
aPack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

984 
aEx³ùed_F¿gm’t
->
šäa_node
 = (
ušt8_t
è
šäa
;

986 
aPack‘
->
v”_ty³_piggyback
 = 
	`VER_TYPE_PIGGYBACK
(
VERSION
,
EXPECTED_FRAGMENT
,
NO_PIGGYBACK
);

987 
aPack‘
->
sourû
 = 
node
;

988 
aPack‘
->
de¡š©iÚ
 = 
node
;

989 
aPack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aEx³ùed_F¿gm’t
;

991 
ªEv’t
->
aPack‘
 =‡Packet;

992 
ªEv’t
->
Ãxt
 = 
NULL
;

995  
ªEv’t
;

996 
	}
}

999 
ev’t
 * 
	$g‘NewScheduËP¬amEv’t
(
time
, 
node
)

1001 
ev’t
 * 
ªEv’t
;

1002 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

1003 
ªEv’t
->
time
 =ime;

1004 
ªEv’t
->
node
 =‚ode;

1005 
ªEv’t
->
ty³
 = 
START_NEW_SCHEDULE
;

1006 
ªEv’t
->
aPack‘
 = 
NULL
;

1007 
ªEv’t
->
Ãxt
 = 
NULL
;

1009  
ªEv’t
;

1010 
	}
}

1013 
ev’t
 * 
	$g‘CÚ‹ÁiÚReû±iÚEv’t
(
time
, 
node
, 
ev’tTy³
 
ty³
)

1015 
ev’t
 * 
ªEv’t
;

1016 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

1017 
ªEv’t
->
time
 =ime;

1018 
ªEv’t
->
node
 =‚ode;

1020 if(
ty³
 =ğ
RX_BEGIN
)

1021 
ªEv’t
->
ty³
 = 
CONTENTION_RX_BEGIN
;

1022 if(
ty³
 =ğ
RX_END
)

1023 
ªEv’t
->
ty³
 = 
CONTENTION_RX_END
;

1025 
ªEv’t
->
aPack‘
 = 
NULL
;

1026 
ªEv’t
->
Ãxt
 = 
NULL
;

1028  
ªEv’t
;

1030 
	}
}

1032 
ev’t
 * 
	$g‘D©aReû±iÚEv’t
(
time
, 
node
, 
ev’tTy³
 
ty³
)

1034 
ev’t
 * 
ªEv’t
;

1035 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

1036 
ªEv’t
->
time
 =ime;

1037 
ªEv’t
->
node
 =‚ode;

1039 if(
ty³
 =ğ
RX_BEGIN
)

1040 
ªEv’t
->
ty³
 = 
DATA_RX_BEGIN
;

1041 if(
ty³
 =ğ
RX_END
)

1042 
ªEv’t
->
ty³
 = 
DATA_RX_END
;

1044 
ªEv’t
->
aPack‘
 = 
NULL
;

1045 
ªEv’t
->
Ãxt
 = 
NULL
;

1047  
ªEv’t
;

1049 
	}
}

1050 
ev’t
 * 
	$g‘StİT¿nsmissiÚEv’t
(
time
, 
node
)

1052 
ev’t
 * 
ªEv’t
;

1053 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

1054 
ªEv’t
->
time
 =ime;

1055 
ªEv’t
->
node
 =‚ode;

1056 
ªEv’t
->
ty³
 = 
STOP_TRANSMISSION
;

1057 
ªEv’t
->
aPack‘
 = 
NULL
;

1058 
ªEv’t
->
Ãxt
 = 
NULL
;

1059 
	}
}

1061 
ev’t
 * 
	$g‘HªdËCÚ‹ÁiÚSlÙEv’t
(
time
, 
node
)

1063 
ev’t
 * 
ªEv’t
;

1064 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

1065 
ªEv’t
->
time
 =ime;

1066 
ªEv’t
->
node
 =‚ode;

1067 
ªEv’t
->
ty³
 = 
HANDLE_CONTENTION_SLOT
;

1068 
ªEv’t
->
aPack‘
 = 
NULL
;

1069 
ªEv’t
->
Ãxt
 = 
NULL
;

1071  
ªEv’t
;

1072 
	}
}

1074 
ev’t
 * 
	$g‘CªS¹FlowReque¡Ev’t
(
time
, 
node
)

1076 
	`årštf
(
dump
,"Nodjošed, insidg‘CªS¹FlowReque¡Ev’ˆfÜ‚od%d\n",
node
);

1077 
ev’t
 * 
ªEv’t
;

1078 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

1079 
ªEv’t
->
time
 =ime;

1080 
ªEv’t
->
node
 =‚ode;

1081 
ªEv’t
->
ty³
 = 
CAN_START_FLOW
;

1082 
ªEv’t
->
aPack‘
 = 
NULL
;

1083 
ªEv’t
->
Ãxt
 = 
NULL
;

1085  
ªEv’t
;

1087 
	}
}

1089 
ev’t
 * 
	$g‘G’”©eFlowReque¡Ev’t
(
time
, 
æowId
)

1091 
ev’t
 * 
ªEv’t
;

1092 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

1093 
ªEv’t
->
time
 =ime;

1094 
ªEv’t
->
node
 = 
æowId
;

1095 
ªEv’t
->
ty³
 = 
GENERATE_FLOW_REQUEST
;

1096 
ªEv’t
->
aPack‘
 = 
NULL
;

1097 
ªEv’t
->
Ãxt
 = 
NULL
;

1098 
	`årštf
(
dump
,"NEXT_FLOW_REQUESTƒv’ˆg’”©ed fÜ‚od%d\n",
æowId
);

1099  
ªEv’t
;

1100 
	}
}

1102 
ev’t
 * 
	$g‘NextFlowReque¡Ev’t
(
time
, 
node
)

1104 
ev’t
 * 
ªEv’t
;

1105 
ªEv’t
 = (
ev’t
 *)
	`m®loc
((event));

1106 
ªEv’t
->
time
 =ime;

1107 
ªEv’t
->
node
 =‚ode;

1108 
ªEv’t
->
ty³
 = 
NEXT_FLOW_REQUEST
;

1109 
ªEv’t
->
aPack‘
 = 
NULL
;

1110 
ªEv’t
->
Ãxt
 = 
NULL
;

1111 
	`årštf
(
dump
,"NEXT_FLOW_REQUESTƒv’ˆg’”©ed fÜ‚od%d\n",
node
);

1112  
ªEv’t
;

1113 
	}
}

1116 
ev’t
 * 
	$g‘TİŞogyCheckEv’t
(
time
)

1118 
ev’t
 * 
ªEv’t
;

1119 
ªEv’t
 = (
ev’t
*)
	`m®loc
((event));

1121 
ªEv’t
->
time
 =ime;

1122 
ªEv’t
->
node
 = 
ROOT
;

1123 
ªEv’t
->
ty³
 = 
TOPOLOGY_UPDATE_CHECK
;

1124 
ªEv’t
->
aPack‘
 = 
NULL
;

1125 
ªEv’t
->
Ãxt
 = 
NULL
;

1127  
ªEv’t
;

1128 
	}
}

	@handleContentionSlot.c

1 
	~"h—d”.h
"

4 
	$hªdËCÚ‹ÁiÚSlÙ
(
node
)

6 
ev’t
 * 
ªEv’t
;

7 
·ck‘FÜm©
 * 
aPack‘
;

8 
·ck‘FÜm©
 * 
Ùh”Pack‘
;

9 
sizeofPack‘
, 
šdex
;

10 
backoff
;

11 
ty³
, 
æowSourû
;

12 
l
;

13 
‹mpTime
, 
cÚ‹ÁiÚSlÙBound¬y
;

17 if(
nodeID
[
node
].
numOfPack‘sInQueue
 <= 0)

18  
SUCCESS
;

20 
aPack‘
 = 
nodeID
[
node
].
·ck‘Queue
[nodeID[node].
cÚŒŞFrÚt
];

22 if(
	`cÚ‹ÁiÚF¿me
(
nodeID
[
node
].
cÚ‹ÁiÚProb
è=ğ
FALSE
)

31  
SUCCESS
;

35 if(
aPack‘
 =ğ
NULL
)

37 
	`årštf
(
¡d”r
, "\n Sanity check failed in handleContentionSlot:‚ull…acket");

38 
	`ex™
(0);

40 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

42 if(
nodeID
[
node
].
·»Á
 =ğ
UNDEFINED
)

45 if(
nodeID
[
node
].
wasO½hª
 =ğ
TRUE
)

47  
SUCCESS
;

54 
nodeID
[
node
].
¡©e
 = 
NOT_JOINED
;

56 
‹mpTime
 = 
simTime
;

58 
‹mpTime
 +ğ(
FRAME_DURATION
 - 
	`fmod
(tempTime, FRAME_DURATION));

60 
cÚ‹ÁiÚSlÙBound¬y
 = 
‹mpTime
 + (()10*
FRAME_DURATION
è+ (
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
);

62 
ªEv’t
 = 
	`g‘CÚ‹ÁiÚSlÙEv’t
(
cÚ‹ÁiÚSlÙBound¬y
, 
node
);

63 
	`š£¹Ev’t
(
ªEv’t
);

66  
SUCCESS
;

71 if(
nodeID
[nodeID[
node
].
·»Á
].
¡©e
 =ğ
DEAD
)

73  
SUCCESS
;

91 
šdex
 = 0; index < 
nodeID
[
node
].
numNeighbÜs
; index++)

93 if(
nodeID
[nodeID[
node
].
ÃighbÜLi¡
[
šdex
]].
·ck‘BešgT¿nsm™‹d
 =ğ
TRUE
)

95 if(
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
] =ğnodeID[node].
·»Á
)

103  
SUCCESS
;

118 if(
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
] !ğnodeID[node].
·»Á
)

121 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

123 
ªEv’t
 = 
	`g‘CÚ‹ÁiÚReû±iÚEv’t
(
simTime
, 
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
], 
RX_BEGIN
);

124 
	`š£¹Ev’t
(
ªEv’t
);

126 
ªEv’t
 = 
	`g‘CÚ‹ÁiÚReû±iÚEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
], 
RX_END
);

127 
	`š£¹Ev’t
(
ªEv’t
);

129 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

130 
ªEv’t
 = 
	`g‘StİT¿nsmissiÚEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
);

131 
	`š£¹Ev’t
(
ªEv’t
);

146 
backoff
 = 0;

149 if(()(
CONTROL_SLOT_DURATION
 * 
NO_OF_CONTROL_SLOTS
 + 
CONTENTION_SLOT_DURATION
 * 
NO_OF_CONTENTION_SLOTS
è- 
	`fmod
((
simTime
 + 
backoff
 + 
PACKET_TX_TIME
), 
FRAME_DURATION
) >= 0)

153 
ty³
 = 
	`EXTRACT_TYPE
(
aPack‘
->
v”_ty³_piggyback
);

154 if(
ty³
 =ğ
JOIN_REQUEST
)

157 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

159 
ªEv’t
 = 
	`g‘JošReque¡Ev’t
(
simTime
 + 
backoff
, ((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
,‚ode, 
nodeID
[node].
·»Á
, 
RX_BEGIN
);

160 
	`š£¹Ev’t
(
ªEv’t
);

162 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

164 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

165 
ªEv’t
 = 
	`g‘JošReque¡Ev’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
), ((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
,‚ode, 
nodeID
[node].
·»Á
, 
RX_END
);

166 
	`š£¹Ev’t
(
ªEv’t
);

171 
nodeSt
[
node
].
numChªÃlCÚŒŞPack‘Los£s
++;

174 
nodeID
[
node
].
ex³ùšgLškAck
 = 
TRUE
;

176 
ªEv’t
 = 
	`g‘AckTimeoutEv’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
è+()
ACK_TIMEOUT
, 
node
);

177 
	`š£¹Ev’t
(
ªEv’t
);

180 if(
ty³
 =ğ
TOPOLOGY_UPDATE
)

185 
‹mp
, 
‹mp1
, 
‹mp2
;

187 
ªEv’t
 = 
	`g‘TİŞogyUpd©eEv’t
(
simTime
 + 
backoff
, ((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
node
,‚ode, 
nodeID
[node].
·»Á
, 
RX_BEGIN
, ((tİŞogyUpd©*ïPack‘->·ylßdPack‘)->
ty³
);

188 
	`š£¹Ev’t
(
ªEv’t
);

190 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

192 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

194 
‹mp
 = ()(
simTime
 + 
backoff
);

195 
‹mp1
 = ()(
sizeofPack‘
*8)/()
DATA_RATE
;

197 
ªEv’t
 = 
	`g‘TİŞogyUpd©eEv’t
(()(
simTime
 + 
backoff
 + 
‹mp1
), ((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
node
,‚ode, 
nodeID
[node].
·»Á
, 
RX_END
, ((tİŞogyUpd©*ïPack‘->·ylßdPack‘)->
ty³
);

198 
	`š£¹Ev’t
(
ªEv’t
);

202 
nodeID
[
node
].
numOfTİŞogyUpd©esS’t
++;

221 
nodeID
[
node
].
ex³ùšgLškAck
 = 
TRUE
;

223 
ªEv’t
 = 
	`g‘AckTimeoutEv’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
è+()
ACK_TIMEOUT
, 
node
);

224 
	`š£¹Ev’t
(
ªEv’t
);

229 if(
ty³
 =ğ
FLOW_REQUEST
)

231 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

233 
	`årštf
(
dump
,"InsidhªdËCÚ‹ÁiÚSlÙ fÜ‚od%d\n",
node
);

234 
ªEv’t
 = 
	`g‘FlowReque¡Ev’t
(
simTime
 + 
backoff
, ((
æowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
e2eSourû
, ((æowReque¡ *ïPack‘->·ylßdPack‘)->
e2eDe¡š©iÚ
, ((æowReque¡ *ïPack‘->·ylßdPack‘)->
æowId_bwReque¡
, 
node
, 
nodeID
[node].
·»Á
, 
RX_BEGIN
);

235 
	`š£¹Ev’t
(
ªEv’t
);

236 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

237 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

238 
ªEv’t
 = 
	`g‘FlowReque¡Ev’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
), ((
æowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
e2eSourû
, ((æowReque¡ *ïPack‘->·ylßdPack‘)->
e2eDe¡š©iÚ
, ((æowReque¡ *ïPack‘->·ylßdPack‘)->
æowId_bwReque¡
, 
node
, 
nodeID
[node].
·»Á
, 
RX_END
);

239 
	`š£¹Ev’t
(
ªEv’t
);

244 
nodeSt
[
node
].
numChªÃlCÚŒŞPack‘Los£s
++;

246 
nodeID
[
node
].
ex³ùšgLškAck
 = 
TRUE
;

247 
ªEv’t
 = 
	`g‘AckTimeoutEv’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
è+ ()
ACK_TIMEOUT
, 
node
);

248 
	`š£¹Ev’t
(
ªEv’t
);

251 if(
ty³
 =ğ
BW_REQUEST
)

254 
l
=0;†<
numOfFlowsInProg»ss
;†++)

257 if(
æowSt
[
l
].
æowId
 =ğ
	`EXTRACT_FLOWID
(((
bwReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
))

259 
æowSourû
 = 
æowSt
[
l
].
sourû
;

264 if(
l
==
numOfFlowsInProg»ss
)

268 
	`»moveFromQueue
(
node
);

270  
SUCCESS
;

273 if(
æowSourû
 =ğ
node
 && 
nodeID
[node].
æowT—»dDown
 =ğ
TRUE
)

275 
	`»moveFromQueue
(
node
);

276  
SUCCESS
;

281 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

283 
ªEv’t
 = 
	`g‘BªdwidthReque¡Ev’t
(
simTime
 + 
backoff
, ((
bwReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
, 
node
, 
nodeID
[node].
·»Á
, 
RX_BEGIN
);

284 
	`š£¹Ev’t
(
ªEv’t
);

285 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

286 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

287 
ªEv’t
 = 
	`g‘BªdwidthReque¡Ev’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
),((
bwReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
, 
node
, 
nodeID
[node].
·»Á
, 
RX_END
);

288 
	`š£¹Ev’t
(
ªEv’t
);

293 
nodeSt
[
node
].
numChªÃlCÚŒŞPack‘Los£s
++;

295 
nodeID
[
node
].
ex³ùšgLškAck
 = 
TRUE
;

296 
ªEv’t
 = 
	`g‘AckTimeoutEv’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
è+ ()
ACK_TIMEOUT
, 
node
);

297 
	`š£¹Ev’t
(
ªEv’t
);

300 if(
ty³
 =ğ
TEAR_DOWN
)

303 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

305 
ªEv’t
 = 
	`g‘T—rDownEv’t
(
simTime
 + 
backoff
, ((
‹¬Down
 *)
aPack‘
->
·ylßdPack‘
)->
æowId
, 
node
, 
nodeID
[node].
·»Á
, 
RX_BEGIN
);

306 
	`š£¹Ev’t
(
ªEv’t
);

307 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

308 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

309 
ªEv’t
 = 
	`g‘T—rDownEv’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
), ((
‹¬Down
 *)
aPack‘
->
·ylßdPack‘
)->
æowId
, 
node
, 
nodeID
[node].
·»Á
, 
RX_END
);

310 
	`š£¹Ev’t
(
ªEv’t
);

315 
nodeSt
[
node
].
numChªÃlCÚŒŞPack‘Los£s
++;

317 
nodeID
[
node
].
ex³ùšgLškAck
 = 
TRUE
;

318 
ªEv’t
 = 
	`g‘AckTimeoutEv’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
è+ ()
ACK_TIMEOUT
, 
node
);

319 
	`š£¹Ev’t
(
ªEv’t
);

323 if(
ty³
 =ğ
VOICE_FLOW_REQUEST
)

324 { 
¤c
, 
e2ed¡
;

327 
¤c
 = ((
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
e2eSourû
;

328 
e2ed¡
 = ((
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
ov”®Ë2eDe¡š©iÚ
;

329 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

331 
ªEv’t
 = 
	`g‘VoiûFlowReque¡Ev’t
(
simTime
 + 
backoff
, ((
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
e2eSourû
, ((voiûFlowReque¡ *ïPack‘->·ylßdPack‘)->
æowId_bwReque¡
, 
node
, 
nodeID
[node].
·»Á
, ((voiûFlowReque¡ *ïPack‘->·ylßdPack‘)->
ov”®Ë2eDe¡š©iÚ
, ((voiûFlowReque¡ *ïPack‘->·ylßdPack‘)->
voiûMsgDu¿tiÚ
, 
RX_BEGIN
);

332 
	`š£¹Ev’t
(
ªEv’t
);

333 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

334 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

335 
ªEv’t
 = 
	`g‘VoiûFlowReque¡Ev’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
), ((
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
e2eSourû
, ((voiûFlowReque¡ *ïPack‘->·ylßdPack‘)->
æowId_bwReque¡
, 
node
, 
nodeID
[node].
·»Á
, ((voiûFlowReque¡ *ïPack‘->·ylßdPack‘)->
ov”®Ë2eDe¡š©iÚ
, ((voiûFlowReque¡ *ïPack‘->·ylßdPack‘)->
voiûMsgDu¿tiÚ
, 
RX_END
);

336 
	`š£¹Ev’t
(
ªEv’t
);

341 
nodeSt
[
node
].
numChªÃlCÚŒŞPack‘Los£s
++;

343 
nodeID
[
node
].
ex³ùšgLškAck
 = 
TRUE
;

344 
ªEv’t
 = 
	`g‘AckTimeoutEv’t
(
simTime
 + 
backoff
 + (()
sizeofPack‘
*8/()
DATA_RATE
è+ ()
ACK_TIMEOUT
, 
node
);

345 
	`š£¹Ev’t
(
ªEv’t
);

347 
	`årštf
(
vm
,"Reached here, in handlecontentionslot, inserted RX_ENDƒvent inƒvent queue\n");

348 
	`årštf
(
vm
,"Sourû %dƒ2eDe¡š©iÚ %d \n",
¤c
, 
e2ed¡
);

355 
	}
}

360 
	$hªdËCÚ‹ÁiÚPack‘Node
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

362 
	`årštf
(
dump
,"InsidhªdËCÚ‹ÁiÚPack‘NodfÜ‚od%d\n",
node
);

363 
ev’t
 * 
ªEv’t
;

364 
sizeofPack‘
;

365 
ty³
;

369 
ty³
 = 
	`EXTRACT_TYPE
(
aPack‘
->
v”_ty³_piggyback
);

370 if(
ty³
 =ğ
VOICE_FLOW_REQUEST
)

372 
	`årštf
(
vm
,"in handleContentionPacketNode for VOICE_FLOW_REQUEST\n");

376 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

378 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
, 
node
, 
aPack‘
->
sourû
, 
RX_BEGIN
);

379 
	`š£¹Ev’t
(
ªEv’t
);

380 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

381 
sizeofPack‘
 = 
	`exŒaùSizeof
(
ªEv’t
->
aPack‘
);

382 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aPack‘
->
sourû
, 
RX_END
);

383 
	`š£¹Ev’t
(
ªEv’t
);

386 if(
ty³
 =ğ
TOPOLOGY_UPDATE
 && 
nodeID
[
node
].ty³ =ğ
INFRA
)

389 
nodeID
[
node
].
numOfTİŞogyUpd©esReûived
++;

410 
	`š£¹InQueue
(
node
, 
aPack‘
);

417 
	}
}

422 
	$»moveFromQueue
(
node
)

424 if(
nodeID
[
node
].
numOfPack‘sInQueue
 == 0)

426 
nodeID
[
node
].
cÚŒŞFrÚt
 = 0;

427 
nodeID
[
node
].
cÚŒŞR—r
 = 0;

431 
nodeID
[
node
].
cÚŒŞFrÚt
 = (nodeID[node].cÚŒŞFrÚˆ+ 1è% 
QUEUE_LIMIT
;

433 
nodeID
[
node
].
numOfPack‘sInQueue
--;

435 if(
nodeID
[
node
].
numOfPack‘sInQueue
 <= 0)

437 
nodeID
[
node
].
cÚŒŞFrÚt
 = 0;

438 
nodeID
[
node
].
cÚŒŞR—r
 = 0;

443 
	}
}

446 
	$»moveFromQueueAccid’y
(
node
)

448 
·ck‘FÜm©
 * 
aPack‘
;

449 
ty³
;

452 if(
nodeID
[
node
].
numOfPack‘sInQueue
 == 0)

454 
nodeID
[
node
].
cÚŒŞFrÚt
 = 0;

455 
nodeID
[
node
].
cÚŒŞR—r
 = 0;

459 
aPack‘
 = 
nodeID
[
node
].
·ck‘Queue
[nodeID[node].
cÚŒŞFrÚt
];

460 
ty³
 = 
	`EXTRACT_TYPE
(
aPack‘
->
v”_ty³_piggyback
);

461 if(
ty³
 =ğ
JOIN_REQUEST
)

464 if(
ty³
 =ğ
FLOW_REQUEST
)

466 
	`årštf
(
¡d”r
,"Flow„eque¡„emoved iÀcÚ‹ÁiÚ slÙ oà%d", 
node
);

467 
	`ex™
(0);

473 
nodeID
[
node
].
cÚŒŞFrÚt
 = (nodeID[node].cÚŒŞFrÚˆ+ 1è% 
QUEUE_LIMIT
;

475 
nodeID
[
node
].
numOfPack‘sInQueue
--;

477 if(
nodeID
[
node
].
numOfPack‘sInQueue
 <= 0)

479 
nodeID
[
node
].
cÚŒŞFrÚt
 = 0;

480 
nodeID
[
node
].
cÚŒŞR—r
 = 0;

485 
	}
}

487 
	$nodeSourûOfThisFlow
(
node
, 
æowId
)

489 
j
;

490 
j
=0; j<
numOfFlowsInProg»ss
; j++)

493 if(
æowSt
[
j
].
æowId
 =ğæowId && flowSt[j].
sourû
 =ğ
node
)

500 
	}
}

503 
	$£tFlowS’tAtTime
(
æowId
)

505 
j
;

506 
j
=0; j<
numOfFlowsInProg»ss
; j++)

509 if(
æowSt
[
j
].
æowId
 == flowId)

511 
æowSt
[
j
].
æowS’tAt
 = 
simTime
;

517 
	}
}

520 
	$š£¹InQueue
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

522 
·ck‘FÜm©
 * 
Ùh”Pack‘
, * 
mÜePack‘
;

523 
nodeJoš
 * 
aJoš
;

524 
æowReque¡
 * 
aFlowReque¡
;

525 
‹¬Down
 * 
aT—rDown
;

526 
bwReque¡
 * 
aBwReque¡
;

527 
voiûFlowReque¡
 * 
aVoiûFlowReque¡
;

528 
tİŞogyUpd©e
 * 
aTİŞogyUpd©e
;

529 
ty³
, 
i
;

533 
Ùh”Pack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

534 
Ùh”Pack‘
->
v”_ty³_piggyback
 = 
aPack‘
->ver_type_piggyback;

535 
Ùh”Pack‘
->
sourû
 = 
node
;

536 
Ùh”Pack‘
->
de¡š©iÚ
 = 
nodeID
[
node
].
·»Á
;

538 
ty³
 = 
	`EXTRACT_TYPE
(
aPack‘
->
v”_ty³_piggyback
);

540 if(
ty³
 =ğ
JOIN_REQUEST
)

542 
aJoš
 = (
nodeJoš
 *)
	`m®loc
((nodeJoin));

543 
aJoš
->
node
 = ((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->node;

544 
Ùh”Pack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aJoš
;

549 if(
ty³
 =ğ
TOPOLOGY_UPDATE
 && 
nodeID
[
node
].
¡©e
 < 
JOINED
)

551  
SUCCESS
;

554 if(
ty³
 =ğ
TOPOLOGY_UPDATE
)

556 
aTİŞogyUpd©e
 = (
tİŞogyUpd©e
 *)
	`m®loc
((topologyUpdate));

557 
aTİŞogyUpd©e
->
node
 = ((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->node;

559 
aTİŞogyUpd©e
->
ty³
 = ((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->type;

560 
i
=0; i < 
MAX_INFRA_NEIGHBORS
; i++)

562 
aTİŞogyUpd©e
->
ÃighbÜs
[
i
] = ((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->neighbors[i];

564 
Ùh”Pack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aTİŞogyUpd©e
;

569 if(
ty³
 =ğ
FLOW_REQUEST
)

571 
aFlowReque¡
 = (
æowReque¡
 *)
	`m®loc
((flowRequest));

572 
aFlowReque¡
->
e2eSourû
 = ((
æowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->e2eSource;

573 
aFlowReque¡
->
e2eDe¡š©iÚ
 = ((
æowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->e2eDestination;

574 
aFlowReque¡
->
æowId_bwReque¡
 = ((
æowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->flowId_bwRequest;

575 
Ùh”Pack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aFlowReque¡
;

577 if(
	`nodeSourûOfThisFlow
(
node
, 
	`EXTRACT_FLOWID
(
aFlowReque¡
->
æowId_bwReque¡
)))

579 
	`£tFlowS’tAtTime
(
	`EXTRACT_FLOWID
(
aFlowReque¡
->
æowId_bwReque¡
));

583 if(
ty³
 =ğ
BW_REQUEST
)

585 
aBwReque¡
 = (
bwReque¡
 *)
	`m®loc
((bwRequest));

586 
aBwReque¡
->
æowId_bwReque¡
 = ((
bwReque¡
 *)
aPack‘
->
·ylßdPack‘
)->flowId_bwRequest;

587 
Ùh”Pack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aBwReque¡
;

589 if(
ty³
 =ğ
TEAR_DOWN
)

591 
aT—rDown
 = (
‹¬Down
 *)
	`m®loc
((tearDown));

592 
aT—rDown
->
æowId
 = ((
‹¬Down
 *)
aPack‘
->
·ylßdPack‘
)->flowId;

593 
Ùh”Pack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aT—rDown
;

596 if(
ty³
 =ğ
VOICE_FLOW_REQUEST
)

600 
aVoiûFlowReque¡
 = (
voiûFlowReque¡
 *)
	`m®loc
((voiceFlowRequest));

601 
aVoiûFlowReque¡
->
e2eSourû
 = ((
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->e2eSource;

602 
aVoiûFlowReque¡
->
æowId_bwReque¡
 = ((
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->flowId_bwRequest;

603 
aVoiûFlowReque¡
->
ov”®Ë2eDe¡š©iÚ
 = ((
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->overalle2eDestination;

604 
aVoiûFlowReque¡
->
voiûMsgDu¿tiÚ
 = ((
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
)->voiceMsgDuration;

606 
Ùh”Pack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aVoiûFlowReque¡
;

608 
	`årštf
(
vm
,"reachedill here in TX insertInQueue,‡lso called from RX_END\n");

617 if(
nodeID
[
node
].
numOfPack‘sInQueue
 < 
QUEUE_LIMIT
)

619 
nodeID
[
node
].
·ck‘Queue
[nodeID[node].
cÚŒŞR—r
] = 
Ùh”Pack‘
;

620 
nodeID
[
node
].
cÚŒŞR—r
 = (nodeID[node].cÚŒŞR—¸+ 1è% 
QUEUE_LIMIT
;

621 
nodeID
[
node
].
numOfPack‘sInQueue
++;

629 if(
nodeID
[
node
].
numOfPack‘sInQueue
 >‚odeID[node].
maxQueueSize
)

631 
nodeID
[
node
].
maxQueueSize
 =‚odeID[node].
numOfPack‘sInQueue
;

657 if(
ty³
 =ğ
FLOW_REQUEST
 ||y³ =ğ
VOICE_FLOW_REQUEST
)

659 
nodeSt
[
node
].
numFlowReque¡Drİs
++;

662 
nodeSt
[
node
].
numQueueCÚŒŞPack‘Drİs
++;

665 
	}
}

668 
	$hªdËReque¡TX
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

670 
	`š£¹InQueue
(
node
, 
aPack‘
);

671 
	}
}

675 
	$hªdËLškAck
(
node
)

677 if(
nodeID
[
node
].
ex³ùšgLškAck
 =ğ
TRUE
)

680 
nodeID
[
node
].
cÚ‹ÁiÚProb
 = ()1;

681 
nodeID
[
node
].
ex³ùšgLškAck
 = 
FALSE
;

683 
	`»moveFromQueue
(
node
);

686 
	}
}

689 
	$hªdËLškAckTimeout
(
node
)

692 if(
nodeID
[
node
].
ex³ùšgLškAck
 =ğ
TRUE
)

694 
nodeID
[
node
].
ex³ùšgLškAck
 = 
FALSE
;

699 
nodeID
[
node
].
numOfA‰em±s
++;

700 if(
nodeID
[
node
].
numOfA‰em±s
 =ğ
ATTEMPT_LIMIT
)

702 
nodeID
[
node
].
numOfA‰em±s
 = 0;

703 
nodeID
[
node
].
cÚ‹ÁiÚProb
 = ()1;

710 
	`»moveFromQueueAccid’y
(
node
);

719 
nodeID
[
node
].
cÚ‹ÁiÚProb
 = ()Ğ(1/Ğ()(
MAX_NO_INFRA_NODES
 + 1è)è* (1 + 
	`maxT»eHİs
(è- 
	`g‘NumOfHİs
(node)) );

728 
nodeID
[
node
].
numOfA‰em±s
 = 0;

729 
nodeID
[
node
].
cÚ‹ÁiÚProb
 = ()1;

731 
	`hªdËCÚ‹ÁiÚSlÙ
(
node
);

732 
	}
}

	@handleDataSlot.c

1 
	~"h—d”.h
"

7 
	$æowInProg»ss
(
æowId
)

9 
i
;

10 
i
=0; i<
numOfFlowsInProg»ss
; i++)

12 if(
æowSt
[
i
].
æowId
 == flowId)

15  
TRUE
;

18  
FALSE
;

19 
	}
}

21 
	$ÿnIn£¹NextEv’t
(
node
, 
scheduËEËm’t
 
ªEËm’t
, 
ÃxtEv’tTimšg
)

26 
scheduËEËm’t
 * 
queueEËm’t
;

27 
i
;

28 
–em’t_found
, 
no_ev’t_found
;

29 
–em’t_found
 = 
FALSE
;

30 
no_ev’t_found
 = 
TRUE
;

31 
ev’t
 * 
cu¼_queue_ev’t
;

32 * 
ev’t_Çme
;

33 
ev’t_Çme
 = (*)
	`m®loc
(30*());

34 
ev’t_time
;

37 
i
=0; i < 
nodeID
[
node
].
numSchedEËm
; i++)

39 if(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
ªEËm’t
.Œªsm™‹¸&&‚odeID[node].loÿlScheduËEËm’ts[i].
»ûiv”
 =ğªEËm’t.»ûiv” &&‚odeID[node].loÿlScheduËEËm’ts[i].
æowId_chªÃl
 =ğªEËm’t.æowId_chªÃÈ&&‚odeID[node].loÿlScheduËEËm’ts[i].
¦ÙToS¹
 ==‡nElement.slotToStart)

43 
–em’t_found
 = 
TRUE
;

48 
cu¼_queue_ev’t
 = 
queueH—d
;

49 
cu¼_queue_ev’t
 !ğ
NULL
)

51 
	`»sŞve_Çme
(
cu¼_queue_ev’t
->
ty³
, 
ev’t_Çme
);

53 ifĞ
	`¡rcmp
(
ev’t_Çme
,"DATA_SLOT_TRANSMIT") == 0 )

55 
queueEËm’t
 = (
scheduËEËm’t
 *)
cu¼_queue_ev’t
->
aPack‘
->
·ylßdPack‘
;

59 if(
ªEËm’t
.
Œªsm™‹r
 =ğ
queueEËm’t
->Œªsm™‹¸&&‡nEËm’t.
»ûiv”
 =ğqueueEËm’t->»ûiv” &&‡nEËm’t.
æowId_chªÃl
 =ğqueueEËm’t->æowId_chªÃÈ&&‡nEËm’t.
¦ÙToS¹
 == queueElement->slotToStart)

65 if(
ÃxtEv’tTimšg
 =ğ
cu¼_queue_ev’t
->
time
)

68 
no_ev’t_found
 = 
FALSE
;

74 
cu¼_queue_ev’t
 = cu¼_queue_ev’t->
Ãxt
;

77 
	`ä“
(
ev’t_Çme
);

79 if(
–em’t_found
 =ğ
TRUE
 && 
no_ev’t_found
 == TRUE)

81  
TRUE
;

85  
FALSE
;

88 
	}
}

91 
	$ÿnS’dMÜeD©a
(
node
, 
æowId
, 
pkt_¤c
, 
pkt_d¡
)

93 
i
;

94 
i
=0; i < 
nodeID
[
node
].
numSchedEËm
; i++)

96 if(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
pkt_¤c
 &&‚odeID[node].loÿlScheduËEËm’ts[i].
»ûiv”
 =ğ
pkt_d¡
 && 
	`EXTRACT_FLOWID
ÒodeID[node].loÿlScheduËEËm’ts[i].
æowId_chªÃl
è=ğ
æowId
)

99  
TRUE
;

102  
FALSE
;

103 
	}
}

106 
	$nodeIsMobe
(
node
, 
æowId
, 
pkt_¤c
)

108 
i
;

109 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

111 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
pkt_¤c
 && 
	`EXTRACT_FLOWID
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
è=ğ
æowId
)

114  
TRUE
;

117  
FALSE
;

118 
	}
}

121 
	$g‘NewNextHİ
(
node
, 
æowId
, 
pkt_¤c
)

123 
i
;

124 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

126 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
pkt_¤c
 && 
	`EXTRACT_FLOWID
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
è=ğ
æowId
)

129  
glob®ScheduËEËm’ts
[
i
].
»ûiv”
;

133 
	}
}

136 
	$g‘NewSlÙ
(
node
, 
æowId
, 
pkt_¤c
)

138 
i
;

139 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

141 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
pkt_¤c
 && 
	`EXTRACT_FLOWID
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
è=ğ
æowId
)

144  
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
;

148 
	}
}

150 
	$ş—rD©aHi¡Üy
(
node
)

152 
i
;

153 
i
=0; i < 
MAX_DATA_HISTORY
; i++)

155 
nodeID
[
node
].
d©a_hi¡Üy
[
i
] = 0;

157 
	}
}

160 
	$³rfÜmD©aAv”agšg
(
node
, 
šäa
, 
rssi
)

163 
i
,
j
;

164 
av”age
;

165 
ev’t
 * 
ªEv’t
;

167 
i
=0; i < 
MAX_DATA_HISTORY
 -1 ; i++)

169 
nodeID
[
node
].
d©a_hi¡Üy
[
i
] =‚odeID[node].data_history[i+1];

171 
nodeID
[
node
].
d©a_hi¡Üy
[
MAX_DATA_HISTORY
 - 1] = 
rssi
;

174 
i
=0; i < 
MAX_DATA_HISTORY
; i++)

176 if((
nodeID
[
node
].
d©a_hi¡Üy
[
i
] > -50) || (nodeID[node].data_history[i] < -100))

185 
‹mp
[
MAX_DATA_HISTORY
];

187 
i
=0; i < 
MAX_DATA_HISTORY
; i++)

189 
‹mp
[
i
] = 
nodeID
[
node
].
d©a_hi¡Üy
[i];

193 
num”©Ü
, 
d’omš©Ü
;

194 
num”©Ü
 = 
d’omš©Ü
 = 0;

196 
i
=0; i < 
MAX_DATA_HISTORY
; i++)

198 
num”©Ü
 +ğ(
‹mp
[
i
] * (i+1));

201 
i
=0; i < 
MAX_DATA_HISTORY
; i++)

203 
d’omš©Ü
 +ğ(
i
+1);

206 
av”age
 = (()
num”©Ü
/()
d’omš©Ü
) ;

210 if(()(
	`û
(
av”age
)è< 
INFRA_RSSI
)

212 if(
nodeID
[
node
].
ex³ùšgP©hChªge
 =ğ
TRUE
)

219 if(()(
simTime
 - 
nodeID
[
node
].
timeLa¡HªdoffS’t
è> 
HANDOFF_WAIT
)

221 
node_x
, 
node_y
;

222 
	`g‘Pos™iÚ
(
node
, &
node_x
, &
node_y
, 
simTime
);

224 
ªEv’t
 = 
	`g‘TİŞogyUpd©eEv’t
(
simTime
, 
node
,‚ode, 
nodeID
[node].
·»Á
,
TX
, 
HANDOFF
);

225 
	`š£¹Ev’t
(
ªEv’t
);

226 
nodeID
[
node
].
ex³ùšgP©hChªge
 = 
TRUE
;

227 
nodeID
[
node
].
timeLa¡HªdoffS’t
 = 
simTime
;

231 
	`logMob™ySts
(
EXPECTING_PATH_CHANGE
, 
node
, 
šäa
, 
simTime
);

240 
	}
}

243 
	$upd©eCÚÃùiv™yInfo
(
node
, 
šäa
, 
rssi
)

245 
i
,
j
,
k
;

246 
’ough_hi¡Üy
;

247 
’ough_hi¡Üy
 = 1;

250 if(
rssi
 > -50 ||„ssi < -100)

256 
i
=0; i < 
MAX_DATA_HISTORY
; i++)

258 if(
nodeID
[
node
].
d©a_hi¡Üy
[
i
] == 0)

260 
nodeID
[
node
].
d©a_hi¡Üy
[
i
] = 
rssi
;

261 
’ough_hi¡Üy
 = 0;

266 if(
’ough_hi¡Üy
 == 0)

268  
SUCCESS
;

274 
	`³rfÜmD©aAv”agšg
(
node
, 
šäa
, 
rssi
);

278 
	}
}

280 
	$£¬chQueueIndex
(
node
, 
æowId
, 
lškDe¡š©iÚ
)

282 
i
;

283 
·ck‘FÜm©
 * 
aPack‘
;

284 
d©a
 * 
aD©a
;

286 if(
nodeID
[
node
].
numOfPack‘sInD©aQueue
 == 0)

287  
UNDEFINED
;

288 
i
=0;i<
nodeID
[
node
].
numOfPack‘sInD©aQueue
;i++)

290 
aPack‘
 = 
nodeID
[
node
].
d©aPack‘Queue
[
i
];

291 
aD©a
 = (
d©a
 *)
aPack‘
->
·ylßdPack‘
;

293 if(
aD©a
->
æowId
 == flowId)

295 if(
aD©a
->
e2eDe¡š©iÚ
 =ğ
node
)

296  
i
;

297 if(
aPack‘
->
sourû
 !ğ
lškDe¡š©iÚ
)

298  
i
;

301  
UNDEFINED
;

302 
	}
}

304 
	$»shufæeQueue
(
node
, 
šdex
)

306 
i
,
j
;

307 
i
=
šdex
;

308 
j
=
i
+1;

309 if(
j
 =ğ
nodeID
[
node
].
numOfPack‘sInD©aQueue
)

311 
nodeID
[
node
].
numOfPack‘sInD©aQueue
--;

312 if(
nodeID
[
node
].
numOfPack‘sInD©aQueue
 == 0)

314 
nodeID
[
node
].
d©aR—r
 = 0;

318 
nodeID
[
node
].
d©aR—r
 = (nodeID[node].d©aR—¸- 1è% 
QUEUE_LIMIT
;

320  
SUCCESS
;

325 if(
nodeID
[
node
].
numOfPack‘sInD©aQueue
 > 0)

327 
nodeID
[
node
].
d©aR—r
 = (nodeID[node].d©aR—¸- 1è% 
QUEUE_LIMIT
;

332 
j
=
i
+1; j < 
nodeID
[
node
].
numOfPack‘sInD©aQueue
; j++)

334 
nodeID
[
node
].
d©aPack‘Queue
[
i
] =‚odeID[node].d©aPack‘Queue[
j
];

335 
i
++;

337 
nodeID
[
node
].
numOfPack‘sInD©aQueue
--;

338 
	}
}

340 
	$æowDÛsNÙExi¡
(
æowId
)

342 
j
;

343 
j
=0; j<
numOfFlowsInProg»ss
; j++)

346 if(
æowSt
[
j
].
æowId
 == flowId)

352 
	}
}

354 
	$š£¹InD©aQueue
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

356 
·ck‘FÜm©
 * 
Ùh”Pack‘
, * 
mÜePack‘
;

357 
d©a
 * 
aD©a
;

360 
Ùh”Pack‘
 = (
·ck‘FÜm©
 *)
	`m®loc
((packetFormat));

361 
Ùh”Pack‘
->
v”_ty³_piggyback
 = 
aPack‘
->ver_type_piggyback;

362 
Ùh”Pack‘
->
sourû
 = 
aPack‘
->source;

363 
Ùh”Pack‘
->
de¡š©iÚ
 = 
aPack‘
->destination;

365 
aD©a
 = (
d©a
 *)
	`m®loc
((data));

366 
aD©a
->
Ëngth
 = ((
d©a
 *)
aPack‘
->
·ylßdPack‘
)->length;

367 
aD©a
->
£qNumb”
 = ((
d©a
 *)
aPack‘
->
·ylßdPack‘
)->seqNumber;

368 
aD©a
->
e2eSourû
 = ((
d©a
 *)
aPack‘
->
·ylßdPack‘
)->e2eSource;

369 
aD©a
->
e2eDe¡š©iÚ
 = ((
d©a
 *)
aPack‘
->
·ylßdPack‘
)->e2eDestination;

370 
aD©a
->
æowId
 = ((
d©a
 *)
aPack‘
->
·ylßdPack‘
)->flowId;

372 
Ùh”Pack‘
->
·ylßdPack‘
 = (
ušt8_t
 *)
aD©a
;

374 if(
node
 == 3)

379 if(
	`æowDÛsNÙExi¡
(
aD©a
->
æowId
))

386 if(
nodeID
[
node
].
numOfPack‘sInD©aQueue
 < 
QUEUE_LIMIT
)

388 
nodeID
[
node
].
d©aPack‘Queue
[nodeID[node].
d©aR—r
] = 
Ùh”Pack‘
;

389 
nodeID
[
node
].
d©aR—r
 = (nodeID[node].d©aR—¸+ 1è% 
QUEUE_LIMIT
;

390 
nodeID
[
node
].
numOfPack‘sInD©aQueue
++;

397 
	`logFlowSts
(
aD©a
->
æowId
,"\ÀQUEUE_PACKET_DROP",
simTime
);

400 
	}
}

402 
	$g‘NextD©aT¿nsm™Time
(
ÃxtD©aBound¬y
, 
numSlÙs
)

404 
»tuºTime
;

405 
i
;

407 
»tuºTime
 = 
ÃxtD©aBound¬y
;

409 #ifdeà
DEBUG_FRAC


416 
i
=0;i<
numSlÙs
;i++)

418 
»tuºTime
 +ğ
DATA_SLOT_DURATION
;

420 #ifdeà
DEBUG_FRAC


428 if(
	`fmod
(
»tuºTime
, 
FRAME_DURATION
) == 0)

430 
»tuºTime
 +ğ(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
);

432 #ifdeà
DEBUG_FRAC


444  
»tuºTime
;

445 
	}
}

451 
	$isFlowAùive
(
æowId
)

453 
j
;

454 
j
=0; j<
numOfFlowsInProg»ss
; j++)

456 if(
æowSt
[
j
].
æowId
 == flowId)

458  
TRUE
;

462  
FALSE
;

463 
	}
}

466 
	$hªdËT¿nsm™D©aPack‘
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

468 
ev’t
 * 
ªEv’t
;

469 
scheduËEËm’t
 * 
ªEËm’t
;

470 
scheduËEËm’t
 
aScheduËEËm’t
;

471 
d©a
 * 
aD©a
;

473 
ÃxtEv’tTimšg
;

475 
sizeofPack‘
;

476 
æowId
;

477 
queueIndex
;

478 
šdex
;

479 
¦ÙNo
;

481 
ªEËm’t
 = (
scheduËEËm’t
 *)
aPack‘
->
·ylßdPack‘
;

482 
æowId
 = 
	`EXTRACT_FLOWID
(
ªEËm’t
->
æowId_chªÃl
);

484 
queueIndex
 = 
	`£¬chQueueIndex
(
node
,
æowId
, 
ªEËm’t
->
»ûiv”
);

486 if(
node
 == 2)

491 if(
queueIndex
 !ğ
UNDEFINED
)

493 
aPack‘
 = 
nodeID
[
node
].
d©aPack‘Queue
[
queueIndex
];

494 
aD©a
 = (
d©a
 *)
aPack‘
->
·ylßdPack‘
;

495 
	`»shufæeQueue
(
node
,
queueIndex
);

497 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

499 if(
ªEËm’t
->
»ûiv”
 == 2)

504 
šdex
 = 0; index < 
nodeID
[
node
].
numNeighbÜs
; index++)

506 if(
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
] =ğ
ªEËm’t
->
»ûiv”
 ||‚odeID[nodeID[node].ÃighbÜLi¡[šdex]].
·ck‘BešgT¿nsm™‹d
 =ğ
TRUE
)

512 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

514 
ªEv’t
 = 
	`g‘D©aReû±iÚEv’t
(
simTime
, 
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
], 
RX_BEGIN
);

515 
	`š£¹Ev’t
(
ªEv’t
);

517 
ªEv’t
 = 
	`g‘D©aReû±iÚEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
], 
RX_END
);

518 
	`š£¹Ev’t
(
ªEv’t
);

520 
ªEv’t
 = 
	`g‘StİT¿nsmissiÚEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
);

521 
	`š£¹Ev’t
(
ªEv’t
);

528 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

535 
ªEv’t
 = 
	`g‘D©aSourûS’dEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aD©a
->
Ëngth
,‡D©a->
£qNumb”
,‡D©a->
e2eSourû
,‡D©a->
e2eDe¡š©iÚ
, 
	`EXTRACT_FLOWID
(
ªEËm’t
->
æowId_chªÃl
),‡nEËm’t->
Œªsm™‹r
,‡nEËm’t->
»ûiv”
,‡nEËm’t->
¦ÙToS¹
, 
RX
);

537 
	`š£¹Ev’t
(
ªEv’t
);

542 
	`logFlowSts
(
	`EXTRACT_FLOWID
(
ªEËm’t
->
æowId_chªÃl
),"\ÀCHANNEL_PACKET_LOSS",
simTime
);

546 
aScheduËEËm’t
.
Œªsm™‹r
 = 
ªEËm’t
->transmitter;

547 
aScheduËEËm’t
.
»ûiv”
 = 
ªEËm’t
->receiver;

548 
aScheduËEËm’t
.
æowId_chªÃl
 = 
ªEËm’t
->flowId_channel;

549 
aScheduËEËm’t
.
¦ÙToS¹
 = 
ªEËm’t
->slotToStart;

550 
aScheduËEËm’t
.
numSlÙs
 = 
ªEËm’t
->numSlots;

553 if(
nodeID
[
node
].
scheduËSlÙs
 =ğ
UNDEFINED
)

555 
	`årštf
(
¡d”r
,"\n Sanity check failed for schedule slots inside data generate: scheduleSlots UNDEFINED");

556 
	`ex™
(0);

558 
ÃxtEv’tTimšg
 = 
	`g‘NextD©aT¿nsm™Time
(
simTime
, 
nodeID
[
node
].
scheduËSlÙs
);

561 if(
nodeID
[
node
].
Ï¡ScheduËMis£d
 =ğ
UNDEFINED
)

563 
	`årštf
(
¡d”r
,"\n Sanity check failed inside datatransmit:†astScheduleMissed UNDEFINED \n");

564 
	`ex™
(0);

567 if(
nodeID
[
node
].
Ï¡ScheduËMis£d
 =ğ
TRUE
)

574 if(
	`ÿnIn£¹NextEv’t
(
node
, 
aScheduËEËm’t
, 
ÃxtEv’tTimšg
è=ğ
TRUE
 || 
	`isFlowAùive
(
	`EXTRACT_FLOWID
×ScheduËEËm’t.
æowId_chªÃl
)) == TRUE)

581 
ªEv’t
 = 
	`g‘D©aS’dEv’t
(
ÃxtEv’tTimšg
, 
node
, 
aScheduËEËm’t
);

582 
	`š£¹Ev’t
(
ªEv’t
);

589 
	}
}

592 
	$hªdËG’”©eD©aPack‘
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

594 
ev’t
 * 
ªEv’t
;

595 
d©a
 * 
aD©a
;

597 
d©aNextEv’tTime
;

599 
sizeofPack‘
;

600 
¦ÙNo
;

601 
šdex
;

606 if(
nodeID
[
node
].
ÿÎDu¿tiÚ
 == 0)

608 
	`årštf
(
¡d”r
,"\n Call duration 0");

609  
SUCCESS
;

610 
	`ex™
(0);

613 
aD©a
 = (
d©a
 *)
aPack‘
->
·ylßdPack‘
;

614 
sizeofPack‘
 = 
	`exŒaùSizeof
(
aPack‘
);

616 if(
nodeID
[
node
].
æowT—»dDown
 =ğ
TRUE
)

624 
šdex
 = 0; index < 
nodeID
[
node
].
numNeighbÜs
; index++)

626 if(
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
] =ğ
aPack‘
->
sourû
 ||‚odeID[nodeID[node].ÃighbÜLi¡[šdex]].
·ck‘BešgT¿nsm™‹d
 =ğ
TRUE
)

632 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

634 
ªEv’t
 = 
	`g‘D©aReû±iÚEv’t
(
simTime
, 
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
], 
RX_BEGIN
);

635 
	`š£¹Ev’t
(
ªEv’t
);

637 
ªEv’t
 = 
	`g‘D©aReû±iÚEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
], 
RX_END
);

638 
	`š£¹Ev’t
(
ªEv’t
);

640 
ªEv’t
 = 
	`g‘StİT¿nsmissiÚEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
);

641 
	`š£¹Ev’t
(
ªEv’t
);

648 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

650 
nodeID
[
node
].
£qNumb”
++;

654 
ªEv’t
 = 
	`g‘D©aSourûS’dEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aD©a
->
Ëngth
, 
nodeID
[node].
£qNumb”
,‡D©a->
e2eSourû
,‡D©a->
e2eDe¡š©iÚ
,‡D©a->
æowId
, 
aPack‘
->
sourû
,‡Pack‘->
de¡š©iÚ
,‡D©a->
¦ÙNo
, 
RX
);

655 
	`š£¹Ev’t
(
ªEv’t
);

660 
	`logFlowSts
(
aD©a
->
æowId
,"\ÀCHANNEL_PACKET_LOSS",
simTime
);

663 
	`logFlowSts
(
aD©a
->
æowId
,"\ÀPACKET_SENT_BY_SOURCE",
simTime
);

665 
nodeID
[
node
].
ÿÎDu¿tiÚ
 -ğ
FRAME_DURATION
;

667 if(
aD©a
->
æowId
 == 1)

673 if(
nodeID
[
node
].
scheduËSlÙs
 =ğ
UNDEFINED
)

675 
	`årštf
(
¡d”r
,"\n Sanity check failed for schedule slots inside data generate: scheduleSlots UNDEFINED");

676 
	`ex™
(0);

679 
d©aNextEv’tTime
 = 
	`g‘NextD©aT¿nsm™Time
(
simTime
, 
nodeID
[
node
].
scheduËSlÙs
);

681 if(
nodeID
[
node
].
Ï¡ScheduËMis£d
 =ğ
UNDEFINED
)

683 
	`årštf
(
¡d”r
,"\n Sanity check failed inside dataGenerate:†astScheduleMissed UNDEFINED \n");

684 
	`ex™
(0);

687 if(
nodeID
[
node
].
Ï¡ScheduËMis£d
 =ğ
TRUE
)

693 if(
nodeID
[
node
].
ÿÎDu¿tiÚ
 <= 0)

696 
nodeID
[
node
].
æowT—»dDown
 = 
TRUE
;

697 
nodeID
[
node
].
æowReque¡G¿Áed
 = 0;

698 
nodeID
[
node
].
æowR‘ryCouÁ
 = 0;

701 
	`ş—rD©aHi¡Üy
(
node
);

702 
nodeID
[
node
].
Ãxt_hİ
 = -1;

706 if(
nodeID
[
node
].
voiûFlow
 == 1)

708 
nodeID
[
node
].
voiûFlow
 = 0;

716 if(
node
 =ğ
ROOT
)

720 
	`scheduËT—rDown
(
node
, 
aD©a
->
æowId
);

725 
nodeID
[
node
].
ÿÎInProg»ss
 = 
FALSE
;

726 
nodeID
[
node
].
ÿÎReque¡S’t
 = 0;

727 
	`logFlowSts
(
aD©a
->
æowId
,"\ÀTime_T—r_Down_S’t",
simTime
);

732  
SUCCESS
;

737 if(
	`ÿnS’dMÜeD©a
(
node
, 
aD©a
->
æowId
, 
aPack‘
->
sourû
,‡Pack‘->
de¡š©iÚ
è=ğ
TRUE
)

743 if(
aPack‘
->
sourû
 =ğ35 &&‡Pack‘->
de¡š©iÚ
 == 2)

748 
ªEv’t
 = 
	`g‘D©aSourûS’dEv’t
(
d©aNextEv’tTime
, 
node
, 
aD©a
->
Ëngth
, 
nodeID
[node].
£qNumb”
,‡D©a->
e2eSourû
,‡D©a->
e2eDe¡š©iÚ
,‡D©a->
æowId
, 
aPack‘
->
sourû
,‡Pack‘->
de¡š©iÚ
,‡D©a->
¦ÙNo
, 
TX
);

749 
	`š£¹Ev’t
(
ªEv’t
);

756 if(
	`nodeIsMobe
(
node
, 
aD©a
->
æowId
, 
aPack‘
->
sourû
è=ğ
TRUE
)

758 
Ãw_Ãxt_hİ
, 
Ãw_¦Ù
;

759 
Ãw_Ãxt_hİ
 = 
	`g‘NewNextHİ
(
node
, 
aD©a
->
æowId
, 
aPack‘
->
sourû
);

760 
Ãw_¦Ù
 = 
	`g‘NewSlÙ
(
node
, 
aD©a
->
æowId
, 
aPack‘
->
sourû
);

762 if(
Ãw_Ãxt_hİ
 == -1)

764 
	`årštf
(
¡d”r
,"Ifhe‚ode is mobile,hen‡„eceiver should have been„eturned \n");

765 
	`ex™
(0);

767 if(
Ãw_¦Ù
 == -1)

769 
	`årštf
(
¡d”r
,"Ifhe‚ode is mobile,hen‡„eceiver should have been„eturned \n");

770 
	`ex™
(0);

773 
nodeID
[
node
].
£qNumb”
++;

777 
ªEv’t
 = 
	`g‘D©aSourûS’dEv’t
(
d©aNextEv’tTime
, 
node
, 
aD©a
->
Ëngth
, 
nodeID
[node].
£qNumb”
,‡D©a->
e2eSourû
,‡D©a->
e2eDe¡š©iÚ
,‡D©a->
æowId
, 
aPack‘
->
sourû
, 
Ãw_Ãxt_hİ
, 
Ãw_¦Ù
, 
TX
);

778 
	`š£¹Ev’t
(
ªEv’t
);

792 
	}
}

795 
	$hªdËReûivedD©aPack‘
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

797 
d©a
 * 
aD©a
;

798 *
¡r
, *
cÚvSŒ
, *
¡rIÅut
;

799 
i
;

801 
¡r
 = (*)
	`m®loc
(100 * ());

802 
cÚvSŒ
 = (*)
	`m®loc
(50 * ());

804 
aD©a
 = (
d©a
 *)
aPack‘
->
·ylßdPack‘
;

809 if(
aD©a
->
e2eDe¡š©iÚ
 =ğ
node
)

811 
	`š£¹InD©aQueue
(
node
,
aPack‘
);

813 
	`¡rıy
(
¡r
,"\n Data_Packet_Received with seqNumber ");

814 
	`¥rštf
(
cÚvSŒ
,"%d‡ˆde¡š©iÚ‚od%d", 
aD©a
->
£qNumb”
, 
node
);

815 
¡rIÅut
 = 
	`¡rÿt
(
¡r
,
cÚvSŒ
);

819 
	`mÚ™ÜFlowQu®™y
(
node
, *
aD©a
);

823 
	`logFlowSts
(
aD©a
->
æowId
, 
¡rIÅut
, 
simTime
);

827 
	`upd©eCÚÃùiv™yInfo
(
node
, 
aPack‘
->
sourû
,‡Pack‘->
rssi
);

830 if(
aD©a
->
e2eSourû
 =ğ
node
)

832 
	`¡rıy
(
¡r
,"\n Data_Packet_Received with seqNumber ");

833 
	`¥rštf
(
cÚvSŒ
,"%d‡ˆsourû‚od%d", 
aD©a
->
£qNumb”
, 
node
);

834 
¡rIÅut
 = 
	`¡rÿt
(
¡r
,
cÚvSŒ
);

836 
	`logFlowSts
(
aD©a
->
æowId
, 
¡rIÅut
, 
simTime
);

840 
	`upd©eCÚÃùiv™yInfo
(
node
, 
aPack‘
->
sourû
,‡Pack‘->
rssi
);

844 if(
node
 == 2)

850 if(
node
 >ğ
numOfInäaNodesInN‘wÜk
)

852 
	`årštf
(
¡d”r
,"\Àhªd£ˆÿn'ˆbš‹rmedŸ‹‚od%d %d %d", 
aD©a
->
e2eSourû
,‡D©a->
e2eDe¡š©iÚ
,‡D©a->
æowId
);

853 
	`ex™
(0);

856 
	`š£¹InD©aQueue
(
node
,
aPack‘
);

859 
	`ä“
(
¡r
);

860 
	`ä“
(
cÚvSŒ
);

861 
	}
}

866 
	$mÚ™ÜFlowQu®™y
(
node
, 
d©a
 
dPack‘
)

868 
difã»nû
, 
¡¬t
, 
’d
, 
i
, 
ÃxtHİ
;

869 
couÁ
 = 0;

874 if(
nodeID
[
node
].
´evSeqNumb”
 =ğ
NEGATIVE_UNDEFINED
)

877 
nodeID
[
node
].
´evSeqNumb”
 = 
dPack‘
.
£qNumb”
;

881 
nodeID
[
node
].
¦idšgWšdow
[
dPack‘
.
£qNumb”
 % 
DATA_PACKET_SLIDING_WINDOW
] = 1;

882 if(
nodeID
[
node
].
wšdowCouÁ
 < 
DATA_PACKET_SLIDING_WINDOW
)

884 
nodeID
[
node
].
wšdowCouÁ
++;

887 if(
nodeID
[
node
].
´evSeqNumb”
 < 
dPack‘
.
£qNumb”
)

889 
nodeID
[
node
].
´evSeqNumb”
++;

890 
nodeID
[
node
].
´evSeqNumb”
 !ğ
dPack‘
.
£qNumb”
)

895 
nodeID
[
node
].
¦idšgWšdow
[nodeID[node].
´evSeqNumb”
 % 
DATA_PACKET_SLIDING_WINDOW
] = 0;

896 
nodeID
[
node
].
´evSeqNumb”
++;

902 if(
dPack‘
.
£qNumb”
 < 
DATA_PACKET_SLIDING_WINDOW
)

904 
i
 = 0; i < 
nodeID
[
node
].
wšdowCouÁ
; i++)

906 if(
nodeID
[
node
].
¦idšgWšdow
[
i
] == 0)

908 
couÁ
++;

921 if(
couÁ
 > 
MAX_END_TO_END_DATA_PACKET_LOSS_THRESHOLD
)

924 
nodeID
[
node
].
ÿÎDu¿tiÚ
 = 0;

929 
uniqueC®lsDrİ³d
[
dPack‘
.
æowId
] = 1;

930 
æowDrİDueToE2EPack‘Los£s
++;

936  
FAILURE
;

939 
nodeID
[
node
].
´evSeqNumb”
 = 
dPack‘
.
£qNumb”
;

940  
SUCCESS
;

941 
	}
}

	@handlePackets.c

1 
	~"h—d”.h
"

3 
	gæowTimeOutLim™
 = 30*1000;

4 
	gm¬gšFlowTimeOutLim™
 = 5*1000;

8 
	$scheduËIsMis£d
(
node
)

10 
i
;

12 if(
nodeID
[
node
].
scheduËMis£d
 =ğ
TRUE
)

14  
TRUE
;

17 
i
 = 
nodeID
[
node
].
·»Á
; i!ğ
ROOT
; )

20 if(
nodeID
[
i
].
scheduËMis£d
 =ğ
TRUE
)

23  
TRUE
;

26 
i
 = 
nodeID
[i].
·»Á
;

28  
FALSE
;

29 
	}
}

32 
	$»äeshD©aQueue
(
šäa
)

34 
i
,
j
, 
æowId
, 
æowId_found
;

35 
·ck‘FÜm©
 * 
aPack‘
;

36 
d©a
 * 
aD©a
;

38 
i
=0; i < 
nodeID
[
šäa
].
numOfPack‘sInD©aQueue
; i++)

40 
æowId_found
 = 
FALSE
;

41 
aPack‘
 = 
nodeID
[
šäa
].
d©aPack‘Queue
[
i
];

42 
aD©a
 = (
d©a
 *)
aPack‘
->
·ylßdPack‘
;

43 
æowId
 = 
aD©a
->flowId;

45 
j
=0; j < 
nodeID
[
šäa
].
numSchedEËm
; j++)

47 if(
glob®ScheduËEËm’ts
[
j
].
Œªsm™‹r
 =ğ
šäa
)

49 if(
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
j
].
æowId_chªÃl
è=ğ
æowId
)

51 
æowId_found
 = 
TRUE
;

57 if(
æowId_found
 =ğ
FALSE
)

59 
	`»shufæeQueue
(
šäa
, 
i
);

62 
	}
}

65 
	$´štD©aQueue
(
šäa
)

67 
i
,
j
;

68 
·ck‘FÜm©
 * 
aPack‘
;

69 
d©a
 * 
aD©a
;

71 if(
šäa
 == 0)

75 
i
=0; i < 
nodeID
[
šäa
].
numOfPack‘sInD©aQueue
; i++)

77 
aPack‘
 = 
nodeID
[
šäa
].
d©aPack‘Queue
[
i
];

78 
aD©a
 = (
d©a
 *)
aPack‘
->
·ylßdPack‘
;

83 
	}
}

87 
	$checkIfSourû
(
node
)

89 
i
;

91 
i
 = 0; i < 
numOfFlowsInProg»ss
; i++)

93 if(
æowSt
[
i
].
sourû
 =ğ
node
)

94  
TRUE
;

97  
FALSE
;

98 
	}
}

100 
	$g‘De¡š©iÚ
(
node
)

102 
i
;

104 
i
 = 0; i < 
numOfFlowsInProg»ss
; i++)

106 if(
æowSt
[
i
].
sourû
 =ğ
node
)

107  
æowSt
[
i
].
de¡š©iÚ
;

110 
	`årštf
(
¡d”r
,"\n Destination could‚ot be found");

111 
	`´štf
("\n Destination could‚ot be found");

113 
	`ex™
(0);

115 
	}
}

118 
	$£tUpNewScheduË
(
node
)

120 
ev’t
 * 
ªEv’t
;

121 
ev’t
 * 
´evEv’t
;

122 
·ck‘FÜm©
 * 
aPack‘
;

123 
scheduËEËm’t
 * 
ªEËm’t
;

124 
‹mpL’gth
;

125 
‹m³2eDe¡š©iÚ
;

126 
ÃxtD©aBound¬y
;

127 
ÃxtD©aT¿nsm™
;

128 
i
, 
j
, 
k
, 
æowSourû
, 
æowDe¡š©iÚ
;

129 
thisNodeSlÙs
;

131 
ÃwFlowId
[100];

132 
ÃwFlowIdIndex
 = 0;

134 
šScheduËEËm
=0;

136 
FILE
 *
fz
;

138 
‹mpL’gth
 = 40;

139 
thisNodeSlÙs
 = 0;

141 
æowSourû
 = 255;

142 
æowDe¡š©iÚ
 = 255;

145 
ÃxtD©aBound¬y
 = 
nodeID
[
node
].
Ï¡ScheduËTime
;

162 if(
nodeID
[
node
].
numSchedEËm
 > 0 && (
ÃxtD©aBound¬y
 =ğ0 ||‚extD©aBound¬y =ğ
UNDEFINED
))

164 
	`årštf
(
¡d”r
,"\ÀSª™y check faed insid£ˆu°scheduË:‚extD©aBound¬y %làÏ¡ScheduËTim%lf",
ÃxtD©aBound¬y
, 
nodeID
[
node
].
Ï¡ScheduËTime
);

165 
	`ex™
(0);

168 
ÃxtD©aBound¬y
 -ğ
	`fmod
ÒextD©aBound¬y, 
FRAME_DURATION
);

169 
ÃxtD©aBound¬y
 +ğ(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
);

173 
nodeID
[
node
].
scheduËIÁ”v®
 = scheduleInterval;

174 
nodeID
[
node
].
scheduËSlÙs
 = scheduleSlots;

179 if(
node
 =ğ
ROOT
)

182 
nodeID
[
ROOT
].
numSchedEËm
 = 
glob®NumSchedEËm
;

185 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

187 
nodeID
[
ROOT
].
loÿlScheduËEËm’ts
[
i
] = 
glob®ScheduËEËm’ts
[i];

203 
nodeID
[
node
].
numSchedEËm
 =‚odeID[nodeID[node].
·»Á
].numSchedElem;

205 if(
node
 == 2)

210 if(
node
 =ğ6 && 
nodeID
[
ROOT
].
numSchedEËm
 == 20)

213 
i
=0; i < 
nodeID
[
node
].
numSchedEËm
; i++)

215 
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
] =‚odeID[nodeID[node].
·»Á
].localScheduleElements[i];

225 
nodeID
[
node
].
numSchedEËm
 =‚odeID[
ROOT
].numSchedElem;

227 
i
=0; i < 
nodeID
[
node
].
numSchedEËm
; i++)

229 
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
] =‚odeID[
ROOT
].localScheduleElements[i];

231 if(
node
 =ğ6 && 
nodeID
[
ROOT
].
numSchedEËm
 == 20)

236 if(
node
 =ğ6 && 
nodeID
[node].
loÿlScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ6 && 
	`EXTRACT_FLOWID
ÒodeID[node].loÿlScheduËEËm’ts[i].
æowId_chªÃl
) == 19)

253 if(
node
 == 76)

258 if(
nodeID
[
node
].
numOfPack‘sInD©aQueue
 =ğ
QUEUE_LIMIT
)

259 
nodeID
[
node
].
numOfPack‘sInD©aQueue
 = 0;

261 
i
=0;i<
nodeID
[
node
].
numSchedEËm
;i++)

264 if(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
Œªsm™‹r
 ==‚ode)

266 
thisNodeSlÙs
++;

268 
j
=0; j<
numOfFlowsInProg»ss
; j++)

271 if(
æowSt
[
j
].
æowId
 =ğ
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
))

276 
æowSourû
 = 
æowSt
[
j
].
sourû
;

277 
æowDe¡š©iÚ
 = 
æowSt
[
j
].
de¡š©iÚ
;

279 if(
æowSt
[
j
].
æowId
 == 193)

289 if(
j
 =ğ
numOfFlowsInProg»ss
)

294 if(
node
 =ğ2 && 
æowSt
[
j
].
æowId
 == 3)

300 if(
æowSt
[
j
].
æowS’tAt
 + 
æowTimeOutLim™
 < 
aùiveFlowIDTime
[æowSt[j].
æowId
])

308 if(
nodeID
[
node
].
æowScheduËS‘
[
æowSt
[
j
].
æowId
] == 1)

311 if(
node
 =ğ6 && 
nodeID
[node].
loÿlScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ6 && 
	`EXTRACT_FLOWID
ÒodeID[node].loÿlScheduËEËm’ts[i].
æowId_chªÃl
) == 19)

322 if(
node
 =ğ6 && 
æowSt
[
j
].
æowId
 == 19)

327 if(
ÃwFlowIdIndex
 == 0)

329 
ÃwFlowId
[
ÃwFlowIdIndex
] = 
æowSt
[
j
].
æowId
;

330 
ÃwFlowIdIndex
++;

334 if(
ÃwFlowId
[--
ÃwFlowIdIndex
] !ğ
æowSt
[
j
].
æowId
)

336 
ÃwFlowId
[++
ÃwFlowIdIndex
] = 
æowSt
[
j
].
æowId
;

337 
ÃwFlowIdIndex
++;

341 ++
ÃwFlowIdIndex
;

347 if(
node
 =ğ
æowSourû
)

351 if(
node
 =ğ
æowDe¡š©iÚ
)

357 if(
æowSourû
 =ğ
node
 && 
nodeID
[node].
ÿÎInProg»ss
 =ğ
FALSE
)

359 
nodeID
[
node
].
æowReque¡G¿Áed
 = 1;

360 
šScheduËEËm
 = 1;

365 if(
nodeID
[
node
].
ex³ùšgP©hChªge
 =ğ
TRUE
)

367 if(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
»ûiv”
 !ğnodeID[node].
Ãxt_hİ
)

369 
nodeID
[
node
].
ex³ùšgP©hChªge
 = 
FALSE
;

374 
nodeID
[
node
].
Ãxt_hİ
 =‚odeID[node].
loÿlScheduËEËm’ts
[
i
].
»ûiv”
;

377 ià(
nodeID
[
node
].
ÿÎReque¡S’t
 == 0)

379  
SUCCESS
;

383 
fz
 = 
	`fİ’
("outputFiles/callAccepted.txt","a+");

384 
	`årštf
(
fz
,"\ÀæowId %d %d sourû %d %d",
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
), 
æowSt
[
j
].
æowId
,‚ode, 
æowSourû
);

385 
	`fşo£
(
fz
);

386 
numSucûssC®ls
[
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
)] = 1;

390 
‹m³2eDe¡š©iÚ
 = 
æowSt
[
j
].
de¡š©iÚ
;

392 if(
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
) == 193)

397 
nodeSt
[
node
].
timeFlowG¿ÁReûived
 = 
simTime
;

398 
	`logNodeSts
(
node
,
TIME_FLOW_GRANT
,()
simTime
);

399 
	`logFlowSts
(
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
),"\ÀTime_Flow_Reque¡_G¿Áed",()
simTime
);

406 
ÃxtD©aBound¬y
 = 
aùiveFlowIDTime
[
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
)];

407 if(
ÃxtD©aBound¬y
 > 
simTime
)

409 
ÃxtD©aBound¬y
 -ğ
	`fmod
ÒextD©aBound¬y, 
FRAME_DURATION
);

410 
ÃxtD©aBound¬y
 +ğ(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
);

414 
ÃxtD©aBound¬y
 = 
simTime
;

415 
ÃxtD©aBound¬y
 -ğ
	`fmod
(
simTime
, 
FRAME_DURATION
);

416 
ÃxtD©aBound¬y
 +ğ(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
);

419 
ÃxtD©aT¿nsm™
 = 
ÃxtD©aBound¬y
;

423 #ifdeà
DEBUG_FRAC


430 
k
=0;k<(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
¦ÙToS¹
 - 1);k++)

432 
ÃxtD©aT¿nsm™
 +ğ()
DATA_SLOT_DURATION
;

434 #ifdeà
DEBUG_FRAC


441 if(
	`fmod
(
ÃxtD©aT¿nsm™
, 
FRAME_DURATION
) == 0)

443 
ÃxtD©aT¿nsm™
 +ğ()(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
);

445 #ifdeà
DEBUG_FRAC


447 
	`årštf
(
¡d”r
,"\ÀInsidfmod‚extD©aT¿nsm™ %làk %d", 
ÃxtD©aT¿nsm™
, 
k
);

448 
	`¦“p
(2);

457 if(
ÃxtD©aT¿nsm™
 < 
simTime
)

459 
	`årštf
(
¡d”r
,"\À--> sª™y check faed:‚od%d‚extD©aT¿nsm™ %làÃxtD©aBound¬y %làsimTim%làv®idäom %làroÙ' v®idäom %làtimeLa¡ScheduËReû±iÚ %là·»Á' v®idäom %là\n", 
node
, 
ÃxtD©aT¿nsm™
, 
ÃxtD©aBound¬y
, 
simTime
, 
nodeID
[node].
scheduËV®idFrom
,‚odeID[
ROOT
].scheduËV®idFrom,‚odeID[node].
timeLa¡ScheduËReû±iÚ
,‚odeID[nodeID[node].
·»Á
].scheduleValidFrom);

460 
	`´štf
("\À§n™y check faed:‚extD©aT¿nsm™ %làÃxtD©aBound¬y %làsimTim%lf\n",
ÃxtD©aT¿nsm™
, 
ÃxtD©aBound¬y
, 
simTime
);

461 
	`ex™
(0);

466 
nodeID
[
node
].
£qNumb”
 = 0;

468 
ªEv’t
 = 
	`g‘D©aSourûS’dEv’t
(
ÃxtD©aT¿nsm™
 , 
node
, 
‹mpL’gth
, 
nodeID
[node].
£qNumb”
,‚ode, 
‹m³2eDe¡š©iÚ
, 
	`EXTRACT_FLOWID
ÒodeID[node].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
),‚ode,‚odeID[node].loÿlScheduËEËm’ts[i].
»ûiv”
,‚odeID[node].loÿlScheduËEËm’ts[i].
¦ÙToS¹
, 
TX
);

469 
	`š£¹Ev’t
(
ªEv’t
);

473 if(
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
) == 19)

478 if(
node
 =ğ
æowSourû
)

484 
nodeID
[
node
].
ÿÎInProg»ss
 = 
TRUE
;

489 
šScheduËEËm
 = 1;

520 
ÃxtD©aBound¬y
 = 
aùiveFlowIDTime
[
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
)];

521 if(
ÃxtD©aBound¬y
 > 
simTime
)

523 
ÃxtD©aBound¬y
 -ğ
	`fmod
ÒextD©aBound¬y, 
FRAME_DURATION
);

524 
ÃxtD©aBound¬y
 +ğ(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
);

528 
ÃxtD©aBound¬y
 = 
simTime
;

529 
ÃxtD©aBound¬y
 -ğ
	`fmod
(
simTime
, 
FRAME_DURATION
);

530 
ÃxtD©aBound¬y
 +ğ(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
);

533 
ÃxtD©aT¿nsm™
 = 
ÃxtD©aBound¬y
;

535 #ifdeà
DEBUG_FRAC


545 
k
=0;k<(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
¦ÙToS¹
 - 1);k++)

547 
ÃxtD©aT¿nsm™
 +ğ()
DATA_SLOT_DURATION
;

549 #ifdeà
DEBUG_FRAC


556 if(
	`fmod
(
ÃxtD©aT¿nsm™
, 
FRAME_DURATION
) == 0)

558 
ÃxtD©aT¿nsm™
 +ğ()(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
);

560 #ifdeà
DEBUG_FRAC


572 if(
ÃxtD©aT¿nsm™
 < 
simTime
)

574 
	`årštf
(
¡d”r
,"\À§n™y check faed:‚od%d‚extD©aT¿nsm™ %làÃxtD©aBound¬y %làsimTim%làv®id from %làroÙ' v®idäom %làtimeLa¡ScheduËReû±iÚ %là·»Á' v®idäom %là\n", 
node
, 
ÃxtD©aT¿nsm™
, 
ÃxtD©aBound¬y
,
simTime
, 
nodeID
[node].
scheduËV®idFrom
,‚odeID[node].scheduËV®idFrom,‚odeID[node].
timeLa¡ScheduËReû±iÚ
,‚odeID[nodeID[node].
·»Á
].scheduleValidFrom);

575 
	`´štf
("\À§n™y check faed:‚extD©aT¿nsm™ %làÃxtD©aBound¬y %làsimTim%lf\n",
ÃxtD©aT¿nsm™
, 
ÃxtD©aBound¬y
,
simTime
);

576 
	`ex™
(0);

579 
ªEv’t
 = 
	`g‘D©aS’dEv’t
(
ÃxtD©aT¿nsm™
, 
node
, 
nodeID
[node].
loÿlScheduËEËm’ts
[
i
]);

580 
	`š£¹Ev’t
(
ªEv’t
);

583 if(
	`EXTRACT_FLOWID
(
nodeID
[
node
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
) == 19)

590 if(
node
 =ğ
æowDe¡š©iÚ
)

601 
j
=0; j<
ÃwFlowIdIndex
; j++)

603 
nodeID
[
node
].
æowScheduËS‘
[
ÃwFlowId
[
j
]] = 1;

605 if(
node
 =ğ2 && 
ÃwFlowId
[
j
] == 3)

655 
	}
}

659 
	$g‘Unu£dFlowId
()

661 
i
, 
æowId
;

663 
æowId
 = 
glob®UniqueFlowId
;

664 
glob®UniqueFlowId
++;

665  
æowId
;

666 
	}
}

681 
	$choo£De¡š©iÚ
(
node
)

683 
i
;

684 
de¡š©iÚ
;

686 
i
 = 0;

687 
i
<100)

689 
de¡š©iÚ
 = 
numOfInäaNodesInN‘wÜk
 + (
	`¿nd
(è% 
numOfMobeNodesInN‘wÜk
);

691 if(
de¡š©iÚ
 !ğ
node
 && (
	`isP¬tOfAnyFlow
(de¡š©iÚè=ğ
FALSE
) && destination != 25)

692  
de¡š©iÚ
;

693 
i
++;

696 
	`årštf
(
¡d”r
,"\n Destination‚um can‚ot be found in 100„andom‡ttempts");

697  (
numOfInäaNodesInN‘wÜk
 + (
node
 + 10è% 
numOfMobeNodesInN‘wÜk
);

699 
	}
}

703 
	$scheduËFlowReque¡
(
node
)

705 
FILE
 *
å
, *
fq
, *
ä
, *
fs
;

707 
ev’t
 * 
ªEv’t
;

708 
routšgP©h
 * 
aP©h
;

709 
æowDe¡š©iÚ
;

710 
æowScheduËTime
;

711 
ÿÎDu¿tiÚ
;

712 
‹mpFlowID
;

714 
fsTimeToS¹
, 
fsC®lDu¿tiÚ
;

715 
fsFlowId
, 
fsSourû
, 
fsDe¡š©iÚ
;

717 
i
;

719 *
f’ame
, *
cÚvSŒ
, *
æowSŒ
;

721 
ch
;

723 ifĞ
simTime
 + ((è(10*60*1000)è> 
’dSimTime
 )

725  
SUCCESS
;

728 
æowSŒ
 = (*)
	`m®loc
(20 * ());

729 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

748 #ià
GENERATE_REQUESTS_FROM_FILE


749 
fs
 = 
	`fİ’
("recordFlow.txt","r");

751 (
ch
 = 
	`fg‘c
(
fs
)è!ğ
EOF
)

753 if(
ch
 == '(')

755 
	`fsÿnf
(
fs
,"%lf",&
fsTimeToS¹
);

756 
	`fsÿnf
(
fs
,"%d",&
fsFlowId
);

758 
	`fsÿnf
(
fs
,"%d",&
fsSourû
);

759 
	`fsÿnf
(
fs
,"%d",&
fsDe¡š©iÚ
);

760 
	`fsÿnf
(
fs
,"%lf",&
fsC®lDu¿tiÚ
);

765 if(
node
 =ğ
fsFlowId
)

770 
node
 = 
fsSourû
;

771 
	`fşo£
(
fs
);

779 if(
node
 < 
numOfInäaNodesInN‘wÜk
)

781 
	`årštf
(
¡d”r
,"\n\ÀInä¨Node ÿÀnÙ in™Ÿ‹ flow„eque¡:‚od%d",
node
);

782 
	`´štf
("\n\ÀInä¨Node ÿÀnÙ in™Ÿ‹ flow„eque¡:‚od%d",
node
);

784 
	`ex™
(0);

789 #ià
GENERATE_REQUESTS_FROM_FILE


791 
æowDe¡š©iÚ
 = 
fsDe¡š©iÚ
;

792 
‹mpFlowID
 = 
fsFlowId
;

796 
æowDe¡š©iÚ
 = 
	`choo£De¡š©iÚ
(
node
);

797 
‹mpFlowID
 = 
	`g‘Unu£dFlowId
();

819 
aP©h
 = 
	`g‘RoutšgP©h
(
node
, 
æowDe¡š©iÚ
);

822 
æowSt
[
numOfFlowsInProg»ss
].
sourû
 = 
node
;

823 
æowSt
[
numOfFlowsInProg»ss
].
de¡š©iÚ
 = 
æowDe¡š©iÚ
;

824 
æowSt
[
numOfFlowsInProg»ss
].
æowId
 = 
‹mpFlowID
;

825 
æowSt
[
numOfFlowsInProg»ss
].
æowScheduËS‘
 = 0;

826 
æowSt
[
numOfFlowsInProg»ss
].
voiûFlow
 = 0;

827 
æowSt
[
numOfFlowsInProg»ss
].
aP©h
 =‡Path;

830 
numOfFlowsInProg»ss
++;

835 
nodeID
[
æowDe¡š©iÚ
].
´evSeqNumb”
 = 
NEGATIVE_UNDEFINED
;

836 
nodeID
[
æowDe¡š©iÚ
].
£qNumb”
 = 0;

837 
i
 = 0; i < 
DATA_PACKET_SLIDING_WINDOW
; i++)

839 
nodeID
[
æowDe¡š©iÚ
].
¦idšgWšdow
[
i
] = 1;

841 
nodeID
[
æowDe¡š©iÚ
].
wšdowCouÁ
 = 0;

843 
nodeID
[
node
].
´evSeqNumb”
 = 
NEGATIVE_UNDEFINED
;

844 
nodeID
[
node
].
£qNumb”
 = 0;

845 
i
 = 0; i < 
DATA_PACKET_SLIDING_WINDOW
; i++)

847 
nodeID
[
node
].
¦idšgWšdow
[
i
] = 1;

849 
nodeID
[
node
].
wšdowCouÁ
 = 0;

854 
	`¡rıy
(
æowSŒ
, "flows/flow");

855 
	`¥rštf
(
cÚvSŒ
,"%d",
‹mpFlowID
);

856 
f’ame
 = 
	`¡rÿt
(
æowSŒ
,
cÚvSŒ
);

858 
å
 = 
	`fİ’
(
f’ame
,"w+");

860 
fq
 = 
	`fİ’
("outputFiles/flowStartTimes.txt","a+");

862 
noOfC®lsOrigš©ed
++;

864 
nodeID
[
node
].
ÿÎReque¡S’t
 = 1;

866 
nodeSt
[
node
].
timeFlowReque¡S’t
 = 
simTime
;

867 
	`logNodeSts
(
node
,
TIME_FLOW_REQUEST
,()
simTime
);

872 
x
;

873 
z
;

874 
exp_v®ue
;

876 
x
 = (è
MEAN_CALL_DURATION
;

881 
z
 = (è(
	`¿nd
()/()(
RAND_MAX
));

882 }(
z
 == 0) || (z == 1));

885 
exp_v®ue
 = -
x
 * 
	`log
(
z
);

901 #ià
GENERATE_REQUESTS_FROM_FILE


903 
ÿÎDu¿tiÚ
 = 
fsC®lDu¿tiÚ
;

907 
ÿÎDu¿tiÚ
 = 
exp_v®ue
;

916 if(
node
 == 25)

918 
ÿÎDu¿tiÚ
 = 300000;

921 if(
ÿÎDu¿tiÚ
 == 0)

923 
	`årštf
(
¡d”r
,"\n Sanity check failed while„etriving callDuration");

924 
	`ex™
(0);

927 
nodeID
[
node
].
ÿÎDu¿tiÚ
 = callDuration;

932 
	`logFlowSts
(
‹mpFlowID
,"\n Flow_Id",()tempFlowID);

936 
hİDi¡ributiÚ
[
aP©h
->
numOfNodesInP©h
-1]++;

940 #ià
GENERATE_REQUESTS_FROM_FILE


942 
ä
 = 
	`fİ’
("recordFlow.txt", "a+");

943 
	`årštf
(
ä
,"(%là%d %d %d %lf)\n",
simTime
, 
‹mpFlowID
, 
node
, 
æowDe¡š©iÚ
, (
ÿÎDu¿tiÚ
));

944 
	`fşo£
(
ä
);

947 
uniqueC®lsOrigš©ed
[
‹mpFlowID
] = 1;

949 
	`årštf
(
dump
,"InsidscheduËFlowReque¡ fÜ‚od%d de¡š©iÚ %d flowId %d hİ %d c®lDu¿tiÚ %làmšu‹s\n",
node
,
æowDe¡š©iÚ
,
‹mpFlowID
,
aP©h
->
numOfNodesInP©h
-1,(
ÿÎDu¿tiÚ
)/(1000*60));

950 
i
=0; i<
aP©h
->
numOfNodesInP©h
; i++)

952 if(
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 > 
simTime
)

954 if(
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 > (nodeSt[aP©h->·th[i]].
upTime
 + ()
ÿÎDu¿tiÚ
))

956 
nodeSt
[
aP©h
->
·th
[
i
]].
upTime
 +ğÒodeSt[aP©h->·th[i]].
’dC®lTime
 - (nodeSt[aP©h->·th[i]].upTim+ ()
ÿÎDu¿tiÚ
));

957 
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 = 
simTime
 +‚odeSt[aP©h->·th[i]].’dC®lTim- (nodeSt[aP©h->·th[i]].
upTime
 + ()
ÿÎDu¿tiÚ
);

961 
nodeSt
[
aP©h
->
·th
[
i
]].
upTime
 +ğ(ÒodeSt[aP©h->·th[i]].upTim+ ()
ÿÎDu¿tiÚ
è-‚odeSt[aP©h->·th[i]].
’dC®lTime
);

962 
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 = 
simTime
 + (nodeSt[aP©h->·th[i]].
upTime
 + ()
ÿÎDu¿tiÚ
) -‚odeStat[aPath->path[i]].endCallTime;

967 
nodeSt
[
aP©h
->
·th
[
i
]].
upTime
 +ğ
ÿÎDu¿tiÚ
;

968 
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 = 
simTime
 + 
ÿÎDu¿tiÚ
;

973 
	`logFlowSts
(
‹mpFlowID
,"\ÀSourû",(è
node
);

974 
	`logFlowSts
(
‹mpFlowID
,"\ÀDe¡š©iÚ",(è
æowDe¡š©iÚ
);

975 
	`logFlowSts
(
‹mpFlowID
,"\ÀNo_Of_Hİs",(è
aP©h
->
numOfNodesInP©h
-1);

977 
	`logFlowSts
(
‹mpFlowID
,"\ÀP¬’t_Node",()
nodeID
[
node
].
·»Á
);

978 
	`logFlowSts
(
‹mpFlowID
,"\ÀP¬’t_D•th",()
nodeID
[nodeID[
node
].
·»Á
].
d•th
);

979 
	`logFlowSts
(
‹mpFlowID
,"\ÀTime_Flow_Reque¡_S’t",
simTime
);

980 
	`logFlowSts
(
‹mpFlowID
,"\ÀC®l_Du¿tiÚ", (è
nodeID
[
node
].
ÿÎDu¿tiÚ
);

983 
æowScheduËTime
 = 
simTime
;

985 
	`årštf
(
fq
,"\næowId %d sourû %d de¡š©iÚ %dim%lf",
‹mpFlowID
, 
node
, 
æowDe¡š©iÚ
, 
æowScheduËTime
);

986 
	`fşo£
(
fq
);

988 
ªEv’t
 = 
	`g‘FlowReque¡Ev’t
(
æowScheduËTime
, 
node
, 
æowDe¡š©iÚ
, 
	`FLOWID_BW
(
‹mpFlowID
, 0),‚ode, 
nodeID
[node].
·»Á
, 
TX
);

989 
	`š£¹Ev’t
(
ªEv’t
);

991 
ªEv’t
 = 
	`g‘FlowReque¡TimeoutEv’t
(
æowScheduËTime
 + 
FLOW_TIMEOUT
, 
node
);

992 
	`š£¹Ev’t
(
ªEv’t
);

995 
nodeID
[
node
].
cu¼’tFlowId
 = 
‹mpFlowID
;

999 
nodeID
[
node
].
ÿÎInProg»ss
 = 
FALSE
;

1003 
nodeID
[
node
].
æowT—»dDown
 = 
FALSE
;

1004 
ªEv’t
 = 
	`g‘BªdwidthReque¡Ev’t
(
simTime
 + (è
BW_INTERVAL
,
	`FLOWID_BW
(
‹mpFlowID
,0),
node
,
nodeID
[node].
·»Á
, 
TX
);

1005 
	`š£¹Ev’t
(
ªEv’t
);

1007 
nodeID
[
node
].
ex³ùšgFlowReque¡Ack
 = 
FALSE
;

1010 #ià
GENERATE_REQUESTS_FROM_FILE


1012 
	`ÿnS¹FlowReque¡
(
node
);

1015 
	`fşo£
(
å
);

1016 
	`ä“
(
æowSŒ
);

1017 
	`ä“
(
cÚvSŒ
);

1018 
	}
}

1020 
	$ÿnS¹FlowReque¡
(
node
)

1022 
	`årštf
(
dump
,"InsidÿnS¹FlowReque¡ fÜ‚od%d\n",
node
);

1023 
ev’t
 * 
ªEv’t
;

1024 
ÿÎIÁ”v®
;

1027 
x
;

1028 
z
;

1029 
exp_v®ue
;

1031 
x
 = (è
MEAN_CALL_FREQUENCY
;

1036 
z
 = (è(
	`¿nd
()/()(
RAND_MAX
));

1037 }(
z
 == 0) || (z == 1));

1040 
exp_v®ue
 = -
x
 * 
	`log
(
z
);

1046 
ÿÎIÁ”v®
 = 
exp_v®ue
;

1049 if(
ÿÎIÁ”v®
 <= 0)

1051 
	`årštf
(
¡d”r
,"\ÀSª™y check faed wh»Œivšg c®Èš‹rv®: c®lIÁ”v® %lf",
ÿÎIÁ”v®
);

1052 
	`ex™
(0);

1065 
ªEv’t
 = 
	`g‘NextFlowReque¡Ev’t
(
simTime
 + ()
nodeID
[
node
].
ÿÎDu¿tiÚ
 + ()
ÿÎIÁ”v®
,‚ode);

1067 
	`š£¹Ev’t
(
ªEv’t
);

1071 
	}
}

1075 
	$ÿnS¹VoiûFlowReque¡
(
node
)

1077 
ev’t
 * 
ªEv’t
;

1083 
	}
}

1086 
	$scheduËVoiûFlowReque¡
(
node
, 
ov”®Ë2eDe¡š©iÚ
)

1088 
ev’t
 * 
ªEv’t
;

1089 
x
;

1090 
z
;

1091 
exp_v®ue
;

1092 
voiûMsgDu¿tiÚ
;

1093 
FILE
 *
å
, *
fq
;

1095 
routšgP©h
 * 
aP©h
;

1096 
æowDe¡š©iÚ
;

1097 
voiûFlowScheduËTime
;

1098 
‹mpFlowID
,
i
;

1099 *
f’ame
, *
cÚvSŒ
, *
æowSŒ
;

1101 ifĞ
simTime
 + ((è(5*60*1000)è> 
’dSimTime
 )

1103  
SUCCESS
;

1106 if(
node
 < 
numOfInäaNodesInN‘wÜk
)

1108 
	`årštf
(
¡d”r
,"\n\ÀInä¨Node ÿÀnÙ in™Ÿ‹ flow„eque¡:‚od%d",
node
);

1111 
	`ex™
(0);

1114 
aP©h
 = 
	`g‘RoutšgP©h
(
node
,
ov”®Ë2eDe¡š©iÚ
);

1115 
voiûHİDi¡ributiÚ
[
aP©h
->
numOfNodesInP©h
-1]++;

1117 
x
 = (è
MEAN_VOICE_CALL_DURATION
;

1128 
voiûMsgDu¿tiÚ
 = 60000;

1131 if(
voiûMsgDu¿tiÚ
 <= 0)

1133 
	`årštf
(
¡d”r
,"\n Sanity check failed while„etriving VoiceMsgDuration");

1134 
	`ex™
(0);

1137 
nodeID
[
node
].
ÿÎDu¿tiÚ
 = 
voiûMsgDu¿tiÚ
;

1139 
	`årštf
(
¡d”r
,"\n voice msg");

1140 
	`ex™
(0);

1147 
æowSŒ
 = (*)
	`m®loc
(20 * ());

1148 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

1151 
æowDe¡š©iÚ
 = -1;

1152 
‹mpFlowID
 = 
	`g‘Unu£dFlowId
();

1158 
æowSt
[
numOfFlowsInProg»ss
].
sourû
 = 
node
;

1159 
æowSt
[
numOfFlowsInProg»ss
].
de¡š©iÚ
 = -1;

1160 
æowSt
[
numOfFlowsInProg»ss
].
æowId
 = 
‹mpFlowID
;

1161 
æowSt
[
numOfFlowsInProg»ss
].
voiûFlow
 = 1;

1162 
æowSt
[
numOfFlowsInProg»ss
].
aP©h
 =‡Path;

1166 
numOfFlowsInProg»ss
++;

1169 
	`¡rıy
(
æowSŒ
, "flows/flow");

1170 
	`¥rštf
(
cÚvSŒ
,"%d",
‹mpFlowID
);

1171 
f’ame
 = 
	`¡rÿt
(
æowSŒ
,
cÚvSŒ
);

1173 
å
 = 
	`fİ’
(
f’ame
,"w+");

1175 
fq
 = 
	`fİ’
("outputFiles/flowStartTimes.txt","a+");

1177 
noOfC®lsOrigš©ed
++;

1179 
nodeID
[
node
].
ÿÎReque¡S’t
 = 1;

1181 
nodeSt
[
node
].
timeFlowReque¡S’t
 = 
simTime
;

1182 
	`logNodeSts
(
node
,
TIME_FLOW_REQUEST
,()
simTime
);

1184 
	`logFlowSts
(
‹mpFlowID
,"\n Flow_Id",()tempFlowID);

1186 
voiûFlowScheduËTime
 = 
simTime
 + 
nodeID
[
node
].
ÿÎDu¿tiÚ
;

1188 
	`årštf
(
fq
,"\næowId %d sourû %d de¡š©iÚ %dim%lf",
‹mpFlowID
, 
node
, 
ov”®Ë2eDe¡š©iÚ
, 
voiûFlowScheduËTime
);

1189 
	`årštf
(
voiû_¡¬t
,"\næowId %d sourû %d de¡š©iÚ %d hİ %d s¹_tim%lf",
‹mpFlowID
, 
node
, 
ov”®Ë2eDe¡š©iÚ
, (
aP©h
->
numOfNodesInP©h
-1), 
voiûFlowScheduËTime
);

1192 
voiûFlowSt
[
numVoiûMsg
].
sourû
 = 
node
;

1193 
voiûFlowSt
[
numVoiûMsg
].
de¡š©iÚ
 = 
ov”®Ë2eDe¡š©iÚ
;

1194 
voiûFlowSt
[
numVoiûMsg
].
hİs
 = 
aP©h
->
numOfNodesInP©h
-1;

1195 
voiûFlowSt
[
numVoiûMsg
].
¡¬t_time
 = 
voiûFlowScheduËTime
;

1196 
voiûFlowSt
[
numVoiûMsg
].
voiûFlowId
 = 
‹mpFlowID
;

1197 
voiûFlowSt
[
numVoiûMsg
].
äagm’‹d
 = 0;

1198 
voiûFlowSt
[
numVoiûMsg
].
»voked
 = 0;

1199 
numVoiûMsg
++;

1201 
	`fşo£
(
fq
);

1206 
ªEv’t
 = 
	`g‘VoiûFlowReque¡Ev’t
(
voiûFlowScheduËTime
, 
node
, 
	`FLOWID_BW
(
‹mpFlowID
, 0),‚ode, 
nodeID
[node].
·»Á
, 
ov”®Ë2eDe¡š©iÚ
, 
voiûMsgDu¿tiÚ
, 
TX
);

1207 
	`š£¹Ev’t
(
ªEv’t
);

1210 
ªEv’t
 = 
	`g‘FlowReque¡TimeoutEv’t
(
voiûFlowScheduËTime
 + 
FLOW_TIMEOUT
, 
node
);

1211 
	`š£¹Ev’t
(
ªEv’t
);

1214 
nodeID
[
node
].
cu¼’tFlowId
 = 
‹mpFlowID
;

1218 
nodeID
[
node
].
ÿÎInProg»ss
 = 
FALSE
;

1222 
nodeID
[
node
].
æowT—»dDown
 = 
FALSE
;

1226 
nodeID
[
node
].
ex³ùšgFlowReque¡Ack
 = 
FALSE
;

1228 
	`fşo£
(
å
);

1230 
	`ä“
(
æowSŒ
);

1231 
	`ä“
(
cÚvSŒ
);

1232 
	}
}

1236 
	$scheduËT—rDown
(
node
, 
æowId
)

1238 
ev’t
 * 
ªEv’t
;

1239 
ªEv’t
 = 
	`g‘T—rDownEv’t
(
simTime
, 
æowId
, 
node
, 
nodeID
[node].
·»Á
, 
TX
);

1241 
	`š£¹Ev’t
(
ªEv’t
);

1242 
	}
}

1246 
	$hªdËJošAckTimeout
(
node
)

1248 
ev’t
 * 
ªEv’t
;

1249 
jošScheduËTime
;

1250 if(
nodeID
[
node
].
¡©e
 =ğ
JOINED
 ||‚odeID[node].
ex³ùšgJošReque¡Ack
 =ğ
FALSE
)

1258 
	`»moveFromQueue
(
node
);

1269 
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 = 
FALSE
;

1274 
	}
}

1276 
	$hªdËFlowAckTimeout
(
node
)

1278 
ev’t
 * 
ªEv’t
;

1279 
æowScheduËTime
;

1280 
‹mpFlowID
;

1282 
‹mpFlowID
 = 1;

1284 if(
nodeID
[
node
].
¡©e
 =ğ
JOINED
 ||‚odeID[node].
ex³ùšgFlowReque¡Ack
 =ğ
FALSE
)

1295 
	}
}

	@handlePriorityQueue.c

1 
	~"h—d”.h
"

4 
	$isP¬tOfAnyFlow
(
node
)

6 
i
,
j
;

7 
i
=0; i<
numOfFlowsInProg»ss
; i++)

9 if(
æowSt
[
i
].
sourû
 =ğ
node
 || flowSt[i].
de¡š©iÚ
 ==‚ode)

21  
TRUE
;

24  
FALSE
;

25 
	}
}

27 
	$´štEv’tQueue
()

29 
ev’t
 * 
ªEv’t
;

30 
ªEv’t
 = 
queueH—d
;

31 
ty³
;

106 
	}
}

109 
	$»budNeighbÜInfo
(
node
)

111 
i
, 
j
;

112 
¤c_x
, 
¤c_y
, 
d¡_x
, 
d¡_y
;

113 
di¡ªû
;

115 
	`g‘Pos™iÚ
(
node
, &
¤c_x
, &
¤c_y
, 
simTime
);

117 
i
=0; i < 
numOfNodesInN‘wÜk
; i++)

119 if(
i
 !ğ
node
)

122 
	`g‘Pos™iÚ
(
i
, &
d¡_x
, &
d¡_y
, 
simTime
);

123 
di¡ªû
 = ()
	`sq¹
(
	`pow
(
¤c_x
 - 
d¡_x
, 2è+…ow(
¤c_y
 - 
d¡_y
, 2));

129 if(
nodeID
[
node
].
ty³
 =ğ
MOBILE
 &&‚odeID[
i
].type == MOBILE)

131 
ÃtwÜkG¿ph
[
node
][
i
] = 
UNDEFINED
;

132 
ÃtwÜkG¿ph
[
i
][
node
] = 
UNDEFINED
;

136 if(
di¡ªû
 <ğ
ŒªsmissiÚRªgeM
)

138 
nodeID
[
node
].
ÃighbÜLi¡
[nodeID[node].
numNeighbÜs
] = 
i
;

139 
nodeID
[
node
].
numNeighbÜs
++;

141 
nodeID
[
i
].
ÃighbÜLi¡
[nodeID[i].
numNeighbÜs
] = 
node
;

142 
nodeID
[
i
].
numNeighbÜs
++;

147 if(
di¡ªû
 <ğ
š‹rã»nûRªgeM
)

149 
nodeID
[
node
].
š‹rã»nûLi¡
[nodeID[node].
numIÁ”ã¼šgNeighbÜs
] = 
i
;

150 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
++;

152 
nodeID
[
i
].
š‹rã»nûLi¡
[nodeID[i].
numIÁ”ã¼šgNeighbÜs
] = 
node
;

153 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
++;

158 if(
nodeID
[
node
].
ty³
 =ğ
MOBILE
 &&‚odeID[
i
].ty³ =ğ
INFRA
)

160 if(
di¡ªû
 <ğ
ŒªsmissiÚRªgeM
)

162 
ÃtwÜkG¿ph
[
node
][
i
] = 1;

163 
šcomšgEdge
[
node
]++;

165 
ÃtwÜkG¿ph
[
i
][
node
] = 1;

166 
šcomšgEdge
[
i
]++;

170 
nodeID
[
node
].
ÃighbÜLi¡
[nodeID[node].
numNeighbÜs
] = 
i
;

171 
nodeID
[
node
].
numNeighbÜs
++;

173 
nodeID
[
i
].
ÃighbÜLi¡
[nodeID[i].
numNeighbÜs
] = 
node
;

174 
nodeID
[
i
].
numNeighbÜs
++;

176 
nodeID
[
node
].
š‹rã»nûLi¡
[nodeID[node].
numIÁ”ã¼šgNeighbÜs
] = 
i
;

177 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
++;

179 
nodeID
[
i
].
š‹rã»nûLi¡
[nodeID[i].
numIÁ”ã¼šgNeighbÜs
] = 
node
;

180 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
++;

184 if(
di¡ªû
 <ğ
ŒªsmissiÚRªgeI
 && di¡ªû > 
ŒªsmissiÚRªgeM
)

186 
ÃtwÜkG¿ph
[
i
][
node
] = 1;

187 
šcomšgEdge
[
i
]++;

188 
ÃtwÜkG¿ph
[
node
][
i
] = 
UNDEFINED
;

192 
nodeID
[
i
].
ÃighbÜLi¡
[nodeID[i].
numNeighbÜs
] = 
node
;

193 
nodeID
[
i
].
numNeighbÜs
++;

196 
nodeID
[
node
].
š‹rã»nûLi¡
[nodeID[node].
numIÁ”ã¼šgNeighbÜs
] = 
i
;

197 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
++;

199 
nodeID
[
i
].
š‹rã»nûLi¡
[nodeID[i].
numIÁ”ã¼šgNeighbÜs
] = 
node
;

200 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
++;

205 if(
di¡ªû
 <ğ
š‹rã»nûRªgeI
 && di¡ªû > 
ŒªsmissiÚRªgeI
)

207 
ÃtwÜkG¿ph
[
node
][
i
] = 
UNDEFINED
;

208 
ÃtwÜkG¿ph
[
i
][
node
] = 
UNDEFINED
;

211 
nodeID
[
i
].
š‹rã»nûLi¡
[nodeID[i].
numIÁ”ã¼šgNeighbÜs
] = 
node
;

212 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
++;

218 
ÃtwÜkG¿ph
[
node
][
i
] = 
UNDEFINED
;

219 
ÃtwÜkG¿ph
[
i
][
node
] = 
UNDEFINED
;

224 if(
nodeID
[
node
].
ty³
 =ğ
INFRA
 &&‚odeID[
i
].type == INFRA)

226 if(
di¡ªû
 <ğ
ŒªsmissiÚRªgeI
)

228 
ÃtwÜkG¿ph
[
node
][
i
] = 1;

229 
šcomšgEdge
[
node
]++;

231 
ÃtwÜkG¿ph
[
i
][
node
] = 1;

232 
šcomšgEdge
[
i
]++;

237 
nodeID
[
node
].
ÃighbÜLi¡
[nodeID[node].
numNeighbÜs
] = 
i
;

238 
nodeID
[
node
].
numNeighbÜs
++;

240 
nodeID
[
i
].
ÃighbÜLi¡
[nodeID[i].
numNeighbÜs
] = 
node
;

241 
nodeID
[
i
].
numNeighbÜs
++;

243 
nodeID
[
node
].
š‹rã»nûLi¡
[nodeID[node].
numIÁ”ã¼šgNeighbÜs
] = 
i
;

244 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
++;

246 
nodeID
[
i
].
š‹rã»nûLi¡
[nodeID[i].
numIÁ”ã¼šgNeighbÜs
] = 
node
;

247 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
++;

251 if(
di¡ªû
 > 
ŒªsmissiÚRªgeI
 && di¡ªû <ğ
š‹rã»nûRªgeI
)

253 
ÃtwÜkG¿ph
[
node
][
i
] = 
UNDEFINED
;

254 
ÃtwÜkG¿ph
[
i
][
node
] = 
UNDEFINED
;

257 
nodeID
[
node
].
š‹rã»nûLi¡
[nodeID[node].
numIÁ”ã¼šgNeighbÜs
] = 
i
;

258 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
++;

260 
nodeID
[
i
].
š‹rã»nûLi¡
[nodeID[i].
numIÁ”ã¼šgNeighbÜs
] = 
node
;

261 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
++;

267 
ÃtwÜkG¿ph
[
node
][
i
] = 
UNDEFINED
;

268 
ÃtwÜkG¿ph
[
i
][
node
] = 
UNDEFINED
;

273 if(
nodeID
[
node
].
ty³
 =ğ
INFRA
 &&‚odeID[
i
].ty³ =ğ
MOBILE
)

276 if(
di¡ªû
 <ğ
ŒªsmissiÚRªgeM
)

278 
ÃtwÜkG¿ph
[
node
][
i
] = 1;

279 
šcomšgEdge
[
node
]++;

280 
ÃtwÜkG¿ph
[
i
][
node
] = 1;

281 
šcomšgEdge
[
i
]++;

284 
nodeID
[
i
].
ÃighbÜLi¡
[nodeID[i].
numNeighbÜs
] = 
node
;

285 
nodeID
[
i
].
numNeighbÜs
++;

286 
nodeID
[
node
].
ÃighbÜLi¡
[nodeID[node].
numNeighbÜs
] = 
i
;

287 
nodeID
[
node
].
numNeighbÜs
++;

289 
nodeID
[
node
].
š‹rã»nûLi¡
[nodeID[node].
numIÁ”ã¼šgNeighbÜs
] = 
i
;

290 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
++;

291 
nodeID
[
i
].
š‹rã»nûLi¡
[nodeID[i].
numIÁ”ã¼šgNeighbÜs
] = 
node
;

292 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
++;

296 if(
di¡ªû
 > 
ŒªsmissiÚRªgeM
 && di¡ªû <ğ
ŒªsmissiÚRªgeI
)

298 
ÃtwÜkG¿ph
[
node
][
i
] = 1;

299 
šcomšgEdge
[
node
]++;

300 
ÃtwÜkG¿ph
[
i
][
node
] = 
UNDEFINED
;

303 
nodeID
[
node
].
ÃighbÜLi¡
[nodeID[node].
numNeighbÜs
] = 
i
;

304 
nodeID
[
node
].
numNeighbÜs
++;

307 
nodeID
[
node
].
š‹rã»nûLi¡
[nodeID[node].
numIÁ”ã¼šgNeighbÜs
] = 
i
;

308 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
++;

310 
nodeID
[
i
].
š‹rã»nûLi¡
[nodeID[i].
numIÁ”ã¼šgNeighbÜs
] = 
node
;

311 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
++;

314 if(
di¡ªû
 > 
ŒªsmissiÚRªgeI
 && di¡ªû <ğ
š‹rã»nûRªgeI
)

316 
ÃtwÜkG¿ph
[
node
][
i
] = 
UNDEFINED
;

317 
ÃtwÜkG¿ph
[
i
][
node
] = 
UNDEFINED
;

320 
nodeID
[
node
].
š‹rã»nûLi¡
[nodeID[node].
numIÁ”ã¼šgNeighbÜs
] = 
i
;

321 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
++;

326 
ÃtwÜkG¿ph
[
node
][
i
] = 
UNDEFINED
;

327 
ÃtwÜkG¿ph
[
i
][
node
] = 
UNDEFINED
;

336 
	}
}

339 
	$choo£AµrİrŸ‹DœeùiÚ
(
Ãw_x
, 
Ãw_y
)

341 
dœeùiÚ
;

345 if(
Ãw_x
 >ğ4600 &&‚ew_x <ğ5400 && 
Ãw_y
 >= 4600 &&‚ew_y <= 5400)

348 
dœeùiÚ
 = ()((
	`¿nd
() % 8) + 1);

350  
dœeùiÚ
;

352 if(
Ãw_x
 < 4600 && 
Ãw_y
 >= 4600 &&‚ew_y <= 5400)

355 
dœeùiÚ
 = ()(
	`¿nd
() % 3);

356 if(
dœeùiÚ
 == 0)

358 if(
dœeùiÚ
 == 1)

360 if(
dœeùiÚ
 == 2)

364 if(
Ãw_x
 > 5400 && 
Ãw_y
 >= 4600 &&‚ew_y <= 5400)

367 
dœeùiÚ
 = ()(
	`¿nd
() % 3);

368 if(
dœeùiÚ
 == 0)

370 if(
dœeùiÚ
 == 1)

372 if(
dœeùiÚ
 == 2)

376 if(
Ãw_y
 < 4600 && 
Ãw_x
 >= 4600 &&‚ew_x <= 5400)

379 
dœeùiÚ
 = ()(
	`¿nd
() % 3);

380 if(
dœeùiÚ
 == 0)

382 if(
dœeùiÚ
 == 1)

384 if(
dœeùiÚ
 == 2)

388 if(
Ãw_y
 > 5400 && 
Ãw_x
 >= 4600 &&‚ew_x <= 5400)

391 
dœeùiÚ
 = ()(
	`¿nd
() % 3);

392 if(
dœeùiÚ
 == 0)

394 if(
dœeùiÚ
 == 1)

396 if(
dœeùiÚ
 == 2)

400 if(
Ãw_x
 < 4600 && 
Ãw_y
 < 4600)

404 if(
Ãw_x
 < 4600 && 
Ãw_y
 > 5400)

408 if(
Ãw_x
 > 5400 && 
Ãw_y
 > 5400)

412 if(
Ãw_x
 > 5400 && 
Ãw_y
 < 4600)

418 
	}
}

421 
	$ev’tQueueNÙEm±y
()

423 if(
queueH—d
 =ğ
NULL
)

424  
FALSE
;

426  
TRUE
;

427 
	}
}

430 
ev’t
 * 
	$ÃxtEv’t
()

432 
ev’t
 * 
exŒaùEv’t
;

433 
exŒaùEv’t
 = 
queueH—d
;

434 
queueH—d
 = queueH—d->
Ãxt
;

435  
exŒaùEv’t
;

436 
	}
}

439 
	$de¡royEv’t
(
ev’t
 * 
thisEv’t
)

441 if((
thisEv’t
->
ty³
 <ğ
RX_END
è|| (thisEv’t->ty³ =ğ
DATA_SLOT_TRANSMIT
è|| (thisEv’t->ty³ =ğ
FRAGMENT_RECEPTION_TIMEOUT
è|| (thisEv’t->ty³ =ğ
START_MOBILE
))

443 
	`ä“
((*)
thisEv’t
->
aPack‘
->
·ylßdPack‘
);

444 
	`ä“
((*)
thisEv’t
->
aPack‘
);

446 
	`ä“
((*)
thisEv’t
);

447 
	}
}

449 
	gtÙ®Ev’tCouÁ
 = 0;

452 
	$š£¹Ev’t
(
ev’t
 * 
thisEv’t
)

454 
ev’t
 *
‹mp
, *
´ev
;

455 
couÁ
 = 0;

466 if(
queueH—d
 =ğ
NULL
)

469 
queueH—d
 = 
thisEv’t
;

470  
SUCCESS
;

473 
´ev
 = 
‹mp
 = 
queueH—d
;

476 if(
queueH—d
->
time
 > 
thisEv’t
->time)

478 
thisEv’t
->
Ãxt
 = 
queueH—d
;

479 
queueH—d
 = 
thisEv’t
;

484 if(
tÙ®Ev’tCouÁ
 > 11500)

490 
‹mp
 !ğ
NULL
)

492 if(
simTime
 > 48 * 60 * 1000)

496 
couÁ
++;

498 if(
couÁ
 > 11500)

504 if(
‹mp
->
time
 < 
thisEv’t
->time)

506 
´ev
 = 
‹mp
;

507 
‹mp
 =emp->
Ãxt
;

515 if(
simTime
 > 48 * 60 * 1000)

521 
tÙ®Ev’tCouÁ
 = 
couÁ
;

523 if(
couÁ
 > 11500)

528 if(
‹mp
 =ğ
NULL
)

530 
´ev
->
Ãxt
 = 
thisEv’t
;

534 
thisEv’t
->
Ãxt
 = 
´ev
->next;

535 
´ev
->
Ãxt
 = 
thisEv’t
;

539 
	}
}

541 
	$æowWasNÙAcû±ed
(
æowId
)

543 
i
;

544 
»tV®
 = 
TRUE
;

545 
i
=0;i<
nodeID
[
ROOT
].
numSchedEËm
;i++)

547 if(
æowId
 =ğ
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
))

549 
»tV®
 = 
FALSE
;

552  
»tV®
;

553 
	}
}

556 
	$´oûssEv’t
(
ev’t
 * 
thisEv’t
)

558 
ty³
;

559 
i
,
m
;

560 
cÚ‹ÁiÚSlÙBound¬y
,
‹mpTime
;

561 
ev’t
 * 
ªEv’t
;

562 
FILE
 *
å
;

565 if(
thisEv’t
->
ty³
 =ğ
MAKE_ALIVE
)

568 if(
simTime
 > 1200000)

574 
x_coÜd
, 
y_coÜd
;

575 
tx_¿nge
, 
ix_¿nge
;

576 
di¡ªû
;

579 if(
nodeID
[
thisEv’t
->
node
].
ty³
 =ğ
MOBILE
)

581 
x_coÜd
 = 
nodeLoÿtiÚ
[
thisEv’t
->
node
].
x
 = 4800;

582 
y_coÜd
 = 
nodeLoÿtiÚ
[
thisEv’t
->
node
].
y
 = 4985;

584 
tx_¿nge
 = 
ŒªsmissiÚRªgeM
;

585 
ix_¿nge
 = 
š‹rã»nûRªgeM
;

587 if(
nodeID
[
thisEv’t
->
node
].
ty³
 =ğ
INFRA
)

589 
x_coÜd
 = 
nodeLoÿtiÚ
[
thisEv’t
->
node
].
x
 = 5400;

590 
y_coÜd
 = 
nodeLoÿtiÚ
[
thisEv’t
->
node
].
y
 = 5000;

592 
tx_¿nge
 = 
ŒªsmissiÚRªgeI
;

593 
ix_¿nge
 = 
š‹rã»nûRªgeI
;

596 
	`»budNeighbÜInfo
(
thisEv’t
->
node
);

600 
nodeID
[
thisEv’t
->
node
].
¡©e
 = 
NOT_JOINED
;

602 
‹mpTime
 = 
simTime
;

604 
‹mpTime
 +ğ(
FRAME_DURATION
 - 
	`fmod
(tempTime, FRAME_DURATION));

606 
cÚ‹ÁiÚSlÙBound¬y
 = 
‹mpTime
 + (
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
);

608 
ªEv’t
 = 
	`g‘CÚ‹ÁiÚSlÙEv’t
(
cÚ‹ÁiÚSlÙBound¬y
, 
thisEv’t
->
node
);

609 
	`š£¹Ev’t
(
ªEv’t
);

611  
SUCCESS
;

613 if(
thisEv’t
->
ty³
 =ğ
MAKE_DEAD
)

615 
	`logNodeSts
(
thisEv’t
->
node
,
TIME_NODE_DEAD
,
simTime
);

618 
nodeID
[
thisEv’t
->
node
].
¡©e
 = 
DEAD
;

622 if(
thisEv’t
->
ty³
 =ğ
TOPOLOGY_UPDATE_CHECK
)

624 
ªEv’t
 = 
	`g‘TİŞogyCheckEv’t
(
simTime
 + 
FRAME_DURATION
);

625 
	`š£¹Ev’t
(
ªEv’t
);

626 
	`hªdËTİŞogyUpd©eCheck
();

627  
SUCCESS
;

631 if(
thisEv’t
->
ty³
 =ğ
MOBILITY
)

635 
mobe_node
, 
dœeùiÚ
;

636 
ev’t
 * 
ªEv’t
;

639 
mobe_node
 = 25;

640 
dœeùiÚ
 = 7;

642 
ªEv’t
 = 
	`g‘S¹Mob™yEv’t
(
simTime
, 
mobe_node
, 
dœeùiÚ
);

643 
	`š£¹Ev’t
(
ªEv’t
);

645 
ªEv’t
 = 
	`g‘StİMob™yEv’t
(
simTime
 + 60000, 
mobe_node
);

646 
	`š£¹Ev’t
(
ªEv’t
);

650 if(
thisEv’t
->
ty³
 =ğ
START_MOBILE
)

653 
dœeùiÚ
;

654 
i
;

656 
dœeùiÚ
 = ((
mobe_dœeùiÚ
 *)
thisEv’t
->
aPack‘
->
·ylßdPack‘
)->direction;

658 
i
=0; i < 
MAX_MOVING_NODES
; i++)

660 if(
movšg_nodes
[
i
].
mobe_node
 == -1)

662 
movšg_nodes
[
i
].
mobe_node
 = 
thisEv’t
->
node
;

663 
movšg_nodes
[
i
].
dœeùiÚ
 = direction;

664 
movšg_nodes
[
i
].
¡¬‹d_©
 = 
simTime
;

669 
i
=0; i < 
MAX_MOVING_NODES
; i++)

671 if(
movšg_nodes
[
i
].
mobe_node
 != -1)

679 if(
thisEv’t
->
ty³
 =ğ
STOP_MOBILE
)

683 
i
;

684 
Ãw_x
, 
Ãw_y
;

685 
ev’t
 * 
ªEv’t
;

686 
dœeùiÚ
;

688 
i
=0; i < 
MAX_MOVING_NODES
; i++)

690 if(
movšg_nodes
[
i
].
mobe_node
 =ğ
thisEv’t
->
node
)

694 
	`g‘Pos™iÚ
(
thisEv’t
->
node
, &
Ãw_x
, &
Ãw_y
, 
simTime
);

697 
nodeLoÿtiÚ
[
thisEv’t
->
node
].
x
 = 
Ãw_x
;

698 
nodeLoÿtiÚ
[
thisEv’t
->
node
].
y
 = 
Ãw_y
;

702 
movšg_nodes
[
i
].
mobe_node
 = -1;

703 
movšg_nodes
[
i
].
dœeùiÚ
 = 0;

704 
movšg_nodes
[
i
].
¡¬‹d_©
 = 0;

711 
dœeùiÚ
 = 
	`choo£AµrİrŸ‹DœeùiÚ
(
Ãw_x
, 
Ãw_y
);

714 if(
dœeùiÚ
 == -1)

717 
	`ex™
(0);

720 
ªEv’t
 = 
	`g‘S¹Mob™yEv’t
(
simTime
, 
thisEv’t
->
node
, 
dœeùiÚ
);

721 
	`š£¹Ev’t
(
ªEv’t
);

723 
ªEv’t
 = 
	`g‘StİMob™yEv’t
(
simTime
 + 60000, 
thisEv’t
->
node
);

724 
	`š£¹Ev’t
(
ªEv’t
);

731 if(
thisEv’t
->
ty³
 =ğ
NODE_DISABLE
)

734 
mobe_node
;

735 
šäa_node
;

736 
ev’t
 * 
ªEv’t
;

740 
mobe_node
 = 44;

741 
šäa_node
 = 2;

744 
nodeID
[
mobe_node
].
ÿÎReque¡S’t
 == 1)

746 
mobe_node
 = 
numOfInäaNodesInN‘wÜk
 + (
	`¿nd
(è% 
numOfMobeNodesInN‘wÜk
);

752 
i
, 
j
;

754 
i
=0; i < 
nodeID
[
šäa_node
].
numNeighbÜs
; i++)

760 
i
=0; i < 
nodeID
[
šäa_node
].
numIÁ”ã¼šgNeighbÜs
; i++)

765 
i
=0; i < 
nodeID
[
mobe_node
].
numNeighbÜs
; i++)

771 
i
=0; i < 
nodeID
[
mobe_node
].
numIÁ”ã¼šgNeighbÜs
; i++)

776 
ªEv’t
 = 
	`g‘D—dEv’t
(
simTime
, 
mobe_node
);

777 
	`š£¹Ev’t
(
ªEv’t
);

779 
ªEv’t
 = 
	`g‘D—dEv’t
(
simTime
 + 60000, 
šäa_node
);

780 
	`š£¹Ev’t
(
ªEv’t
);

782 
ªEv’t
 = 
	`g‘AliveEv’t
(
simTime
 + (10 * 60000), 
mobe_node
);

783 
	`š£¹Ev’t
(
ªEv’t
);

785 
ªEv’t
 = 
	`g‘AliveEv’t
(
simTime
 + (11 * 60000), 
šäa_node
);

786 
	`š£¹Ev’t
(
ªEv’t
);

790 if(
thisEv’t
->
ty³
 =ğ
VOICE_MSG_RELAY
)

793 
i
, 
j
, 
l
, 
nÙ_Ú_ÿÎ
, 
bÙ’eck
;

794 
nÙ_Ú_ÿÎ
 = 
TRUE
;

796 if(
numP©hsInVoiûQueue
 > 0)

798 
l
=0;† < 
nodeID
[
ROOT
].
numSchedEËm
;†++)

800 if(
glob®ScheduËEËm’ts
[
l
].
Œªsm™‹r
 =ğ
thisEv’t
->
node
)

802 
nÙ_Ú_ÿÎ
 = 
FALSE
;

807 if(
nÙ_Ú_ÿÎ
 =ğ
TRUE
 && 
nodeID
[
thisEv’t
->
node
].
ÿÎInProg»ss
 == TRUE)

809 
	`årštf
(
¡d”r
,"from schedulingƒlements,he‚ode is‚ot on call, but its callInProgress isrue,his is‡nƒrror condition \n");

810 
	`ex™
(0);

813 if(
nÙ_Ú_ÿÎ
 =ğ
FALSE
)

816  
SUCCESS
;

819 
i
=0; i < 
numP©hsInVoiûQueue
; i++)

821 if(
voiûQueue
[
i
].
sourû
 =ğ
ROOT
 && voiûQueue[i].
de¡š©iÚ
 =ğ
thisEv’t
->
node
)

823 
bÙ’eck
 = 
	`g‘VoiûDe¡š©iÚ
(
voiûQueue
[
i
].
sourû
, voiûQueue[i].
de¡š©iÚ
);

824 if(
bÙ’eck
 == -1)

834 
nodeID
[
voiûQueue
[
i
].
sourû
].
ÿÎDu¿tiÚ
 = voiceQueue[i].callDuration;

835 
nodeID
[
voiûQueue
[
i
].
sourû
].
voiûFlow
 = 1;

839 
nodeID
[
voiûQueue
[
i
].
sourû
].
¡Üe_ÿp
 -ğ((voiûQueue[i].
ÿÎDu¿tiÚ
/30)*24);

841 
	`logStÜeC­
(
voiûQueue
[
i
].
sourû
,
nodeID
[voiûQueue[i].sourû].
¡Üe_ÿp
,
simTime
);

845 
	`£tC¬ryFÜw¬dFlow
(
voiûQueue
[
i
].
sourû
,
bÙ’eck
, voiûQueue[i].
ov”®Ë2eDe¡š©iÚ
, 1,voiûQueue[i].
voiûQueueFlowId
);

848 
	`»shufæeVoiûQueue
(
voiûQueue
[
i
].
voiûQueueFlowId
);

859 if(
thisEv’t
->
ty³
 =ğ
VOICE_MSG_CHECK
)

861 if(
numP©hsInVoiûCu¼Queue
 > 0)

863 
i
;

864 
i
=0;i<
numP©hsInVoiûCu¼Queue
;i++)

867 
voiûCu¼Queue
[
i
].
voiûMsgDu¿tiÚ
 -ğ
FRAME_DURATION
;

868 
	`årštf
(
©
,"Flow id %d C®Èdu¿tiÚ %lf\n",
voiûCu¼Queue
[
i
].
voiûFlowId
,voiûCu¼Queue[i].
voiûMsgDu¿tiÚ
);

870 if(
voiûCu¼Queue
[
i
].
voiûMsgDu¿tiÚ
 <= 0)

873 
	`»vokeEËm’ts
(
voiûCu¼Queue
[
i
].
voiûFlowId
);

880 
ªEv’t
 = 
	`g‘VoiûMsgCheckEv’t
(
thisEv’t
->
time
 + 
FRAME_DURATION
);

881 
	`š£¹Ev’t
(
ªEv’t
);

884 if(
thisEv’t
->
ty³
 =ğ
STORE_CAP
)

887 
couÁ”
;

888 
couÁ”
 = 0; couÁ” < 
numOfInäaNodesInN‘wÜk
 ; counter++)

890 
	`logStÜeC­
(
couÁ”
,
nodeID
[couÁ”].
¡Üe_ÿp
,
simTime
);

894 
ªEv’t
 = 
	`g‘StÜageC­ac™yEv’t
(
thisEv’t
->
time
 + 300000);

895 
	`š£¹Ev’t
(
ªEv’t
);

899 if(
thisEv’t
->
ty³
 =ğ
SET_UP_NEW_SCHEDULE
)

908 if(
thisEv’t
->
ty³
 =ğ
LINK_ACK_TIMEOUT
)

910 
	`hªdËLškAckTimeout
(
thisEv’t
->
node
);

912 if(
thisEv’t
->
ty³
 =ğ
CONTENTION_SLOT_BACKOFF
)

914 
	`hªdËCÚ‹ÁiÚSlÙ
(
thisEv’t
->
node
);

916 if(
thisEv’t
->
ty³
 =ğ
CONTENTION_SLOT_BEGINS
)

918 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
FALSE
;

919 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 = 0;

920 
nodeID
[
thisEv’t
->
node
].
backoff
 = 1;

922 
	`hªdËCÚ‹ÁiÚSlÙ
(
thisEv’t
->
node
);

923 
ªEv’t
 = 
	`g‘CÚ‹ÁiÚSlÙEv’t
(
simTime
+
FRAME_DURATION
, 
thisEv’t
->
node
);

925 
	`š£¹Ev’t
(
ªEv’t
);

927 if(
thisEv’t
->
ty³
 =ğ
KEEP_JOINED_TIMEOUT
)

929 
	`hªdËScheduËReû±iÚTimeout
(
thisEv’t
->
node
);

931 if(
thisEv’t
->
ty³
 =ğ
JOIN_REQUEST_TIMEOUT
)

933 
	`hªdËJošAckTimeout
(
thisEv’t
->
node
);

935 if(
thisEv’t
->
ty³
 =ğ
FLOW_REQUEST_TIMEOUT
)

937 
	`hªdËFlowAckTimeout
(
thisEv’t
->
node
);

939 if(
thisEv’t
->
ty³
 =ğ
BW_REQUEST_TIMEOUT
)

941 
	`hªdËBwReque¡Timeout
(
thisEv’t
->
node
);

943 if(
thisEv’t
->
ty³
 =ğ
DATA_SLOT_TRANSMIT
)

945 
	`hªdËT¿nsm™D©aPack‘
(
thisEv’t
->
node
,hisEv’t->
aPack‘
);

947 if(
thisEv’t
->
ty³
 =ğ
START_NEW_SCHEDULE
)

949 
	`hªdËNewScheduËP¬am
(
thisEv’t
->
node
);

951 if(
thisEv’t
->
ty³
 =ğ
SCHEDULE_RECEPTION_TIMEOUT
)

953 
	`hªdËEx³ùedScheduËReû±iÚ
(
thisEv’t
->
node
);

956 if(
thisEv’t
->
ty³
 =ğ
FRAGMENT_RECEPTION_TIMEOUT
)

959 
	`hªdËEx³ùedF¿gm’tReû±iÚ
(
thisEv’t
->
node
,hisEv’t->
aPack‘
);

961 if(
thisEv’t
->
ty³
 =ğ
HANDLE_CONTENTION_SLOT
)

963 
	`hªdËCÚ‹ÁiÚSlÙ
(
thisEv’t
->
node
);

965 if(
thisEv’t
->
ty³
 =ğ
CAN_START_FLOW
)

969 
	`ÿnS¹FlowReque¡
(
thisEv’t
->
node
);

990 #ià
GENERATE_REQUESTS_FROM_FILE


991 if(
thisEv’t
->
ty³
 =ğ
GENERATE_FLOW_REQUEST
)

993 
	`scheduËFlowReque¡
(
thisEv’t
->
node
);

996 if(
thisEv’t
->
ty³
 =ğ
NEXT_FLOW_REQUEST
 && 
nodeID
[thisEv’t->
node
].
¡©e
 =ğ
JOINED
 && (
	`isP¬tOfAnyFlow
ÑhisEv’t->nodeè=ğ
FALSE
))

998 
	`årštf
(
dump
,"Insid´oûssEv’ˆfÜ NEXT_FLOW_REQUEST fÜ‚od%d\n",
thisEv’t
->
node
);

999 
	`scheduËFlowReque¡
(
thisEv’t
->
node
);

1001 if(
thisEv’t
->
ty³
 =ğ
TX
)

1003 
ty³
 = 
	`EXTRACT_TYPE
(
thisEv’t
->
aPack‘
->
v”_ty³_piggyback
);

1004 if(
ty³
 =ğ
SCHEDULE
)

1006 
	`hªdËScheduËBrßdÿ¡
(
thisEv’t
->
node
,hisEv’t->
aPack‘
);

1008 if(
ty³
 =ğ
VOICE_FLOW_REQUEST
)

1013 if(
ty³
 =ğ
JOIN_REQUEST
 ||y³ =ğ
FLOW_REQUEST
 ||y³ =ğ
TEAR_DOWN
 ||y³ =ğ
BW_REQUEST
 ||y³ =ğ
VOICE_FLOW_REQUEST
 ||y³ =ğ
TOPOLOGY_UPDATE
)

1015 if(
ty³
 =ğ
BW_REQUEST
)

1017 
æowid
, 
de¡š©iÚ
;

1019 
i
=0;i<
numOfFlowsInProg»ss
;i++)

1021 if(
æowSt
[
i
].
sourû
 =ğ
thisEv’t
->
node
)

1023 
de¡š©iÚ
 = 
æowSt
[
i
].destination;

1027 if(
i
 =ğ
numOfFlowsInProg»ss
)

1031  
SUCCESS
;

1037 if(
nodeID
[
thisEv’t
->
node
].
cu¼’tFlowId
 !ğ
	`EXTRACT_FLOWID
(((
bwReque¡
 *éhisEv’t->
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
))

1042  
SUCCESS
;

1045 if(
nodeID
[
thisEv’t
->
node
].
æowT—»dDown
 =ğ
TRUE
)

1046  
SUCCESS
;

1048 if(
nodeID
[
thisEv’t
->
node
].
æowReque¡G¿Áed
 =ğ0 &&‚odeID[thisEv’t->node].
æowR‘ryCouÁ
 > 
MAX_FLOW_RETRY
)

1052 
numTimedOutC®ls
[
	`EXTRACT_FLOWID
(((
bwReque¡
 *)
thisEv’t
->
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
)] = 1;

1054 
æowid
 = 
	`EXTRACT_FLOWID
(((
bwReque¡
 *)
thisEv’t
->
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
);

1056 
nodeID
[
thisEv’t
->
node
].
æowReque¡G¿Áed
 = 0;

1057 
nodeID
[
thisEv’t
->
node
].
æowR‘ryCouÁ
 = 0;

1058 
nodeID
[
thisEv’t
->
node
].
ÿÎInProg»ss
 = 
FALSE
;

1060 
nodeID
[
thisEv’t
->
node
].
ÿÎReque¡S’t
 = 0;

1073 if(!
	`æowWasNÙAcû±ed
(
	`EXTRACT_FLOWID
(((
bwReque¡
 *)
thisEv’t
->
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
)))

1079 
	`»shufæeFlowQueue
(
	`EXTRACT_FLOWID
(((
bwReque¡
 *)
thisEv’t
->
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
));

1083 #iâdeà
GENERATE_REQUESTS_FROM_FILE


1084 
	`ÿnS¹FlowReque¡
(
thisEv’t
->
node
);

1089 
	`årštf
(
vm
,"š hªdË´iÜ™yqueue, iÀTX BW„eque¡,‡á” max flow„‘ry, voiû flow fÜ‚od%d in™Ÿtšg\n",
thisEv’t
->
node
);

1091 
	`årštf
(
vm
,"\nThe2de¡š©iÚ i %d,ƒx™šg\n",
de¡š©iÚ
);

1093  
SUCCESS
;

1095 if(
nodeID
[
thisEv’t
->
node
].
æowReque¡G¿Áed
 == 0)

1097 
nodeID
[
thisEv’t
->
node
].
æowR‘ryCouÁ
++;

1104 
ªEv’t
 = 
	`g‘BªdwidthReque¡Ev’t
(
simTime
 + ()
BW_INTERVAL
,((
bwReque¡
 *)
thisEv’t
->
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
,hisEv’t->
node
,
nodeID
[thisEv’t->node].
·»Á
, 
TX
);

1105 
	`š£¹Ev’t
(
ªEv’t
);

1110 if(
ty³
 =ğ
TOPOLOGY_UPDATE
 && 
nodeID
[
thisEv’t
->
node
].
¡©e
 > 
NOT_JOINED
 && (((
tİŞogyUpd©e
 *éhisEv’t->
aPack‘
->
·ylßdPack‘
)->ty³ =ğ
REGULAR
))

1113 
ªEv’t
 = 
	`g‘TİŞogyUpd©eEv’t
(
simTime
 + ()(
TOPOLOGY_UPDATE_PERIOD
 * 
SECOND
), 
thisEv’t
->
node
,thisEv’t->node,
nodeID
[thisEv’t->node].
·»Á
,
TX
, 
REGULAR
);

1114 
	`š£¹Ev’t
(
ªEv’t
);

1120 
	`hªdËReque¡TX
(
thisEv’t
->
node
,hisEv’t->
aPack‘
);

1122 if(
ty³
 =ğ
DATA
)

1126 
	`hªdËG’”©eD©aPack‘
(
thisEv’t
->
node
,hisEv’t->
aPack‘
);

1130 if(
thisEv’t
->
ty³
 =ğ
RX
)

1132 
ty³
 = 
	`EXTRACT_TYPE
(
thisEv’t
->
aPack‘
->
v”_ty³_piggyback
);

1133 if(
ty³
 =ğ
SCHEDULE
)

1135 
	`hªdËScheduËReû±iÚ
(
thisEv’t
->
node
,hisEv’t->
aPack‘
);

1137 if(
ty³
 =ğ
DATA
)

1139 
	`hªdËReûivedD©aPack‘
(
thisEv’t
->
node
,hisEv’t->
aPack‘
);

1142 if(
thisEv’t
->
ty³
 =ğ
STOP_TRANSMISSION
)

1144 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgT¿nsm™‹d
 = 
FALSE
;

1146 if(
thisEv’t
->
ty³
 =ğ
RX_BEGIN
)

1148 
ty³
 = 
	`EXTRACT_TYPE
(
thisEv’t
->
aPack‘
->
v”_ty³_piggyback
);

1149 if(
ty³
 =ğ
JOIN_REQUEST
 ||y³ =ğ
FLOW_REQUEST
 ||y³ =ğ
TEAR_DOWN
 ||y³ =ğ
BW_REQUEST
 ||y³ =ğ
VOICE_FLOW_REQUEST
 ||y³ =ğ
TOPOLOGY_UPDATE
)

1152 if(
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 =ğ
FALSE
)

1154 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
TRUE
;

1159 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1160 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 = 2;

1162 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
++;

1166 if(
thisEv’t
->
ty³
 =ğ
CONTENTION_RX_BEGIN
)

1168 if(
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 =ğ
FALSE
)

1170 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
TRUE
;

1175 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1176 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 = 2;

1178 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
++;

1181 if(
thisEv’t
->
ty³
 =ğ
CONTENTION_RX_END
)

1184 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1186 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
FALSE
;

1188 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 > 0)

1190 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
--;

1191 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1192 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
FALSE
;

1196 if(
thisEv’t
->
ty³
 =ğ
DATA_RX_BEGIN
)

1198 if(
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 =ğ
FALSE
)

1200 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
TRUE
;

1205 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1206 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 = 2;

1208 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
++;

1212 if(
thisEv’t
->
ty³
 =ğ
DATA_RX_END
)

1215 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1217 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
FALSE
;

1219 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 > 0)

1221 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
--;

1222 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1223 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
FALSE
;

1227 if(
thisEv’t
->
ty³
 =ğ
RX_END
)

1229 
ty³
 = 
	`EXTRACT_TYPE
(
thisEv’t
->
aPack‘
->
v”_ty³_piggyback
);

1230 
nodeID
[
thisEv’t
->
aPack‘
->
sourû
].
·ck‘BešgT¿nsm™‹d
 = 
FALSE
;

1231 if(
ty³
 =ğ
JOIN_REQUEST
 ||y³ =ğ
FLOW_REQUEST
 ||y³ =ğ
TEAR_DOWN
 ||y³ =ğ
BW_REQUEST
 ||y³ =ğ
VOICE_FLOW_REQUEST
 ||y³ =ğ
TOPOLOGY_UPDATE
)

1234 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1238 if(
ty³
 =ğ
VOICE_FLOW_REQUEST
)

1241 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1247 
	`årštf
(
¡d”r
,"problem with collision count\n");

1248 
	`ex™
(0);

1253 if(
thisEv’t
->
node
 =ğ
ROOT
)

1257 if(
ty³
 =ğ
FLOW_REQUEST
)

1259 
	`hªdËFlowReû±iÚRoÙ
(
thisEv’t
->
aPack‘
);

1262 if(
ty³
 =ğ
JOIN_REQUEST
)

1264 
	`hªdËJošReû±iÚRoÙ
(
thisEv’t
->
aPack‘
);

1266 if(
ty³
 =ğ
TEAR_DOWN
)

1268 
	`hªdËT—rDownRoÙ
(
thisEv’t
->
aPack‘
);

1270 if(
ty³
 =ğ
BW_REQUEST
)

1272 
	`hªdËBwReque¡RoÙ
(
thisEv’t
->
aPack‘
);

1274 if(
ty³
 =ğ
VOICE_FLOW_REQUEST
)

1276 
	`hªdËVoiûFlowReû±iÚRoÙ
(
thisEv’t
->
aPack‘
);

1280 if(
ty³
 =ğ
TOPOLOGY_UPDATE
)

1282 
	`hªdËTİŞogyUpd©eRoÙ
(
thisEv’t
->
aPack‘
);

1287 
	`hªdËCÚ‹ÁiÚPack‘Node
(
thisEv’t
->
node
,hisEv’t->
aPack‘
);

1289 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
FALSE
;

1291 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 > 0)

1293 
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
--;

1294 if(
nodeID
[
thisEv’t
->
node
].
cŞlisiÚ
 == 0)

1295 
nodeID
[
thisEv’t
->
node
].
·ck‘BešgReûived
 = 
FALSE
;

1298 if(
ty³
 =ğ
LINK_LEVEL_ACK
)

1300 
	`hªdËLškAck
(
thisEv’t
->
node
);

1303  
SUCCESS
;

1304 
	}
}

	@handleScheduleTxRx.c

1 
	~"h—d”.h
"

3 
	#START_FLOW_AT
 960000

	)

12 
	$³rfÜmAv”agšg
(
node
, 
šäa
, 
rssi
)

16 
i
,
j
;

17 
av”age
;

18 
ev’t
 * 
ªEv’t
;

20 
i
=0; i < 
INFRA_HEARD_THRESHOLD
 -1 ; i++)

22 
nodeID
[
node
].
šäa_li¡
[
šäa
].
rssi
[
i
] =‚odeID[node].infra_list[infra].rssi[i+1];

24 
nodeID
[
node
].
šäa_li¡
[
šäa
].
rssi
[
INFRA_HEARD_THRESHOLD
-1] =„ssi;

28 
‹mp
[
INFRA_HEARD_THRESHOLD
];

29 
i
=0; i < 
INFRA_HEARD_THRESHOLD
; i++)

31 
‹mp
[
i
] = 
nodeID
[
node
].
šäa_li¡
[
šäa
].
rssi
[i];

34 
av”age
 = ()((
‹mp
[0]*1)+(temp[1]*2)+(temp[2]*3)+(temp[3]*4)+(temp[4]*5))/()15 ;

35 if(
node
 == 25)

41 
nodeID
[
node
].
šäa_li¡
[
šäa
].
av”age
 =‡verage;

43 if(
nodeID
[
node
].
šäa_li¡
[
šäa
].
šäa_node
 =ğnodeID[node].
·»Á
)

45 if(()(
nodeID
[
node
].
šäa_li¡
[
šäa
].
av”age
è< 
PARENT_RSSI
)

48 
node_x
, 
node_y
;

49 
	`g‘Pos™iÚ
(
node
, &
node_x
, &
node_y
, 
simTime
);

52 if(
nodeID
[
node
].
¡©e
 >ğ
JOINED
)

55 if(
nodeID
[
node
].
ex³ùšgP¬’tChªge
 =ğ
TRUE
)

61 
ªEv’t
 = 
	`g‘TİŞogyUpd©eEv’t
(
simTime
, 
node
,‚ode, 
nodeID
[node].
·»Á
,
TX
, 
REACTIVE
);

62 
	`š£¹Ev’t
(
ªEv’t
);

63 
nodeID
[
node
].
ex³ùšgP¬’tChªge
 = 
TRUE
;

67 
	`logMob™ySts
(
EXPECTING_PARENT_CHANGE
, 
node
, 
šäa
, 
simTime
);

74 
	}
}

77 
	$upd©eNeighbÜInfo
(
node
, 
šäa
, 
rssi
)

81 
i
,
j
,
k
;

83 
ev’t
 * 
ªEv’t
;

85 if(
nodeID
[
node
].
šäa_li¡
[
šäa
].
is_ÃighbÜ
 =ğ
TRUE
)

87 
nodeID
[
node
].
šäa_li¡
[
šäa
].
timeLa¡H—rd
 = 
simTime
;

88 
	`³rfÜmAv”agšg
(
node
, 
šäa
, 
rssi
);

93 if(
nodeID
[
node
].
šäa_li¡
[
šäa
].
times_ob£rved
 =ğ
INFRA_HEARD_THRESHOLD
)

96 
nodeID
[
node
].
šäa_li¡
[
šäa
].
šäa_node
 = infra;

97 
nodeID
[
node
].
šäa_li¡
[
šäa
].
is_ÃighbÜ
 = 
TRUE
;

98 
nodeID
[
node
].
šäa_li¡
[
šäa
].
timeLa¡H—rd
 = 
simTime
;

100 
	`³rfÜmAv”agšg
(
node
, 
šäa
, 
rssi
);

102 
ªEv’t
 = 
	`g‘NextEx³ùedF¿gm’tEv’t
(
simTime
 + 
FRAGMENT_TIMEOUT
, 
node
, 
šäa
);

103 
	`š£¹Ev’t
(
ªEv’t
);

105 if(
simTime
 > 1200000)

107 
ªEv’t
 = 
	`g‘TİŞogyUpd©eEv’t
(
simTime
, 
node
,‚ode, 
nodeID
[node].
·»Á
,
TX
, 
REACTIVE
);

108 
	`š£¹Ev’t
(
ªEv’t
);

112 
i
=0; i < 
INFRA_HEARD_THRESHOLD
; i++)

120 
i
=0; i < 
INFRA_HEARD_THRESHOLD
; i++)

122 if(
nodeID
[
node
].
šäa_li¡
[
šäa
].
rssi
[
i
] == 0)

124 
nodeID
[
node
].
šäa_li¡
[
šäa
].
rssi
[
i
] =„ssi;

128 
nodeID
[
node
].
šäa_li¡
[
šäa
].
times_ob£rved
++;

134 
	}
}

137 
	$g‘Cu¼’tTİŞogy
(
šäa
)

141 
i
,
j
,
k
;

142 
di¡ªû
;

143 
šäa_x
, 
šäa_y
, 
d¡_x
, 
d¡_y
;

144 
	`g‘Pos™iÚ
(
šäa
, &
šäa_x
, &
šäa_y
, 
simTime
);

147 
šcomšgEdge
[
j
] = 0;

148 
nodeID
[
j
].
numNeighbÜs
 = 0;

149 
nodeID
[
j
].
numIÁ”ã¼šgNeighbÜs
 = 0;

153 
i
=0; i < 
numOfNodesInN‘wÜk
; i++)

155 if(
i
 =ğ
šäa
)

161 
	`g‘Pos™iÚ
(
i
, &
d¡_x
, &
d¡_y
, 
simTime
);

163 
di¡ªû
 = ()
	`sq¹
(
	`pow
(
šäa_x
 - 
d¡_x
, 2è+…ow(
šäa_y
 - 
d¡_y
, 2));

165 if(
di¡ªû
 <ğ
ŒªsmissiÚRªgeI
)

171 
	}
}

174 
	$£tScheduËInfo
()

176 
scheduËPack‘Chªge
 = 
TRUE
;

177 
	}
}

182 
	$g‘NextEx³ùedScheduËTime
(
thisTime
, 
numOfF¿gm’ts
, 
£tTe¡
)

184 
i
;

185 
¦ack
 = 1;

186 
»tuºTime
;

188 if(
£tTe¡
 == 1)

190 
»tuºTime
 = 
thisTime
 - 
	`fmod
(fmod(
simTime
, 
FRAME_DURATION
), 
CONTROL_SLOT_DURATION
);

194 
»tuºTime
 = 
thisTime
 - 
	`fmod
(fmodÑhisTime, 
FRAME_DURATION
), 
CONTROL_SLOT_DURATION
);

196 #ifdeà
DEBUG_FRAC


202 if(
£tTe¡
 == 1)

204 
i
=1;i<=
¦ack
*
numOfF¿gm’ts
;i++)

206 
»tuºTime
 =„‘uºTim+ 
CONTROL_SLOT_DURATION
;

208 if(
	`fmod
(
»tuºTime
, 
FRAME_DURATION
è=ğ
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
)

210 
»tuºTime
 =„‘uºTim+ (
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
è+ (
NO_OF_DATA_SLOTS
 * 
DATA_SLOT_DURATION
);

212 #ifdeà
DEBUG_FRAC


225 
i
=1;i<=((
numOfP»£ÁInäaNodesInT»e
+1è* 
numOfF¿gm’ts
);i++)

227 
»tuºTime
 =„‘uºTim+ 
CONTROL_SLOT_DURATION
;

229 if(
	`fmod
(
»tuºTime
, 
FRAME_DURATION
è=ğ
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
)

231 
»tuºTime
 =„‘uºTim+ (
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
è+ (
NO_OF_DATA_SLOTS
 * 
DATA_SLOT_DURATION
);

233 #ifdeà
DEBUG_FRAC


241  
»tuºTime
;

242 
	}
}

246 
	$g‘Fœ¡ScheduËBrßdÿ¡Time
(
node
, 
numOfF¿gm’ts
, 
‹mpP¬’t
)

248 
ÃxtScheduËTime
;

249 
i
,
j
;

251 
ÃxtScheduËTime
 = 
simTime
;

252 
ÃxtScheduËTime
 -ğ
	`fmod
(fmodÒextScheduËTime, 
FRAME_DURATION
), 
CONTROL_SLOT_DURATION
);

253 
ÃxtScheduËTime
 +ğ
CONTROL_SLOT_DURATION
;

255 if(
	`fmod
(
ÃxtScheduËTime
, 
FRAME_DURATION
è=ğ
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
)

257 
ÃxtScheduËTime
 =‚extScheduËTim+ (
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
è+ (
NO_OF_DATA_SLOTS
 * 
DATA_SLOT_DURATION
);

259 #ifdeà
DEBUG_FRAC


267 
i
=1; i<=(
nodeID
[
node
].
brßdÿ¡Tuº
 -‚odeID[
‹mpP¬’t
].broadcastTurn - 1) ;i++)

269 
ÃxtScheduËTime
 =‚extScheduËTim+ 
CONTROL_SLOT_DURATION
;

271 if(
	`fmod
(
ÃxtScheduËTime
, 
FRAME_DURATION
è=ğ
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
)

273 
ÃxtScheduËTime
 =‚extScheduËTim+ (
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
è+ (
NO_OF_DATA_SLOTS
 * 
DATA_SLOT_DURATION
);

275 #ifdeà
DEBUG_FRAC


283  
ÃxtScheduËTime
;

284 
	}
}

287 
	$g‘NextScheduËBrßdÿ¡Time
(
node
, 
numOfF¿gm’ts
)

289 
i
;

290 
»tuºTime
;

292 
»tuºTime
 = 
simTime
;

294 
nodeID
[
node
].
numOfInäaNodesInT»e
 = 
numOfP»£ÁInäaNodesInT»e
;

296 
i
=1;i<=((
nodeID
[
node
].
numOfInäaNodesInT»e
 + 1è* 
numOfF¿gm’ts
);i++)

298 
»tuºTime
 =„‘uºTim+ 
CONTROL_SLOT_DURATION
;

300 #ifdeà
DEBUG_FRAC


307 if(
	`fmod
(
»tuºTime
, 
FRAME_DURATION
è=ğ
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
)

309 
»tuºTime
 =„‘uºTim+ (
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
è+ (
NO_OF_DATA_SLOTS
 * 
DATA_SLOT_DURATION
);

311 #ifdeà
DEBUG_FRAC


321  
»tuºTime
;

323 
	}
}

326 
	$roÙNextScheduËF¿gm’tBrßdÿ¡
(
time
)

328 
ÃxtScheduËTime
;

329 
i
;

331 
ÃxtScheduËTime
 = 
time
;

333 #ifdeà
DEBUG_FRAC


340 
i
=1;i<=(
numOfP»£ÁInäaNodesInT»e
 +1);i++)

342 
ÃxtScheduËTime
 =‚extScheduËTim+ 
CONTROL_SLOT_DURATION
;

343 if(
	`fmod
(
ÃxtScheduËTime
, 
FRAME_DURATION
è=ğ
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
)

345 
ÃxtScheduËTime
 =‚extScheduËTim+ (
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
è+ (
NO_OF_DATA_SLOTS
 * 
DATA_SLOT_DURATION
);

347 #ifdeà
DEBUG_FRAC


358 #ifdeà
DEBUG_FRAC


365  
ÃxtScheduËTime
;

366 
	}
}

370 
	$cÚv”tT»eToSchedEËm
(
rT»e
)

372 
Œ“ToSchedEËm
 = 0;

374 if(
rT»e
 == 1)

376 
Œ“ToSchedEËm
 = (
numOfP»£ÁNodesInT»e
 * 2)/((
scheduËEËm’t
));

377 if(
numOfP»£ÁNodesInT»e
 % ((
scheduËEËm’t
)) != 0)

378 
Œ“ToSchedEËm
++;

380  
Œ“ToSchedEËm
;

381 
	}
}

388 
	$g‘P¬’t
(
node
)

390 
i
;

392 if(
node
 =ğ
ROOT
)

394  
ROOT
;

399 
i
=0;i<
numOfNodesInN‘wÜk
;i++)

402 if(
routšgT»e
[2*
i
] =ğ
node
)

404  
routšgT»e
[2*
i
 + 1];

408 
	}
}

411 
	$g‘NumOfHİs
(
node
)

413 
couÁHİs
=0;

414 
»tP¬’t
;

416 if(
node
 =ğ
ROOT
)

422 if(
nodeID
[
node
].
¡©e
 > 
NOT_JOINED
)

424 
»tP¬’t
 = 
	`g‘P¬’t
(
node
);

426 
»tP¬’t
 !ğ
ROOT
)

428 if(
»tP¬’t
 == -1)

432 
node
 = 
»tP¬’t
;

433 
»tP¬’t
 = 
	`g‘P¬’t
(
node
);

434 
couÁHİs
++;

437  (
couÁHİs
+1);

440 
	}
}

442 
	$maxT»eHİs
()

444 
maxHİs
 = 1;

445 
»tHİs
 = 1;

446 
i
;

448 
i
=1; i < (
numOfInäaNodesInN‘wÜk
 + 
numOfMobeNodesInN‘wÜk
); i++)

450 
»tHİs
 = 
	`g‘NumOfHİs
(
i
);

454 if(
»tHİs
 > 
maxHİs
)

456 
maxHİs
 = 
»tHİs
;

459  
maxHİs
;

460 
	}
}

466 
	$£tFlowAùiveAtOfNewFlows
()

468 
i
;

470 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

472 if(
aùiveFlowIDTime
[
	`EXTRACT_FLOWID
(
nodeID
[
ROOT
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
)] != 0)

477 
aùiveFlowIDTime
[
	`EXTRACT_FLOWID
(
nodeID
[
ROOT
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
)] =‚odeID[ROOT].
Ï¡ScheduËTime
;

481 
	}
}

483 
	$hªdËScheduËBrßdÿ¡
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

486 
šdex
, 
i
;

488 
‹mpTime
;

489 
ÃxtScheduËTime
, 
ÃxtScheduËTimeNÚRoÙ
;

490 
cu¼’tScheduËTime
,
ÃxtEx³ùedScheduËTime
;

492 
ev’t
 * 
ªEv’t
;

494 
sizeofPack‘
;

495 
numOfF¿gm’ts
;

498 
rT»e
;

499 
Œ“ToSchedEËm
;

500 
maxEËmInPack‘
;

501 
j
;

502 
T»eD•th
 = 1;

504 
maxEËmInPack‘
 = 
	`g‘S¶™SchedulšgEËm’ts
();

506 
cu¼’tScheduËTime
 = 
simTime
;

507 
cu¼’tScheduËTime
 -ğ
	`fmod
(fmod(cu¼’tScheduËTime, 
FRAME_DURATION
), 
CONTROL_SLOT_DURATION
);

511 if(
nodeID
[
node
].
¡©e
 =ğ
DEAD
)

514  
SUCCESS
;

517 if(
node
 =ğ
ROOT
)

521 
nodeID
[
ROOT
].
numSchedEËm
 = 
glob®NumSchedEËm
;

524 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

526 
nodeID
[
ROOT
].
loÿlScheduËEËm’ts
[
i
] = 
glob®ScheduËEËm’ts
[i];

531 if(
scheduËPack‘Chªge
 =ğ
TRUE
)

533 
scheduËPack‘Chªge
 = 
FALSE
;

538 
numOfP»£ÁNodesInT»e
 = 
numOfNodesInT»e
;

539 
numOfP»£ÁInäaNodesInT»e
 = 
numOfInäaNodesInT»e
;

540 
numOfP»£ÁSchedEËm
 = 
nodeID
[
ROOT
].
numSchedEËm
;

542 
rT»e
 = 
nodeID
[
ROOT
].
Œ“Upd©e
;

543 
Œ“ToSchedEËm
 = 
	`cÚv”tT»eToSchedEËm
(
rT»e
);

544 
numOfF¿gm’ts
 = 
	`g‘NumOfF¿gm’ts
(
nodeID
[
ROOT
].
numSchedEËm
 + 
Œ“ToSchedEËm
);

548 if(
numOfF¿gm’ts
 > 
max_no_äagm’ts
)

550 
max_no_äagm’ts
 = 
numOfF¿gm’ts
;

553 #ifdeà
DEBUG_FRAC


560 
T»eD•th
 = 
	`maxT»eHİs
();

564 
i
=1;i<=(
numOfP»£ÁInäaNodesInT»e
 + 1)*(
numOfF¿gm’ts
)*
T»eD•th
;i++)

566 
cu¼’tScheduËTime
 = cu¼’tScheduËTim+ 
CONTROL_SLOT_DURATION
;

567 if(
	`fmod
(
cu¼’tScheduËTime
, 
FRAME_DURATION
è=ğ
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
)

569 
cu¼’tScheduËTime
 = cu¼’tScheduËTim+ (
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
è+ (
NO_OF_DATA_SLOTS
 * 
DATA_SLOT_DURATION
);

571 #ifdeà
DEBUG_FRAC


581 #ifdeà
DEBUG_FRAC


588 
nodeID
[
node
].
scheduËV®idFrom
 = 
cu¼’tScheduËTime
;

592 
nodeID
[
node
].
Ï¡ScheduËTime
 = 
cu¼’tScheduËTime
;

594 
	`£tFlowAùiveAtOfNewFlows
();

597 
	`£tUpNewScheduË
(
ROOT
);

620 
	`logNodeSts
(
ROOT
,
SIZE_SCHEDULE
,()((
scheduË
è+ (
·ck‘FÜm©
è+ (
scheduËEËm’t
è* 
nodeID
[ROOT].
numSchedEËm
));

621 
	`logNodeSts
(
ROOT
,
NUM_SCHEDULE_FRAGMENTS
,()
numOfF¿gm’ts
);

630 
rT»e
 = 
nodeID
[
node
].
Œ“Upd©e
;

631 
Œ“ToSchedEËm
 = 
	`cÚv”tT»eToSchedEËm
(
rT»e
);

632 
numOfF¿gm’ts
 = 
	`g‘NumOfF¿gm’ts
(
nodeID
[
node
].
numSchedEËm
 + 
Œ“ToSchedEËm
);

634 if(
numOfF¿gm’ts
 > 1)

636 
nodeID
[
node
].
mÜeF¿gm’t
 = 
TRUE
;

640 
nodeID
[
node
].
mÜeF¿gm’t
 = 
FALSE
;

643 
ÃxtScheduËTime
 = 
simTime
;

644 
ÃxtScheduËTime
 -ğ
	`fmod
(fmodÒextScheduËTime, 
FRAME_DURATION
), 
CONTROL_SLOT_DURATION
);

647 
nodeID
[
node
].
»mSchedEËm
 =‚odeID[node].
numSchedEËm
;

648 
nodeID
[
node
].
»mT»eNodes
 = 
numOfP»£ÁNodesInT»e
;

651 
šdex
 = 0; index < 
nodeID
[
node
].
numNeighbÜs
; index++)

653 
nodeID
[nodeID[
node
].
ÃighbÜLi¡
[
šdex
]].
scheduËMis£d
 = 
FALSE
;

656 
i
=0; i<
numOfF¿gm’ts
; i++)

659 
nodeID
[
node
].
brßdÿ¡SchedF¿gm’tNo
 = 
i
+1;

660 if(
nodeID
[
node
].
»mSchedEËm
 > 0 ||‚odeID[node].
»mT»eNodes
 > 0)

662 if(
nodeID
[
node
].
»mSchedEËm
 - 
maxEËmInPack‘
 >= 0)

664 
nodeID
[
node
].
cu¼SchedEËm
 = 
maxEËmInPack‘
;

665 
nodeID
[
node
].
»mSchedEËm
 -ğ
maxEËmInPack‘
;

666 
nodeID
[
node
].
cu¼T»eNodes
 = 0;

670 
nodeID
[
node
].
cu¼SchedEËm
 =‚odeID[node].
»mSchedEËm
;

672 if(
nodeID
[
node
].
Œ“Upd©e
 =ğ
TRUE
)

674 if((
maxEËmInPack‘
 - 
nodeID
[
node
].
cu¼SchedEËm
è* (
scheduËEËm’t
è> (nodeID[node].
»mT»eNodes
 * 2))

675 
nodeID
[
node
].
cu¼T»eNodes
 =‚odeID[node].
»mT»eNodes
;

677 
nodeID
[
node
].
cu¼T»eNodes
 = ((
maxEËmInPack‘
 -‚odeID[node].
cu¼SchedEËm
è* (
scheduËEËm’t
))/2;

681 
nodeID
[
node
].
cu¼T»eNodes
 = 0;

683 
nodeID
[
node
].
»mT»eNodes
 -ğnodeID[node].
cu¼T»eNodes
;

684 
nodeID
[
node
].
»mSchedEËm
 = 0;

689 if(
i
 =ğ(
numOfF¿gm’ts
-1))

691 
nodeID
[
node
].
mÜeF¿gm’t
 = 
FALSE
;

692 
sizeofPack‘
 = (
·ck‘FÜm©
è+ (
scheduË
è+ 
nodeID
[
node
].
cu¼SchedEËm
 * (
scheduËEËm’t
è+‚odeID[node].
cu¼T»eNodes
 * 2;

694 if((
nodeID
[
node
].
cu¼SchedEËm
 * (
scheduËEËm’t
è+‚odeID[node].
cu¼T»eNodes
 * 2è> (
maxEËmInPack‘
 * (scheduleElement)))

696 
	`årštf
(
¡d”r
,"\ÀSizoà·ck‘ %dƒxûed max siz%d cu¼ sched–em %d cu¼»node %dÙ® sched–em %dÙ®»node %d»eToSchedEËm %d‚umOfF¿gm’t %d f¿gm’ˆnØ%d",(
nodeID
[
node
].
cu¼SchedEËm
 * (
scheduËEËm’t
è+‚odeID[node].
cu¼T»eNodes
 * 2), (
maxEËmInPack‘
 * (scheduËEËm’t)),‚odeID[node].cu¼SchedEËm,‚odeID[node].cu¼T»eNodes,‚odeID[node].
numSchedEËm
, 
numOfP»£ÁNodesInT»e
, 
Œ“ToSchedEËm
, 
numOfF¿gm’ts
, 
i
+1);

697 
	`ex™
(0);

700 if(
node
 !ğ
ROOT
)

703 if(
nodeID
[
node
].
Ï¡ScheduËMis£d
 =ğ
FALSE
)

706 
ÃxtScheduËTimeNÚRoÙ
 = 
	`g‘NextScheduËBrßdÿ¡Time
(
node
, 
numOfF¿gm’ts
);

707 
ªEv’t
 = 
	`g‘ScheduËEv’t
(
ÃxtScheduËTimeNÚRoÙ
, 
node
,‚ode, 
TX
);

708 
	`š£¹Ev’t
(
ªEv’t
);

718 
sizeofPack‘
 = (
·ck‘FÜm©
è+ (
scheduË
è+ 
	`g‘S¶™SchedulšgEËm’ts
(è* (
scheduËEËm’t
);

724 
	`purgeNeighbÜInfo
(
node
);

725 
	`»budNeighbÜInfo
(
node
);

727 
šdex
 = 0; index < 
nodeID
[
node
].
numNeighbÜs
; index++)

730 if(
nodeID
[nodeID[
node
].
ÃighbÜLi¡
[
šdex
]].
¡©e
 !ğ
DEAD
)

733 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

742 
ªEv’t
 = 
	`g‘ScheduËEv’t
(
ÃxtScheduËTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
nodeID
[node].
ÃighbÜLi¡
[
šdex
], 
RX
);

743 
	`š£¹Ev’t
(
ªEv’t
);

748 
nodeID
[nodeID[
node
].
ÃighbÜLi¡
[
šdex
]].
scheduËMis£d
 = 
TRUE
;

750 
	`logNodeSts
(
nodeID
[
node
].
ÃighbÜLi¡
[
šdex
],
TIME_SCHEDULE_DROP
,
simTime
);

755 
ÃxtScheduËTime
 = 
	`roÙNextScheduËF¿gm’tBrßdÿ¡
(nextScheduleTime);

762 if(
nodeID
[
node
].
Œ“Upd©e
 =ğ
TRUE
)

764 
nodeID
[
node
].
Œ“Upd©eBrßdÿ¡
++;

767 if(
nodeID
[
node
].
Œ“Upd©eBrßdÿ¡
 =ğ
TREE_UPDATE_REPEAT
)

769 
nodeID
[
node
].
Œ“Upd©eBrßdÿ¡
 = 0;

770 
nodeID
[
node
].
Œ“Upd©e
 = 
FALSE
;

778 if(
node
 =ğ
ROOT
)

780 
ªEv’t
 = 
	`g‘ScheduËEv’t
(
ÃxtScheduËTime
, 
ROOT
, ROOT, 
TX
);

781 
	`š£¹Ev’t
(
ªEv’t
);

786  
SUCCESS
;

787 
	}
}

792 
	$hªdËScheduËReû±iÚ
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

794 
scheduË
 * 
aScheduË
;

795 
ev’t
 * 
ªEv’t
;

797 
ÃxtScheduËTime
, 
ÃxtEx³ùedScheduËTime
;

798 
jošScheduËTime
;

800 
rT»e
, 
mÜeF¿g
, 
schedEËm’ts
, 
Œ“ToSchedEËm
, 
numOfF¿gm’ts
;

801 
schedEËm_äag_rT»e_»³©
;

802 
v”_ty³_piggyback
;

803 
RSSI
;

804 
šdex
;

807 
numP»vInäaNodes
;

809 
i
;

810 
scheduËChªgeReûived
;

811 
¡lP¬tOfT»e
;

814 
‹mpP¬’t
;

817 
numP»vInäaNodes
 = 0;

818 
numOfF¿gm’ts
 = 0;

819 
scheduËChªgeReûived
 = 
FALSE
;

834 
	`upd©eNeighbÜInfo
(
node
, 
aPack‘
->
sourû
,‡Pack‘->
rssi
);

837 if(
nodeID
[
node
].
¡©e
 !ğ
NOT_JOINED
 && 
aPack‘
->
sourû
 !ğnodeID[node].
·»Á
)

839  
SUCCESS
;

842 if(
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 =ğ
TRUE
 &&‚odeID[node].
¡©e
 =ğ
NOT_JOINED
 && 
aPack‘
->
sourû
 !ğnodeID[node].
·»Á
)

844  
SUCCESS
;

847 if(
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 =ğ
TRUE
 &&‚odeID[node].
¡©e
 =ğ
NOT_JOINED
)

849 
‹mpP¬’t
 = 
aPack‘
->
sourû
;

852 
aScheduË
 = (
scheduË
 *)
aPack‘
->
·ylßdPack‘
;

854 
nodeID
[
node
].
glob®Time
 = 
aScheduË
->
time¡amp
;

855 
nodeID
[
node
].
off£t
 =‚odeID[node].
glob®Time
 -‚odeID[node].
loÿlTime
;

856 
nodeID
[
node
].
synchrÚized
 = 
TRUE
;

858 
	`logNodeSts
(
node
,
TIME_SYNC
,
simTime
);

860 if(
nodeID
[
node
].
¡©e
 !ğ
NOT_JOINED
 && 
aScheduË
->
äagm’tNo
 !ğnodeID[node].
ex³ùedSchedF¿gm’tNo
)

862 
nodeID
[
node
].
ex³ùedSchedF¿gm’tNo
 = 1;

863 if(
aScheduË
->
äagm’tNo
 != 1)

864  
SUCCESS
;

872 
schedEËm_äag_rT»e_»³©
 = 
aScheduË
->schedElem_frag_rTree_repeat;

873 
schedEËm’ts
 = 
	`EXTRACT_SCHEDELEM
(
schedEËm_äag_rT»e_»³©
);

874 
mÜeF¿g
 = 
	`EXTRACT_FRAG_BIT
(
schedEËm_äag_rT»e_»³©
);

876 
nodeID
[
node
].
Œ“Upd©e
 = 
rT»e
 = 
	`EXTRACT_RTREE_BIT
(
schedEËm_äag_rT»e_»³©
);

878 if(
nodeID
[
node
].
Ï¡ScheduËTime
 =ğ
UNDEFINED
)

880 
nodeID
[
node
].
Ï¡ScheduËTime
 =‚odeID[nodeID[node].
·»Á
].lastScheduleTime;

886 if(
nodeID
[
node
].
¡©e
 > 
NOT_JOINED
 &&‚odeID[node].
Ï¡ScheduËTime
 <‚odeID[nodeID[node].
·»Á
].lastScheduleTime)

890 if(
mÜeF¿g
 == 1)

892 
nodeID
[
node
].
ex³ùedSchedF¿gm’tNo
++;

893  
SUCCESS
;

896 
nodeID
[
node
].
scheduËV®idFrom
 =‚odeID[nodeID[node].
·»Á
].
Ï¡ScheduËTime
;

901 if(
node
 == 76)

906 if(
node
 == 2 ||‚ode == 1)

913 if(
nodeID
[nodeID[
node
].
·»Á
].
Ï¡ScheduËTime
 > 
simTime
)

914 
nodeID
[
node
].
Ï¡ScheduËTime
 =‚odeID[nodeID[node].
·»Á
].lastScheduleTime;

916 
nodeID
[
node
].
Ï¡ScheduËTime
 = 
simTime
 + (
CONTROL_SLOT_DURATION
 - 
	`fmod
(fmod(simTime, 
FRAME_DURATION
), CONTROL_SLOT_DURATION));

919 
nodeID
[
node
].
numOfInäaNodesInT»e
 = 
numOfP»£ÁInäaNodesInT»e
;

920 
nodeID
[
node
].
numSchedEËm
 = 
numOfP»£ÁSchedEËm
;

928 
scheduËChªgeReûived
 = 
TRUE
;

930 
	`£tUpNewScheduË
(
node
);

934 if(
mÜeF¿g
 == 1)

936 
nodeID
[
node
].
ex³ùedSchedF¿gm’tNo
++;

937  
SUCCESS
;

940 
nodeID
[
node
].
numOfInäaNodesInT»e
 = 
numOfP»£ÁInäaNodesInT»e
;

941 
nodeID
[
node
].
numSchedEËm
 = 
numOfP»£ÁSchedEËm
;

943 
nodeID
[
node
].
timeLa¡ScheduËReû±iÚ
 = 
simTime
;

947 
nodeID
[
node
].
Ï¡F¿gm’tNo
 =‚odeID[node].
ex³ùedSchedF¿gm’tNo
;

949 
Œ“ToSchedEËm
 = 
	`cÚv”tT»eToSchedEËm
(
rT»e
);

950 
nodeID
[
node
].
scheduËNumOfF¿gm’ts
 = 
numOfF¿gm’ts
 = 
	`g‘NumOfF¿gm’ts
ÒodeID[node].
numSchedEËm
 + 
Œ“ToSchedEËm
);

954 if(
nodeID
[
node
].
Ï¡ScheduËMis£d
 =ğ
TRUE
 &&‚odeID[node].
¡©e
 !ğ
NOT_JOINED
)

956 if(
nodeID
[
node
].
ty³
 =ğ
INFRA
)

959 
ÃxtScheduËTime
 = 
	`g‘Fœ¡ScheduËBrßdÿ¡Time
(
node
, 
numOfF¿gm’ts
, 
nodeID
[node].
·»Á
);

960 
ªEv’t
 = 
	`g‘ScheduËEv’t
(
ÃxtScheduËTime
, 
node
,‚ode, 
TX
);

961 
	`š£¹Ev’t
(
ªEv’t
);

965 
nodeID
[
node
].
Ï¡ScheduËMis£d
 = 
FALSE
;

968 if(
nodeID
[
node
].
¡©e
 =ğ
NOT_JOINED
)

970 if(
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 =ğ
TRUE
)

972 if(
rT»e
 =ğ
PRESENT
)

974 
šdex
 = 0; index < 
numOfP»£ÁNodesInT»e
; index++)

976 if(
nodeID
[
routšgT»e
[2 * 
šdex
]].
ty³
 =ğ
INFRA
)

977 
numP»vInäaNodes
++;

978 if(
routšgT»e
[2 * 
šdex
] =ğ
node
)

980 
nodeID
[
node
].
brßdÿ¡Tuº
 = 
numP»vInäaNodes
;

981 
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 = 
FALSE
;

982 
nodeID
[
node
].
¡©e
 = 
JOINED
;

983 
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 = 
FALSE
;

986 if(
nodeID
[
node
].
wasO½hª
 =ğ
TRUE
)

990 
nodeID
[
node
].
wasO½hª
 = 
FALSE
;

992 
nodeSt
[
node
].
timeJošG¿ÁReûived
 = 
simTime
;

993 
	`logNodeSts
(
node
,
TIME_JOIN_GRANT
,()
simTime
);

997 #ià
GENERATE_REQUESTS_FROM_FILE


1000 if(
node
 >ğ
numOfInäaNodesInN‘wÜk
 && 
simTime
 < (è
START_FLOW_AT
)

1003 if(
simTime
 > 1200000)

1010 
couÁNodesFlow
++;

1012 
ªEv’t
 = 
	`g‘CªS¹FlowReque¡Ev’t
((è
START_FLOW_AT
,
node
);

1013 
	`š£¹Ev’t
(
ªEv’t
);

1018 
nodeID
[
node
].
·»Á
 = 
routšgT»e
[2 * 
šdex
 + 1];

1020 
nodeID
[
node
].
d•th
 =‚odeID[nodeID[node].
·»Á
].depth + 1;

1022 
ªEv’t
 = 
	`g‘ScheduËReû±iÚTimeout
(
simTime
 + ()
SCHEDULE_TIMEOUT
, 
node
);

1023 
	`š£¹Ev’t
(
ªEv’t
);

1025 if(
nodeID
[
node
].
ty³
 =ğ
INFRA
)

1027 
ÃxtScheduËTime
 = 
	`g‘Fœ¡ScheduËBrßdÿ¡Time
(
node
, 
numOfF¿gm’ts
, 
‹mpP¬’t
);

1028 
ªEv’t
 = 
	`g‘ScheduËEv’t
(
ÃxtScheduËTime
, 
node
,‚ode, 
TX
);

1029 
	`š£¹Ev’t
(
ªEv’t
);

1033 
ÃxtEx³ùedScheduËTime
 = 
	`g‘NextEx³ùedScheduËTime
(
simTime
, 
nodeID
[
node
].
scheduËNumOfF¿gm’ts
, 1);

1034 
ªEv’t
 = 
	`g‘NextEx³ùedScheduËEv’t
(
ÃxtEx³ùedScheduËTime
, 
node
);

1035 
	`š£¹Ev’t
(
ªEv’t
);

1038 
‹mp
;

1039 
‹mp
 = 
	`g’”©eTİŞogyUpd©eTime
(
simTime
);

1042 
ªEv’t
 = 
	`g‘TİŞogyUpd©eEv’t
(
‹mp
, 
node
,node,
nodeID
[node].
·»Á
,
TX
, 
REGULAR
);

1043 
	`š£¹Ev’t
(
ªEv’t
);

1056 if(
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 =ğ
FALSE
 &&‚odeID[node].
¡©e
 =ğ
NOT_JOINED
)

1067 
nodeID
[
node
].
·»Á
 = 
aPack‘
->
sourû
;

1068 
nodeID
[
node
].
¥ÚsÜ
 = 
aPack‘
->
sourû
;

1069 
nodeID
[
node
].
¥ÚsÜD•th
 =‚odeID[nodeID[node].
·»Á
].
d•th
;

1073 
jošScheduËTime
 = 
JOIN_WAIT_TIME
 + 
simTime
;

1075 
nodeSt
[
node
].
timeJošReque¡S’t
 = 
jošScheduËTime
;

1077 
	`logNodeSts
(
node
,
TIME_JOIN_REQUEST
,()
simTime
);

1079 
ªEv’t
 = 
	`g‘JošReque¡Ev’t
(
jošScheduËTime
, 
node
,‚ode, 
nodeID
[node].
·»Á
, 
TX
);

1080 
	`š£¹Ev’t
(
ªEv’t
);

1081 
ªEv’t
 = 
	`g‘JošReque¡TimeoutEv’t
(
jošScheduËTime
 + 
JOIN_TIMEOUT
, 
node
);

1082 
	`š£¹Ev’t
(
ªEv’t
);

1083 
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 = 
TRUE
;

1090 if(
nodeID
[
node
].
ex³ùšgP¬’tChªge
 =ğ
TRUE
 && 
rT»e
 =ğ
PRESENT
)

1094 
šdex
 = 0; index < 
numOfP»£ÁNodesInT»e
; index++)

1096 if(
routšgT»e
[2 * 
šdex
] =ğ
node
)

1098 
nodeID
[
node
].
·»Á
 = 
routšgT»e
[2 * 
šdex
 + 1];

1101 
nodeID
[
node
].
ex³ùšgP¬’tChªge
 = 
FALSE
;

1102 
	`logMob™ySts
(
NEW_PARENT_RECEIVED
, 
node
, 
nodeID
[node].
·»Á
, 
simTime
);

1108 
nodeID
[
node
].
ex³ùedSchedF¿gm’tNo
 = 1;

1111 
¡lP¬tOfT»e
 = 
FALSE
;

1112 
šdex
 = 0; index < 
numOfP»£ÁNodesInT»e
; index++)

1114 if(
routšgT»e
[2 * 
šdex
] =ğ
node
)

1116 
¡lP¬tOfT»e
 = 
TRUE
;

1120 if(
nodeID
[
node
].
¡©e
 > 
NOT_JOINED
 && 
¡lP¬tOfT»e
 =ğ
FALSE
)

1127  
SUCCESS
;

1128 
	}
}

1131 
	$hªdËScheduËReû±iÚTimeout
(
node
)

1133 
m
;

1134 
ev’t
 * 
ªEv’t
;

1136 if(
nodeID
[
node
].
¡©e
 =ğ
DEAD
)

1139  
SUCCESS
;

1142 if(
node
 =ğ
ROOT
)

1144 
	`årštf
(
¡d”r
,"\n Sanity check failed inside handleschedulereception:‚ode ROOT \n");

1145 
	`ex™
(0);

1148 if(
nodeID
[
node
].
¡©e
 =ğ
NOT_JOINED
)

1149  
SUCCESS
;

1151 if(
nodeID
[
node
].
timeLa¡ScheduËReû±iÚ
 =ğ
UNDEFINED
)

1153 
	`årštf
(
¡d”r
,"\n Sanity check failed inside handleScheduleReceptionTimeout:imeLastScheduleReception UNDEFINED");

1154 
	`ex™
(0);

1158 if(
nodeID
[
node
].
timeLa¡ScheduËReû±iÚ
 + (
SCHEDULE_TIMEOUT
è< (
simTime
 + 
FRAME_DURATION
) )

1160 
nodeID
[
node
].
¡©e
 = 
NOT_JOINED
;

1162 
nodeID
[
node
].
wasO½hª
 = 
TRUE
;

1164 
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 = 
FALSE
;

1165 
	`logNodeSts
(
node
,
TIME_NODE_ORPHAN
,
simTime
);

1179 
	`purgeNodeInfo
(
node
);

1187 
ªEv’t
 = 
	`g‘ScheduËReû±iÚTimeout
(
nodeID
[
node
].
timeLa¡ScheduËReû±iÚ
 + ()
SCHEDULE_TIMEOUT
,‚ode);

1188 
	`š£¹Ev’t
(
ªEv’t
);

1190 if(
node
 == 6 || (node >= 33 &&‚ode <= 44 ) )

1195 
	}
}

1197 
	$hªdËEx³ùedScheduËReû±iÚ
(
node
)

1199 
numOfF¿gm’ts
;

1200 
ÃxtEx³ùedScheduËTime
;

1201 
ev’t
 * 
ªEv’t
;

1203 if(
nodeID
[
node
].
timeLa¡ScheduËReû±iÚ
 =ğ
UNDEFINED
)

1205 
	`årštf
(
¡d”r
,"\n Sanity check failed inside handleExpectedScheduleReceptionTimeout:imeLastScheduleReception UNDEFINED");

1206 
	`ex™
(0);

1209 
numOfF¿gm’ts
 = 
	`g‘NumOfF¿gm’ts
(
nodeID
[
node
].
numSchedEËm
);

1211 if(
	`g‘NextEx³ùedScheduËTime
(
nodeID
[
node
].
timeLa¡ScheduËReû±iÚ
,‚odeID[node].
scheduËNumOfF¿gm’ts
, 0è< 
simTime
)

1213 
nodeID
[
node
].
numScheduËMis£d
++;

1215 if(
nodeID
[
node
].
numScheduËMis£d
 =ğ
SCHEDULE_MISS_THRESHOLD
)

1220 
nodeID
[
node
].
Ï¡ScheduËMis£d
 = 
TRUE
;

1221 
nodeID
[
node
].
numScheduËMis£d
 = 0;

1226 
nodeID
[
node
].
Ï¡ScheduËMis£d
 = 
FALSE
;

1227 
nodeID
[
node
].
numScheduËMis£d
 = 0;

1231 
ÃxtEx³ùedScheduËTime
 = 
	`g‘NextEx³ùedScheduËTime
(
simTime
, 
nodeID
[
node
].
scheduËNumOfF¿gm’ts
, 0);

1232 
ªEv’t
 = 
	`g‘NextEx³ùedScheduËEv’t
(
ÃxtEx³ùedScheduËTime
, 
node
);

1233 
	`š£¹Ev’t
(
ªEv’t
);

1235 
	}
}

1238 
	$hªdËEx³ùedF¿gm’tReû±iÚ
(
node
, 
·ck‘FÜm©
 * 
aPack‘
)

1240 
mobe
, 
šäa
;

1241 
ev’t
 * 
ªEv’t
;

1242 
i
,
j
;

1244 
mobe
 = 
node
;

1245 
šäa
 = ((
ex³ùed_äagm’t
 *)
aPack‘
->
·ylßdPack‘
)->
šäa_node
;

1249 if(
nodeID
[
mobe
].
šäa_li¡
[
šäa
].
timeLa¡H—rd
 < (
simTime
 - 
FRAGMENT_TIMEOUT
))

1254 
nodeID
[
mobe
].
šäa_li¡
[
šäa
].
šäa_node
 = 
MAX_NO_INFRA_NODES
 + 1;

1255 
nodeID
[
mobe
].
šäa_li¡
[
šäa
].
times_ob£rved
 = 0;

1256 
nodeID
[
mobe
].
šäa_li¡
[
šäa
].
mis£d
 = 0;

1257 
j
=0; j<
INFRA_HEARD_THRESHOLD
; j++)

1259 
nodeID
[
mobe
].
šäa_li¡
[
šäa
].
rssi
[
j
] = 0;

1261 
nodeID
[
mobe
].
šäa_li¡
[
šäa
].
is_ÃighbÜ
 = 
FALSE
;

1265 if(
simTime
 > 1200000)

1267 
ªEv’t
 = 
	`g‘TİŞogyUpd©eEv’t
(
simTime
, 
mobe
, mobe, 
nodeID
[mobe].
·»Á
,
TX
, 
REACTIVE
);

1268 
	`š£¹Ev’t
(
ªEv’t
);

1275 
ªEv’t
 = 
	`g‘NextEx³ùedF¿gm’tEv’t
(
simTime
 + 
FRAGMENT_TIMEOUT
, 
node
, 
šäa
);

1276 
	`š£¹Ev’t
(
ªEv’t
);

1279 
	}
}

1281 
	$hªdËNewScheduËP¬am
(
node
)

1283 
nodeID
[
node
].
scheduËIÁ”v®
 = scheduleInterval;

1284 
nodeID
[
node
].
scheduËSlÙs
 = scheduleSlots;

1285 
	}
}

	@header.h

1 #iâdeà
__HEADER_H


2 
	#__HEADER_H
 1

	)

4 
	#PHASE_SCHEDULER
 1

	)

6 
	#GENERATE_REQUESTS_FROM_FILE
 0

	)

8 
	~<¡dio.h
>

9 
	~<¡dlib.h
>

10 
	~<m©h.h
>

11 
	~<m®loc.h
>

12 
	~<Ãtš‘/š.h
>

13 
	~<time.h
>

14 
	~<¡ršg.h
>

16 
	#VERSION
 1

	)

18 
	#SCHEDULE_MACRO
(
a
,
b
,
c
,
d
è(× << 3è| (b << 2è| (ø<< 1è| d)

	)

23 
	#EXTRACT_SCHEDELEM
(
šput
è((špuˆ>> 3è& 0x1fff)

	)

24 
	#EXTRACT_FRAG_BIT
(
šput
è((špuˆ>> 2è& 0x0001)

	)

25 
	#EXTRACT_RTREE_BIT
(
šput
è((špuˆ>> 1è& 0x0001)

	)

26 
	#EXTRACT_SCHEDREPEAT_BIT
(
šput
è(špuˆ& 0x0001)

	)

29 
	#VER_TYPE_PIGGYBACK
(
a
,
b
,
c
èĞ× << 5è| (b << 1è| c )

	)

31 
	#EXTRACT_VER
(
šput
è((špuˆ>> 5è& 0x07)

	)

32 
	#EXTRACT_TYPE
(
šput
è((špuˆ>> 1è& 0x0f)

	)

33 
	#EXTRACT_PIGGYBACK
(
šput
è(špuˆ& 0x01)

	)

37 
	#FLOWID_CHANNEL
(
a
,
b
è(× << 4è| b )

	)

38 
	#FLOWID_BW
(
a
,
b
è(× << 4è| b )

	)

39 
	#EXTRACT_FLOWID
(
šput
è((špuˆ>> 4è& 0x0fff)

	)

40 
	#EXTRACT_CHANNEL
(
šput
è(špuˆ& 0x000f)

	)

41 
	#EXTRACT_BW
(
šput
è(špuˆ& 0x000f)

	)

47 
	#PRESENT
 1

	)

48 
	#ABSENT
 0

	)

49 
	#TRUE
 1

	)

50 
	#FALSE
 0

	)

51 
	#SUCCESS
 0

	)

52 
	#FAILURE
 1

	)

54 
	#PIGGYBACK
 1

	)

56 
	#NO_PIGGYBACK
 0

	)

58 
	#MAX_FLOW_RETRY
 9

	)

60 
	#NEGATIVE_UNDEFINED
 (-1)

	)

62 
	#RAJESH_CONSTANT
 64000

	)

64 
	#UNDEFINED
 255

	)

65 
	#CONST_RSSI
 88

	)

68 
	#QUEUE_LIMIT
 32

	)

70 
	#MAX_QUEUE_EVENTS
 5000

	)

72 
	#MAX_NO_NODES
 150

	)

73 
	#MAX_NO_INFRA_NODES
 25

	)

74 
	#MAX_NO_SCHEDULE_FRAGMENTS
 30

	)

75 
	#ROOT
 0

	)

76 
	#BROADCAST
 255

	)

79 
	#MAX_NO_HOPS
 15

	)

80 
	#MAX_SIM_CALLS
 100

	)

82 
	#MAX_NO_FLOWS
 12000

	)

83 
	#MAX_FLOW_ID
 12000

	)

89 
	#MAX_PACKET_SIZE
 112

	)

92 
	#PACKET_TX_TIME
 2

94 

	)

95 
	#ACK_TIMEOUT
 0.4

97 

	)

98 
	#MAX_NO_CHANNELS
 3

99 
	#DATA_RATE
 250

100 
	#CONTROL_SLOT_DURATION
 (4.5)

101 
	#CONTENTION_SLOT_DURATION
 (3)

102 
	#DATA_SLOT_DURATION
 (3)

103 
	#NO_OF_SLOTS
 19

104 
	#NO_OF_CONTROL_SLOTS
 2

105 
	#NO_OF_CONTENTION_SLOTS
 1

106 
	#NO_OF_DATA_SLOTS
 (
NO_OF_SLOTS
-(
NO_OF_CONTROL_SLOTS
 + 
NO_OF_CONTENTION_SLOTS
))

	)

107 
	#FRAME_DURATION
 (
NO_OF_DATA_SLOTS
 * 
DATA_SLOT_DURATION
 + 
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
)

	)

112 
	#MAX_BACKOFF
 (0.2)

114 

	)

116 
	#MAX_PHASES
 (
NO_OF_DATA_SLOTS
/4)

	)

117 
	#MAX_SCHED_ELEMENTS
 (
MAX_NO_CHANNELS
 * 
NO_OF_DATA_SLOTS
 * 
MAX_NO_HOPS
)

	)

119 
	#TREE_UPDATE_REPEAT
 3

	)

122 
	#BACKOFF_LIMIT
 5

	)

125 
	#JOIN_WAIT_TIME
 (5 * 
FRAME_DURATION
)

	)

126 
	#JOIN_TIMEOUT
 (5 * 
MAX_NO_INFRA_NODES
 * 
FRAME_DURATION
 * 
MAX_NO_SCHEDULE_FRAGMENTS
)

	)

127 
	#FLOW_TIMEOUT
 (5 * 
MAX_NO_INFRA_NODES
 * 
FRAME_DURATION
 * 
MAX_NO_SCHEDULE_FRAGMENTS
)

	)

128 
	#SCHEDULE_MISS_THRESHOLD
 10

	)

131 
	#SCHEDULE_TIMEOUT
 60000

	)

134 
	#BW_INTERVAL
 (5*1000)

	)

135 
	#BW_TIMEOUT
 (
MAX_FLOW_RETRY
 * 
BW_INTERVAL
)

	)

137 
	#DATA_PACKET_SIZE
 45

138 
	#LINK_LEVEL_ACK_SIZE
 2

	)

142 
	#SECOND
 1000

	)

143 
	#TOPOLOGY_UPDATE_PERIOD
 (40)

	)

144 
	#ROOT_TOPOLOGY_UPDATE_REFRESH
 (5*
TOPOLOGY_UPDATE_PERIOD
)

	)

145 
	#ATTEMPT_LIMIT
 20

	)

149 
	#INFRA_RSSI
 -86

	)

150 
	#PARENT_RSSI
 -84

	)

151 
	#CONNECTIVITY_THRESHOLD
 -82

	)

153 
	#INFRA_HEARD_THRESHOLD
 5

	)

154 
	#MAX_INFRA_NEIGHBORS
 10

	)

158 
	#FRAGMENT_TIMEOUT
 5000

	)

160 
	#MAX_MOVING_NODES
 10

	)

162 
	#PEDESTRIAN_SPEED
 1.5

	)

164 
	#LENGTH
 90

	)

166 
	#REGULAR
 1

	)

167 
	#REACTIVE
 0

	)

168 
	#HANDOFF
 2

	)

169 
	#MAX_DATA_HISTORY
 30

	)

171 
	#HANDOFF_WAIT
 15000

	)

178 
	#DATA_PACKET_SLIDING_WINDOW
 100

	)

180 
	#MAX_END_TO_END_DATA_PACKET_LOSS_THRESHOLD
 10

	)

182 
æowDrİDueToE2EPack‘Los£s
;

188 
	gcouÁNodesFlow
;

190 
	s·ck‘FÜm©


192 
ušt16_t
 
	mv”_ty³_piggyback
;

193 
ušt16_t
 
	msourû
;

194 
ušt16_t
 
	mde¡š©iÚ
;

195 
št8_t
 
	mrssi
;

196 
ušt8_t
 *
	m·ylßdPack‘
;

199 
	sscheduË


201 
	mtime¡amp
;

202 
	mv®idFrom
;

203 
ušt16_t
 
	mäagm’tNo
;

204 
ušt16_t
 
	mschedEËm_äag_rT»e_»³©
;

208 
	sscheduËEËm’t


210 
ušt16_t
 
	mŒªsm™‹r
;

211 
ušt16_t
 
	m»ûiv”
;

212 
ušt16_t
 
	mæowId_chªÃl
;

213 
ušt16_t
 
	m¦ÙToS¹
;

214 
ušt16_t
 
	mnumSlÙs
;

217 
	sæowReque¡


219 
ušt16_t
 
	me2eSourû
;

220 
ušt16_t
 
	me2eDe¡š©iÚ
;

221 
ušt16_t
 
	mæowId_bwReque¡
;

225 
	svoiûFlowReque¡


227 
ušt16_t
 
	me2eSourû
;

230 
ušt16_t
 
	mov”®Ë2eDe¡š©iÚ
;

231 
ušt16_t
 
	mæowId_bwReque¡
;

232 
	mvoiûMsgDu¿tiÚ
;

237 
	sbwReque¡


239 
ušt16_t
 
	mæowId_bwReque¡
;

242 
	s‹¬Down


244 
ušt16_t
 
	mæowId
;

250 
	snodeJoš


252 
ušt16_t
 
	mnode
;

256 
	sd©a


258 
ušt16_t
 
	mËngth
;

259 
ušt16_t
 
	m£qNumb”
;

260 
ušt16_t
 
	me2eSourû
;

261 
ušt16_t
 
	me2eDe¡š©iÚ
;

262 
ušt16_t
 
	mæowId
;

263 
ušt16_t
 
	m¦ÙNo
;

264 
ušt16_t
 *
	m·ylßdD©a
;

270 
uniqueC®lsDrİ³d
[
MAX_FLOW_ID
];

271 
noOfC®lsAdm™‹d_Unique_C®c
;

272 
noOfSucûssC®ls
;

275 
	snodePos


277 
ušt16_t
 
	mx
;

278 
ušt16_t
 
	my
;

279 }
	gnodeLoÿtiÚ
[
MAX_NO_NODES
];

281 
ŒªsmissiÚRªgeI
,
š‹rã»nûRªgeI
;

282 
ŒªsmissiÚRªgeM
,
š‹rã»nûRªgeM
;

287 
	sÃighbÜhood_šfo


289 
ušt8_t
 
	mšäa_node
;

290 
št8_t
 
	mrssi
;

293 
	stİŞogyUpd©e


295 
ušt16_t
 
	mnode
;

296 
ušt8_t
 
	mty³
;

297 
ÃighbÜhood_šfo
 
	mÃighbÜs
[
MAX_INFRA_NEIGHBORS
];

302 
	sšäa¡ruùu»_li¡


304 
	mšäa_node
;

305 
	mtimes_ob£rved
;

306 
	mmis£d
;

307 
	mrssi
[5];

308 
	mis_ÃighbÜ
;

309 
	mav”age
;

310 
	mtimeLa¡H—rd
;

314 
	sex³ùed_äagm’t


316 
ušt8_t
 
	mšäa_node
;

320 
	smovšg_mobes


322 
	mmobe_node
;

323 
	mdœeùiÚ
;

324 
	m¡¬‹d_©
;

325 }
	gmovšg_nodes
[
MAX_MOVING_NODES
];

328 
	smobe_dœeùiÚ


330 
ušt8_t
 
	mdœeùiÚ
;

348 
uniq_time
[
MAX_NO_NODES
];

349 
uniq_time_couÁ”
;

350 
³rûÁageC®lDrİ
;

369 
	e·ck‘Ty³


371 
	mSCHEDULE
,

372 
	mSCHEDULE_ELEMENT
,

373 
	mDATA
,

374 
	mJOIN_REQUEST
,

375 
	mFLOW_REQUEST
,

376 
	mBW_REQUEST
,

377 
	mTEAR_DOWN
,

378 
	mLINK_LEVEL_ACK
,

379 
	mCONTENTION_FORWARD
,

381 
	mVOICE_FLOW_REQUEST
,

382 
	mTOPOLOGY_UPDATE
,

383 
	mEXPECTED_FRAGMENT
,

384 
	mMOBILE_DIRECTION


388 
	eev’tTy³


390 
	mTX
,

391 
	mRX
,

392 
	mRX_BEGIN
,

393 
	mRX_END
,

394 
	mCONTENTION_RX_BEGIN
,

395 
	mCONTENTION_RX_END
,

396 
	mDATA_RX_BEGIN
,

397 
	mDATA_RX_END
,

398 
	mHANDLE_CONTENTION_SLOT
,

399 
	mSTOP_TRANSMISSION
,

400 
	mMAKE_ALIVE
,

401 
	mMAKE_DEAD
,

402 
	mDATA_SLOT_TRANSMIT
,

403 
	mCONTENTION_SLOT_BEGINS
,

404 
	mCONTENTION_SLOT_BACKOFF
,

405 
	mJOIN_REQUEST_TIMEOUT
,

406 
	mFLOW_REQUEST_TIMEOUT
,

407 
	mKEEP_JOINED_TIMEOUT
,

408 
	mSCHEDULE_DISSEMINATE
,

409 
	mSCHEDULE_RECEPTION_TIMEOUT
,

410 
	mNEXT_FLOW_REQUEST
,

411 
	mGENERATE_FLOW_REQUEST
,

412 
	mCAN_START_FLOW
,

413 
	mSTART_NEW_SCHEDULE
,

414 
	mBW_REQUEST_TIMEOUT
,

415 
	mLINK_ACK_TIMEOUT
,

416 
	mCALL_REQUEST
,

417 
	mVOICE_MSG_CHECK
,

418 
	mSTORE_CAP
,

419 
	mTOPOLOGY_UPDATE_CHECK
,

420 
	mNODE_DISABLE
,

421 
	mVOICE_MSG_RELAY
,

422 
	mFRAGMENT_RECEPTION_TIMEOUT
,

423 
	mMOBILITY
,

424 
	mSTART_MOBILE
,

425 
	mSTOP_MOBILE
,

426 
	mSET_UP_NEW_SCHEDULE


429 
	enodeTy³


431 
	mINFRA
,

432 
	mMOBILE


435 
	enodeS‹


437 
	mALIVE
,

438 
	mDEAD
,

439 
	mNOT_JOINED
,

440 
	mJOINED


443 
	e®loÿtiÚ


445 
	mFREE
,

446 
	mBUSY


449 
	elogTy³


451 
	mTIME_SYNC
,

452 
	mTIME_JOIN_REQUEST
,

453 
	mTIME_JOIN_GRANT
,

454 
	mTIME_FLOW_REQUEST
,

455 
	mTIME_FLOW_GRANT
,

456 
	mSIZE_SCHEDULE
,

457 
	mNUM_SCHEDULE_FRAGMENTS
,

458 
	mTIME_NODE_DEAD
,

459 
	mTIME_NODE_ORPHAN
,

460 
	mTIME_SCHEDULE_DROP
,

461 
	mEXPECTING_PARENT_CHANGE
,

462 
	mNEW_PARENT_RECEIVED
,

463 
	mEXPECTING_PATH_CHANGE
,

464 
	mNEW_PATH_RECEIVED
,

465 
	mHANDOFF_FAIL


468 
	sev’t


470 
	mtime
;

471 
	mnode
;

472 
·ck‘FÜm©
 * 
	maPack‘
;

473 
ev’tTy³
 
	mty³
;

474 
ev’t
 *
	mÃxt
;

477 
	snodeInfo


479 
nodeTy³
 
	mty³
;

480 
nodeS‹
 
	m¡©e
;

483 
	m·ck‘BešgReûived
;

484 
	m·ck‘BešgT¿nsm™‹d
;

485 
	mcŞlisiÚ
;

486 
	mbackoff
;

488 
	mex³ùšgLškAck
;

489 
	mnumOfA‰em±s
;

492 
	mnumIÁ”ã¼šgNeighbÜs
;

493 
	mnumNeighbÜs
;

495 
	mš‹rã»nûLi¡
[
MAX_NO_NODES
];

496 
	mÃighbÜLi¡
[
MAX_NO_NODES
];

497 
	m¥ÚsÜD•th
;

498 
	m¥ÚsÜ
;

499 
	m·»Á
;

500 
	md•th
;

501 
	mbrßdÿ¡Tuº
;

502 
	mnumOfInäaNodesInT»e
;

504 
	mcÚŒŞReû±iÚCouÁ
;

505 
	mcÚŒŞReû±iÚCŞlisiÚ
;

507 
	mcu¼’tFlowId
;

509 
	mvoiûFlow
;

510 
	mnumOfTİŞogyUpd©esReûived
;

511 
	mnumOfTİŞogyUpd©esS’t
;

512 
	mmaxQueueSize
;

514 
	mæowT—»dDown
;

516 
	mex³ùšgJošReque¡Ack
;

517 
	mex³ùšgFlowReque¡Ack
;

520 
šäa¡ruùu»_li¡
 
	mšäa_li¡
[
MAX_NO_INFRA_NODES
];

521 
	md©a_hi¡Üy
[
MAX_DATA_HISTORY
 + 10];

524 
·ck‘FÜm©
 * 
	md©aPack‘Queue
[
QUEUE_LIMIT
];

525 
	md©aFrÚt
, 
	md©aR—r
;

526 
·ck‘FÜm©
 * 
	m·ck‘Queue
[
QUEUE_LIMIT
];

527 
	mcÚŒŞFrÚt
, 
	mcÚŒŞR—r
;

528 
	mnumOfPack‘sInQueue
;

529 
	mnumOfPack‘sInD©aQueue
;

531 
	mÿÎDu¿tiÚ
;

532 
	mÿÎInProg»ss
;

537 
	msynchrÚized
;

538 
	mglob®Time
;

539 
	mloÿlTime
;

540 
	moff£t
;

544 
	mÏ¡ScheduËTime
;

545 
	mscheduËIÁ”v®
;

548 
	mscheduËSlÙs
;

549 
	mÏ¡ScheduËMis£d
;

550 
	mtimeLa¡ScheduËReû±iÚ
;

553 
	mnumSchedEËm
;

554 
	mŒ“Upd©e
;

556 
	mŒ“Upd©eBrßdÿ¡
;

558 
	m»mSchedEËm
;

559 
	mcu¼SchedEËm
;

560 
	m»mT»eNodes
;

561 
	mcu¼T»eNodes
;

562 
	mmÜeF¿gm’t
;

563 
	mbrßdÿ¡SchedF¿gm’tNo
;

564 
	mscheduËV®idFrom
;

566 
	mex³ùedSchedF¿gm’tNo
;

567 
	mÏ¡F¿gm’tNo
;

569 
	mcÚ‹ÁiÚProb
;

570 
	mscheduËNumOfF¿gm’ts
;

572 
	mwasO½hª
;

575 
	mschedR•—t
;

576 
	mnumScheduËMis£d
;

577 
	mÃwScheduËReûived
;

579 
	mæowReque¡G¿Áed
;

580 
	mæowR‘ryCouÁ
;

582 
	mÿÎReque¡S’t
;

583 
	m¡Üe_ÿp
;

584 
	mex³ùšgP¬’tChªge
;

585 
	mex³ùšgP©hChªge
;

586 
	mÃxt_hİ
;

587 
	mtimeLa¡HªdoffS’t
;

588 
scheduËEËm’t
 
	mloÿlScheduËEËm’ts
[
MAX_SCHED_ELEMENTS
];

591 
	mscheduËMis£d
;

596 
	m¦idšgWšdow
[
DATA_PACKET_SLIDING_WINDOW
];

597 
	mwšdowCouÁ
;

599 
	m£qNumb”
;

601 
	m´evSeqNumb”
;

605 
	mæowScheduËS‘
[2000];

607 }
	gnodeID
[
MAX_NO_NODES
];

609 
	snodeSts


611 
	mtimeJošReque¡S’t
;

612 
	mtimeJošG¿ÁReûived
;

613 
	mtimeFlowReque¡S’t
;

614 
	mtimeFlowG¿ÁReûived
;

615 
	mnumChªÃlCÚŒŞPack‘Los£s
;

616 
	mnumQueueCÚŒŞPack‘Drİs
;

617 
	mnumFlowReque¡Drİs
;

619 
	mupTime
;

620 
	m’dC®lTime
;

622 }
	gnodeSt
[
MAX_NO_NODES
];

624 
aùiveFlowIDTime
[2000];

627 
	sæowSts


629 
	mæowId
;

630 
	msourû
;

631 
	mde¡š©iÚ
;

632 
	mæowScheduËS‘
;

633 
	mpha£
;

634 
	mtimeoutTime
;

635 
	m¦ÙA¼ay
[
MAX_NO_HOPS
 * 2];

636 
	mvoiûFlow
;

637 
	mæowS’tAt
;

638 
routšgP©h
 * 
	maP©h
;

640 }
	gæowSt
[
MAX_NO_FLOWS
];

642 
	schªÃlResourûA¼ay


644 
®loÿtiÚ
 
	m¡©e
;

645 
	msourû
;

646 
	mde¡š©iÚ
;

647 
	mæowId
;

650 
	sroutšgP©h


652 *
	m·th
;

653 
	mnumOfNodesInP©h
;

656 
uniqueC®lsOrigš©ed
[
MAX_FLOW_ID
];

659 
nodeSoáS‹AtRoÙ
[
MAX_NO_NODES
];

660 
ÃtwÜkG¿ph
[
MAX_NO_NODES
][MAX_NO_NODES];

661 
šcomšgEdge
[
MAX_NO_NODES
];

663 
glob®UniqueFlowId
;

667 
MEAN_CALL_DURATION
;

668 
MEAN_CALL_FREQUENCY
;

670 
MEAN_VOICE_CALL_DURATION
;

674 
noOfC®lsOrigš©ed
;

675 
noOfC®lsAdm™‹d
;

676 
noOfC®lsE¼Drİ³d
;

679 
noOfTÙ®FlowReque¡sReûived
;

680 
noOfTÙ®FlowReque¡sRejeùed
;

684 
numFlowReque¡sR—ched
[
MAX_FLOW_ID
];

685 
numTimedOutC®ls
[
MAX_FLOW_ID
];

686 
numSucûssC®ls
[
MAX_FLOW_ID
];

688 
æowReque¡sReûived
[
MAX_SIM_CALLS
];

689 
æowReque¡sRejeùed
[
MAX_SIM_CALLS
];

690 
æowReque¡sAdm™‹d
[
MAX_SIM_CALLS
];

692 
hİDi¡ributiÚ
[
MAX_NO_HOPS
];

694 
glob®C®lsInProg»ss
;

695 
glob®LogFlowId
;

696 
ev’t
 * 
queueH—d
;

697 
simTime
;

698 
’dSimTime
;

701 
”rÜR©e
;

704 
scheduË
 * 
glob®ScheduË
;

707 
glob®NumSchedEËm
;

710 
scheduËEËm’t
 
glob®ScheduËEËm’ts
[
MAX_SCHED_ELEMENTS
];

711 
scheduËSlÙs
;

712 
scheduËIÁ”v®
;

714 
æowsP”Node
[
MAX_NO_NODES
];

715 
pha£sP”Node
[
MAX_NO_NODES
][
MAX_PHASES
];

716 
¦ÙsP”Node
[
MAX_NO_NODES
][
NO_OF_DATA_SLOTS
];

717 
¦ÙsP”NodeSC
[
MAX_NO_NODES
];

718 
¦ÙChªÃlNodes
[
NO_OF_DATA_SLOTS
][
MAX_NO_CHANNELS
][
MAX_NO_NODES
];

720 
scheduËPack‘Chªge
;

723 
numOfFlowsInProg»ss
;

724 
numOfNodesInT»e
;

725 
numOfP»£ÁNodesInT»e
;

726 
numOfP»£ÁInäaNodesInT»e
;

727 
numOfInäaNodesInT»e
;

728 
numOfNodesInN‘wÜk
;

729 
numOfInäaNodesInN‘wÜk
;

730 
numOfMobeNodesInN‘wÜk
;

731 
routšgT»e
[
MAX_NO_NODES
*2];

733 
numOfP»£ÁSchedEËm
;

734 
max_no_äagm’ts
;

737 
glob®UniqueVoiûFlowId
;

738 
numOfVoiûFlowsInProg»ss
;

739 
voiûFlowsP”Node
[
MAX_NO_NODES
];

740 
glob®VoiûC®lsInProg»ss
;

741 
numSucûssVoiûC®ls
[
MAX_FLOW_ID
];

742 
numVoiûFlowReque¡sR—ched
[
MAX_FLOW_ID
];

743 
voiûFlowReque¡sReûived
[
MAX_SIM_CALLS
];

744 
voiûFlowReque¡sRejeùed
[
MAX_SIM_CALLS
];

745 
voiûFlowReque¡sAdm™‹d
[
MAX_SIM_CALLS
];

747 
noOfVoiûC®lsAdm™‹d
;

748 
noOfTÙ®VoiûFlowReque¡sReûived
;

749 
noOfTÙ®VoiûFlowReque¡sRejeùed
;

750 
noOfVoiûC®lsOrigš©ed
;

753 
noOfVoiûC®lsTimedOut
;

754 
noOfSucûssVoiûC®ls
;

755 
noOfUniqueVoiûFlowReque¡sReûived
;

757 
ÿÎsNÙHªdedOff
 ;

759 
	svoiûMsgQueue


761 
	msourû
;

762 
	mde¡š©iÚ
;

763 
	mov”®Ë2eDe¡š©iÚ
;

764 
	mvoiûQueueFlowId
;

765 
	mÿÎDu¿tiÚ
;

766 
	mvoiû_pha£
;

769 }
	gvoiûQueue
[50];

771 
	svoiûCu¼’tQueue


773 
	msourû
;

774 
	mde¡š©iÚ
;

775 
	mov”®Ë2eDe¡š©iÚ
;

776 
	mvoiû_pha£
;

777 
	mvoiûFlowId
;

778 
	mvoiûMsgDu¿tiÚ
;

779 
	mvoiûCİyC®lDu¿tiÚ
;

780 
routšgP©h
 * 
	mrP©h
;

782 }
	gvoiûCu¼Queue
[50];

784 
	svoiûFlowSts


786 
	mvoiûFlowId
;

787 
	msourû
;

788 
	mde¡š©iÚ
;

789 
	mhİs
;

790 
	m¡¬t_time
;

791 
	m’d_time
;

792 
	m»voked
;

793 
	mäagm’‹d
;

795 }
	gvoiûFlowSt
[
MAX_NO_FLOWS
];

797 
numP©hsInVoiûQueue
;

798 
numP©hsInVoiûCu¼Queue
;

801 
»®_time_ÿÎ_couÁ”
;

802 
noOfC®lsAdm™‹d_Unique
[
MAX_FLOW_ID
];

804 
noOfC®lsAdm™‹d_Unique_C®c
;

805 
numVoiûMsg
;

806 
voiûHİDi¡ributiÚ
[
MAX_NO_HOPS
+10];

814 
æowReque¡
 * 
Ï¡FlowReque¡
;

816 
voiûFlowReque¡
 * 
Ï¡VoiûFlowReque¡
;

818 
‹¬Down
 * 
Ï¡T—rDown
;

819 
nodeJoš
 * 
Ï¡JošReque¡
;

821 
FILE
 * 
dump
;

822 
FILE
 * 
vm
;

823 
FILE
 * 
©
;

824 
FILE
 * 
voiû_’d
;

825 
FILE
 * 
voiû_¡¬t
;

826 
FILE
 * 
voiû_log
;

829 
æowReque¡Reû±iÚCouÁ”
;

839 
¿nddoubË
();

840 
ev’t
 * 
g‘ScheduËEv’t
(
time
, 
tx
, 
rx
, 
ev’tTy³
 
ty³
);

841 
ev’t
 * 
g‘AliveEv’t
(
time
, 
node
);

842 
ev’t
 * 
g‘FlowReque¡Ev’t
(
time
, 
æowSourû
, 
æowDe¡š©iÚ
, 
æowId_bwReque¡
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
);

844 
ev’t
 * 
g‘VoiûFlowReque¡Ev’t
(
time
, 
æowSourû
, 
æowId_bwReque¡
, 
node
, 
de¡š©iÚ
, 
e2eDe¡
, 
voiûMsgDu¿tiÚ
, 
ev’tTy³
 
ty³
);

845 
ev’t
 * 
g‘VoiûMsgCheckEv’t
(
time
);

846 
ev’t
 * 
g‘StÜageC­ac™yEv’t
(
time
);

848 
ev’t
 * 
g‘JošReque¡Ev’t
(
time
, 
jošSourû
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
);

849 
exŒaùSizeof
(
·ck‘FÜm©
 * 
aPack‘
);

850 
ev’t
 * 
g‘LškLev–AckEv’t
(
time
, 
node
, 
de¡š©iÚ
, 
ty³
);

851 
ev’t
 * 
g‘JošReque¡TimeoutEv’t
(
time
, 
node
);

852 
ev’t
 * 
g‘FlowReque¡TimeoutEv’t
(
time
, 
node
);

853 
ev’t
 * 
g‘AckTimeoutEv’t
(
time
, 
node
);

854 
ev’t
 * 
g‘CÚ‹ÁiÚSlÙEv’t
(
time
, 
node
);

855 
ev’t
 * 
g‘BackoffCÚ‹ÁiÚSlÙEv’t
(
time
, 
node
);

856 
ev’t
 * 
g‘D©aS’dEv’t
(
time
, 
node
, 
scheduËEËm’t
 
šputEËm’t
);

857 
ev’t
 * 
g‘D©aSourûS’dEv’t
(
time
, 
node
, 
Ëngth
, 
£qNumb”
, 
e2eSourû
, 
e2eDe¡š©iÚ
, 
æowId
, 
sourû
, 
de¡š©iÚ
, 
¦ÙNo
, 
ev’tTy³
 
ty³
);

859 
ev’t
 * 
g‘T—rDownEv’t
(
time
, 
æowId
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
);

861 
ev’t
 * 
g‘BªdwidthReque¡Ev’t
(
time
, 
æowId_bwReque¡
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
);

862 
ev’t
 * 
g‘BªdwidthTimeoutEv’t
(
time
, 
æowId
);

863 
ev’t
 * 
g‘ScheduËReû±iÚTimeout
(
time
, 
node
);

864 
ev’t
 * 
g‘NewScheduËP¬amEv’t
(
time
, 
node
);

865 
ev’t
 * 
g‘NextEx³ùedScheduËEv’t
(
time
, 
node
);

866 
ev’t
 * 
g‘D—dEv’t
(
time
, 
node
);

867 
ev’t
 * 
g‘NextFlowReque¡Ev’t
(
time
, 
node
);

868 
ev’t
 * 
g‘CÚ‹ÁiÚReû±iÚEv’t
(
time
, 
node
, 
ev’tTy³
 
ty³
);

869 
ev’t
 * 
g‘D©aReû±iÚEv’t
(
time
, 
node
, 
ev’tTy³
 
ty³
);

870 
ev’t
 * 
g‘StİT¿nsmissiÚEv’t
(
time
, 
node
);

871 
ev’t
 * 
g‘HªdËCÚ‹ÁiÚSlÙEv’t
(
time
, 
node
);

872 
ev’t
 * 
g‘CªS¹FlowReque¡Ev’t
(
time
, 
node
);

874 
ev’t
 * 
ÃxtEv’t
();

875 
expÚC®lDu¿tiÚ
(
x
);

876 
g‘NextEx³ùedScheduËTime
(
thisTime
, 
numOfF¿gm’ts
, 
£tTe¡
);

878 
routšgP©h
 * 
g‘RoutšgP©h
(
sourû
, 
de¡š©iÚ
);

880 
ev’t
 * 
g‘TİŞogyCheckEv’t
(
time
);

881 
ev’t
 * 
g‘TİŞogyUpd©eEv’t
(
time
, 
sourû
, 
node
, 
de¡š©iÚ
, 
ev’tTy³
 
ty³
, 
upd©e_ty³
);

882 
ev’t
 * 
g‘NodeDi§blšgEv’t
(
time
);

883 
ev’t
 * 
g‘Mob™yEv’t
(
time
);

884 
ev’t
 * 
g‘S¹Mob™yEv’t
(
time
, 
mobe_node
, 
dœeùiÚ
);

885 
ev’t
 * 
g‘StİMob™yEv’t
(
time
, 
mobe_node
);

886 
ev’t
 * 
g‘VoiûMsgR–ayEv’t
(
node
, 
time
);

887 
ev’t
 * 
g‘NextEx³ùedF¿gm’tEv’t
(
time
, 
node
, 
šäa
);

888 
g’”©eTİŞogyUpd©eTime
(
time
);

889 
»sŞve_·ck‘
(, *);

890 
maxT»eHİs
();

891 
g‘NumOfHİs
();

892 
g‘P¬’t
();

893 
g‘RSSI
(
¤c
, 
d¡
, 
time
);

894 
g‘Pos™iÚ
(
node
, *
x
, *
y
, 
time
);

895 
ªyAnû¡ÜIsD—d
(
node
);

896 
isP¬tOfAnyFlow
(
node
);

897 
upd©eNeighbÜInfo
(
node
, 
šäa
, 
rssi
);

898 
purgeNeighbÜInfo
(
node
);

899 
»budNeighbÜInfo
(
node
);

900 
´štNeighbÜInfo
(
node
);

901 
³rfÜmAv”agšg
(
node
, 
šäa
, 
rssi
);

902 
g‘Cu¼’tTİŞogy
(
šäa
);

903 
choo£AµrİrŸ‹DœeùiÚ
(
x_coÜd
, 
y_coÜd
);

904 
æowInProg»ss
(
æowId
);

905 
upd©eCÚÃùiv™yInfo
(
node
, 
šäa
, 
rssi
);

906 
³rfÜmD©aAv”agšg
(
node
, 
šäa
, 
rssi
);

907 
ş—rD©aHi¡Üy
(
node
);

908 
£tSchedulšgEËm’ts
(
sourû
, 
de¡š©iÚ
, 
æowId
, 
šcomšgPha£
, 
ÿ¼yFÜw¬d
, 
hªdoff
, 
routšgP©h
 * 
aP©h
);

909 
ÿnIn£¹NextEv’t
(
node
, 
scheduËEËm’t
 
ªEËm’t
, 
ÃxtEv’tTimšg
);

910 
ÿnS’dMÜeD©a
(
node
, 
æowId
, 
pkt_¤c
, 
pkt_d¡
);

911 
nodeIsMobe
(
node
, 
æowId
, 
pkt_¤c
);

912 
g‘NewNextHİ
(
node
, 
æowId
, 
pkt_¤c
);

913 
g‘NewSlÙ
(
node
, 
æowId
, 
pkt_¤c
);

914 
logMob™ySts
(
logTy³
 
ty³
, 
node
, 
šäa
, 
simTime
);

915 
»äeshD©aQueue
(
šäa
);

916 
´štD©aQueue
(
šäa
);

917 
ev’t
 * 
g‘S‘UpNewScheduËEv’t
(
time
, 
node
);

918 
ev’t
 * 
g‘G’”©eFlowReque¡Ev’t
(
time
, 
æowId
);

	@input.c

1 
	~"h—d”.h
"

3 
	$š™ŸlizeNodes
()

6 
šdex
;

7 
šdex
 = 0; index < 
MAX_NO_NODES
; index++)

9 if(
šdex
 =ğ
ROOT
)

12 
nodeID
[
šdex
].
loÿlTime
 = 0;

13 
nodeID
[
šdex
].
off£t
 = 0;

14 
nodeID
[
šdex
].
¡©e
 = 
ALIVE
;

17 
nodeID
[
šdex
].
numNeighbÜs
 = 0;

18 
nodeID
[
šdex
].
numIÁ”ã¼šgNeighbÜs
 = 0;

20 if(
šdex
 !ğ
ROOT
)

21 
nodeID
[
šdex
].
¡©e
 = 
DEAD
;

23 
nodeID
[
šdex
].
¥ÚsÜD•th
 = 
UNDEFINED
;

24 
nodeID
[
šdex
].
¥ÚsÜ
 = 
UNDEFINED
;

25 
nodeID
[
šdex
].
·»Á
 = 
UNDEFINED
;

26 
nodeID
[
šdex
].
brßdÿ¡Tuº
 = 0;

29 
nodeID
[
šdex
].
cu¼’tFlowId
 = 0;

34 
nodeID
[
šdex
].
voiûFlow
 = 0;

35 
nodeID
[
šdex
].
¡Üe_ÿp
 = 0;

40 
nodeID
[
šdex
].
æowT—»dDown
 = 
TRUE
;

42 
nodeID
[
šdex
].
synchrÚized
 = 
FALSE
;

43 
nodeID
[
šdex
].
glob®Time
 = 0;

44 
nodeID
[
šdex
].
loÿlTime
 = 0;

45 
nodeID
[
šdex
].
off£t
 = 
UNDEFINED
;

46 
nodeID
[
šdex
].
Ï¡ScheduËTime
 = 
UNDEFINED
;

47 
nodeID
[
šdex
].
Ï¡ScheduËMis£d
 = 
FALSE
;

48 
nodeID
[
šdex
].
timeLa¡ScheduËReû±iÚ
 = 
UNDEFINED
;

50 
nodeID
[
šdex
].
scheduËIÁ”v®
 = 
UNDEFINED
;

51 
nodeID
[
šdex
].
scheduËSlÙs
 = 
UNDEFINED
;

53 
nodeID
[
šdex
].
scheduËV®idFrom
 = 
UNDEFINED
;

54 
nodeID
[
šdex
].
numSchedEËm
 = 0;

57 
nodeID
[
šdex
].
mÜeF¿gm’t
 = 
FALSE
;

58 
nodeID
[
šdex
].
Œ“Upd©e
 = 
FALSE
;

60 
nodeID
[
šdex
].
Œ“Upd©eBrßdÿ¡
 = 0;

61 
nodeID
[
šdex
].
wasO½hª
 = 
FALSE
;

63 
nodeID
[
šdex
].
schedR•—t
 = 
FALSE
;

64 
nodeID
[
šdex
].
numScheduËMis£d
 = 0;

65 
nodeID
[
šdex
].
ÃwScheduËReûived
 = 
FALSE
;

66 
nodeID
[
šdex
].
ex³ùedSchedF¿gm’tNo
 = 1;

67 
nodeID
[
šdex
].
brßdÿ¡SchedF¿gm’tNo
 = 1;

68 
nodeID
[
šdex
].
Ï¡F¿gm’tNo
 = 0;

69 
nodeID
[
šdex
].
scheduËNumOfF¿gm’ts
 = 1;

71 
nodeID
[
šdex
].
cÚ‹ÁiÚProb
 = ()1;

74 
nodeID
[
šdex
].
·ck‘BešgReûived
 =‚odeID[šdex].
·ck‘BešgT¿nsm™‹d
 = 
FALSE
;

75 
nodeID
[
šdex
].
cŞlisiÚ
 = 0;

77 
nodeID
[
šdex
].
cÚŒŞReû±iÚCouÁ
 = 0;

78 
nodeID
[
šdex
].
cÚŒŞReû±iÚCŞlisiÚ
 = 
FALSE
;

80 
nodeID
[
šdex
].
ÿÎDu¿tiÚ
 = 0;

81 
nodeID
[
šdex
].
ÿÎInProg»ss
 = 
FALSE
;

85 
nodeID
[
šdex
].
numOfPack‘sInQueue
 =‚odeID[šdex].
numOfPack‘sInD©aQueue
 = 0;

86 
nodeID
[
šdex
].
cÚŒŞFrÚt
 =‚odeID[šdex].
cÚŒŞR—r
 =‚odeID[šdex].
d©aFrÚt
 =‚odeID[šdex].
d©aR—r
 = 0;

88 
nodeID
[
šdex
].
backoff
 = 1;

89 
nodeID
[
šdex
].
ex³ùšgLškAck
 = 
FALSE
;

91 
nodeID
[
šdex
].
ex³ùšgJošReque¡Ack
 = 
FALSE
;

92 
nodeID
[
šdex
].
ex³ùšgFlowReque¡Ack
 = 
FALSE
;

93 
nodeID
[
šdex
].
æowReque¡G¿Áed
 = 0;

94 
nodeID
[
šdex
].
æowR‘ryCouÁ
 = 0;

95 
nodeID
[
šdex
].
ÿÎReque¡S’t
 = 0;

97 
nodeSt
[
šdex
].
upTime
 = () 0;

98 
nodeSt
[
šdex
].
’dC®lTime
 = ()0;

99 
nodeSt
[
šdex
].
timeJošReque¡S’t
 = 0;

100 
nodeSt
[
šdex
].
timeJošG¿ÁReûived
 = 0;

101 
nodeSt
[
šdex
].
timeFlowReque¡S’t
 = 0;

102 
nodeSt
[
šdex
].
timeFlowG¿ÁReûived
 = 0;

103 
nodeSt
[
šdex
].
numChªÃlCÚŒŞPack‘Los£s
 = 0;

104 
nodeSt
[
šdex
].
numQueueCÚŒŞPack‘Drİs
 = 0;

105 
nodeSt
[
šdex
].
numFlowReque¡Drİs
 = 0;

108 
nodeID
[
šdex
].
numOfTİŞogyUpd©esReûived
 = 0;

109 
nodeID
[
šdex
].
numOfTİŞogyUpd©esS’t
 = 0;

110 
nodeID
[
šdex
].
maxQueueSize
 = 0;

111 
nodeID
[
šdex
].
numOfA‰em±s
 = 0;

113 
nodeID
[
šdex
].
ex³ùšgP¬’tChªge
 = 
FALSE
;

114 
nodeID
[
šdex
].
ex³ùšgP©hChªge
 = 
FALSE
;

115 
nodeID
[
šdex
].
Ãxt_hİ
 = -1;

116 
nodeID
[
šdex
].
timeLa¡HªdoffS’t
 = 0;

118 
i
, 
j
;

119 
i
=0; i<
MAX_NO_INFRA_NODES
; i++)

121 
nodeID
[
šdex
].
šäa_li¡
[
i
].
šäa_node
 = 
MAX_NO_INFRA_NODES
 + 1;

122 
nodeID
[
šdex
].
šäa_li¡
[
i
].
times_ob£rved
 = 0;

123 
nodeID
[
šdex
].
šäa_li¡
[
i
].
mis£d
 = 0;

124 
j
=0; j<
INFRA_HEARD_THRESHOLD
; j++)

126 
nodeID
[
šdex
].
šäa_li¡
[
i
].
rssi
[
j
] = 0;

128 
nodeID
[
šdex
].
šäa_li¡
[
i
].
is_ÃighbÜ
 = 
FALSE
;

133 
i
=0; i < 
MAX_DATA_HISTORY
; i++)

135 
nodeID
[
šdex
].
d©a_hi¡Üy
[
i
] = 0;

138 
i
=0; i < 
MAX_SCHED_ELEMENTS
; i++)

140 
nodeID
[
šdex
].
loÿlScheduËEËm’ts
[
i
].
Œªsm™‹r
 = -1;

141 
nodeID
[
šdex
].
loÿlScheduËEËm’ts
[
i
].
»ûiv”
 = -1;

142 
nodeID
[
šdex
].
loÿlScheduËEËm’ts
[
i
].
æowId_chªÃl
 = -1;

143 
nodeID
[
šdex
].
loÿlScheduËEËm’ts
[
i
].
¦ÙToS¹
 = -1;

144 
nodeID
[
šdex
].
loÿlScheduËEËm’ts
[
i
].
numSlÙs
 = -1;

148 
i
=0; i<2000; i++)

150 
nodeID
[
šdex
].
æowScheduËS‘
[
i
] = 0;

154 
nodeID
[
šdex
].
scheduËMis£d
 = 
FALSE
;

158 
	}
}

160 
	$exŒaùIÅut
(*
f’ame
)

162 
FILE
 *
å
;

163 
Ë‰”
;

164 
šdex
;

166 
nodeIndex
;

167 
nodeNeighbÜIndex
;

168 
nodeIÁ”ã»nûIndex
;

169 
nodeI‹¿tÜ
;

171 
nodeIndex
 = 0;

172 
nodeNeighbÜIndex
 = 0;

173 
nodeIÁ”ã»nûIndex
 = 0;

175 
numOfInäaNodesInN‘wÜk
 = 0;

176 
numOfMobeNodesInN‘wÜk
 = 0;

177 
nodeI‹¿tÜ
 = 0;

179 ifĞ(
å
 = 
	`fİ’
(
f’ame
,"r")è=ğ
NULL
 )

181 
	`årštf
(
¡d”r
, "\n Error in opening input file");

182 
	`ex™
(1);

189  (
Ë‰”
 = 
	`fg‘c
(
å
)è!ğ
EOF
 )

191 if(
Ë‰”
 == '\n')

193 #ifdeà
DEBUG_ENABLE


195 
šdex
 = 0; index < 
nodeNeighbÜIndex
; index++)

201 
nodeIndex
++;

202 
numOfNodesInN‘wÜk
 = 
nodeIndex
;

203 
nodeNeighbÜIndex
 = 0;

204 
nodeIÁ”ã»nûIndex
 = 0;

205 
nodeI‹¿tÜ
 = 0;

209 ifĞ
Ë‰”
 == 'I' )

211 
nodeID
[
nodeIndex
].
ty³
 = 
INFRA
;

212 
numOfInäaNodesInN‘wÜk
++;

214 ifĞ
Ë‰”
 == 'M' )

216 
nodeID
[
nodeIndex
].
ty³
 = 
MOBILE
;

217 
numOfMobeNodesInN‘wÜk
++;

223 ifĞ
Ë‰”
 == '1' ||†etter == '2' )

225 
nodeID
[
nodeIndex
].
š‹rã»nûLi¡
[
nodeIÁ”ã»nûIndex
] = 
nodeI‹¿tÜ
;

226 
nodeIÁ”ã»nûIndex
++;

227 
nodeID
[
nodeIndex
].
numIÁ”ã¼šgNeighbÜs
++;

231 ifĞ
Ë‰”
 == '1' )

233 
nodeID
[
nodeIndex
].
ÃighbÜLi¡
[
nodeNeighbÜIndex
] = 
nodeI‹¿tÜ
;

234 
nodeNeighbÜIndex
++;

235 
nodeID
[
nodeIndex
].
numNeighbÜs
++;

238 ifĞ
Ë‰”
 == '1' ||†etter == '0' ||†etter == '2')

239 
nodeI‹¿tÜ
++;

242 
	`fşo£
(
å
);

244 
	}
}

	@nodeStats.c

1 
	~"h—d”.h
"

3 
	$¡¬tLoggšgNodeSts
()

5 
FILE
 *
å
;

6 *
»tSŒ
, *
cÚvSŒ
, *
nodeSŒ
, *
feName
;

7 
i
;

9 
nodeSŒ
 = (*)
	`m®loc
(15 * ());

10 
nodeSŒ
 = 
	`¡rıy
(nodeStr, "logs/node");

11 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

13 
i
=0;i<
numOfNodesInN‘wÜk
;i++)

16 
	`¥rštf
(
cÚvSŒ
,"%d",
i
);

17 
feName
 = 
	`¡rÿt
(
nodeSŒ
, 
cÚvSŒ
);

20 
å
 = 
	`fİ’
(
feName
,"w+");

21 if(
å
 =ğ
NULL
)

23 
	`årštf
(
¡d”r
,"\n File can‚ot be opened");

24 
	`ex™
(0);

26 
	`fşo£
(
å
);

27 
nodeSŒ
 = 
	`¡rıy
(nodeStr, "logs/node");

29 
	`ä“
(
nodeSŒ
);

30 
	`ä“
(
cÚvSŒ
);

31 
	}
}

33 
	$’dLoggšgNodeSts
()

35 
FILE
 *
å
;

36 *
»tSŒ
, *
cÚvSŒ
, *
nodeSŒ
, *
feName
;

37 
i
;

39 
nodeSŒ
 = (*)
	`m®loc
(15 * ());

40 
nodeSŒ
 = 
	`¡rıy
(nodeStr, "logs/node");

42 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

43 
i
=0;i<
numOfNodesInN‘wÜk
;i++)

45 
	`¥rštf
(
cÚvSŒ
,"%d",
i
);

46 
feName
 = 
	`¡rÿt
(
nodeSŒ
, 
cÚvSŒ
);

47 
å
 = 
	`fİ’
(
feName
,"a+");

49 if(
å
 =ğ
NULL
)

51 
	`årštf
(
¡d”r
,"\n File openingƒrror:ƒndLoggingNodeStats");

52 
	`ex™
(0);

57 
	`fşo£
(
å
);

58 
nodeSŒ
 = 
	`¡rıy
(nodeStr, "logs/node");

60 
	`ä“
(
nodeSŒ
);

61 
	`ä“
(
cÚvSŒ
);

62 
	}
}

64 
	$logNodeSts
(
node
, 
logTy³
 
ty³
, 
v®ue
)

67 
FILE
 *
å
;

68 *
»tSŒ
, *
cÚvSŒ
, *
nodeSŒ
, *
feName
;

69 
i
;

71 
nodeSŒ
 = (*)
	`m®loc
(15 * ());

72 
nodeSŒ
 = 
	`¡rıy
(nodeStr, "logs/node");

73 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

75 
	`¥rštf
(
cÚvSŒ
,"%d",
node
);

76 
feName
 = 
	`¡rÿt
(
nodeSŒ
,
cÚvSŒ
);

77 
å
 = 
	`fİ’
(
feName
,"a+");

79 if(
å
 =ğ
NULL
)

81 
	`årštf
(
¡d”r
,"\ÀFİ’šgƒ¼Ü %s:†ogNodeSts",
feName
);

83 
	`ex™
(0);

87 if(
ty³
 =ğ
TIME_SYNC
)

89 
	`årštf
(
å
,"\ÀTIME_SYNC %lf",
v®ue
);

91 if(
ty³
 =ğ
TIME_JOIN_REQUEST
)

93 
	`årštf
(
å
,"\ÀTIME_JOIN_REQUEST %làSPONSOR-DEPTH %d SPONSOR-NODE %d",
v®ue
,
nodeID
[
node
].
¥ÚsÜD•th
,nodeID[node].
·»Á
);

95 if(
ty³
 =ğ
TIME_JOIN_GRANT
)

97 
	`årštf
(
å
,"\ÀTIME_JOIN_GRANT %lf",
v®ue
);

99 if(
ty³
 =ğ
TIME_FLOW_REQUEST
)

101 
	`årštf
(
å
,"\ÀTIME_FLOW_REQUEST %lf",
v®ue
);

103 if(
ty³
 =ğ
TIME_FLOW_GRANT
)

105 
	`årštf
(
å
,"\ÀTIME_FLOW_GRANT %lf",
v®ue
);

107 if(
ty³
 =ğ
SIZE_SCHEDULE
)

109 
	`årštf
(
å
,"\ÀSIZE_SCHEDULE %d",()
v®ue
);

111 if(
ty³
 =ğ
NUM_SCHEDULE_FRAGMENTS
)

113 
	`årštf
(
å
,"\ÀNUM_SCHEDULE_FRAGMENTS %d",()
v®ue
);

115 if(
ty³
 =ğ
TIME_NODE_DEAD
)

117 
	`årštf
(
å
,"\ÀTIME_NODE_DEAD %lf",
v®ue
);

119 if(
ty³
 =ğ
TIME_NODE_ORPHAN
)

121 
	`årštf
(
å
,"\ÀTIME_NODE_ORPHAN %lf",
v®ue
);

123 if(
ty³
 =ğ
TIME_SCHEDULE_DROP
)

125 
	`årštf
(
å
,"\ÀTIME_SCHEDULE_DROP %lf",
v®ue
);

127 
	`fşo£
(
å
);

128 
	`ä“
(
nodeSŒ
);

129 
	`ä“
(
cÚvSŒ
);

130 
	}
}

132 
	$logFlowSts
(
æowId
, *
¡r
, 
v®ue
)

134 
FILE
 *
å
;

135 *
f’ame
, *
cÚvSŒ
, *
æowSŒ
;

136 
æowSŒ
 = (*)
	`m®loc
(20 * ());

137 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

139 
	`¡rıy
(
æowSŒ
, "flows/flow");

140 
	`¥rštf
(
cÚvSŒ
,"%d",
æowId
);

141 
f’ame
 = 
	`¡rÿt
(
æowSŒ
,
cÚvSŒ
);

143 
å
 = 
	`fİ’
(
f’ame
,"a+");

144 if(
å
 =ğ
NULL
)

146 
	`årštf
(
¡d”r
,"\n File openingƒrror:†ogFlowStats");

147 
	`ex™
(0);

150 
	`årštf
(
å
,"% %lf",
¡r
,()
v®ue
);

151 
	`fşo£
(
å
);

152 
	`ä“
(
æowSŒ
);

153 
	`ä“
(
cÚvSŒ
);

154 
	}
}

157 
	$logVoiûFlowSts
(
æowId
, *
¡r
, 
v®ue
)

159 
FILE
 *
å
;

160 *
f’ame
, *
cÚvSŒ
, *
æowSŒ
;

161 
æowSŒ
 = (*)
	`m®loc
(20 * ());

162 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

164 
	`¡rıy
(
æowSŒ
, "flows/flow");

165 
	`¥rštf
(
cÚvSŒ
,"%d",
æowId
);

166 
f’ame
 = 
	`¡rÿt
(
æowSŒ
,
cÚvSŒ
);

168 
å
 = 
	`fİ’
(
f’ame
,"a+");

170 if(
å
 =ğ
NULL
)

172 
	`årštf
(
¡d”r
,"\n File openingƒrror:†ogFlowStats");

173 
	`ex™
(0);

176 
	`årštf
(
å
,"% %lf",
¡r
,()
v®ue
);

178 
	`fşo£
(
å
);

179 
	`ä“
(
æowSŒ
);

180 
	`ä“
(
cÚvSŒ
);

181 
	}
}

183 
	$logStÜeC­
(
node
, 
¡Üe_ÿp
, 
time
)

185 
FILE
 *
å
;

186 *
f’ame
, *
cÚvSŒ
, *
nodeSŒ
;

187 
nodeSŒ
 = (*)
	`m®loc
(25 * ());

188 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

190 
	`¡rıy
(
nodeSŒ
, "store_cap/node");

191 
	`¥rštf
(
cÚvSŒ
,"%d",
node
);

192 
f’ame
 = 
	`¡rÿt
(
nodeSŒ
,
cÚvSŒ
);

194 
å
 = 
	`fİ’
(
f’ame
,"a+");

196 if(
å
 =ğ
NULL
)

198 
	`årštf
(
¡d”r
,"\n File openingƒrror:†ogStoreCap");

199 
	`ex™
(0);

202 
	`årštf
(
å
,"%ld \ˆ%lf\n",
¡Üe_ÿp
,
time
);

204 
	`fşo£
(
å
);

205 
	`ä“
(
nodeSŒ
);

206 
	`ä“
(
cÚvSŒ
);

207 
	}
}

210 
	$»cÜdFlow
(
æowId
)

212 
FILE
 *
å
,*
fq
;

213 
Ë‰”
;

214 *
f’ame
, *
cÚvSŒ
, *
æowSŒ
;

215 
æowSŒ
 = (*)
	`m®loc
(25 * ());

216 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

218 
	`¡rıy
(
æowSŒ
, "flows/flow");

219 
	`¥rštf
(
cÚvSŒ
,"%d",
æowId
);

220 
f’ame
 = 
	`¡rÿt
(
æowSŒ
,
cÚvSŒ
);

222 
å
 = 
	`fİ’
(
f’ame
,"r");

224 
	`¡rıy
(
æowSŒ
, "flows/globalFlow");

225 
	`¥rštf
(
cÚvSŒ
,"%d",
glob®LogFlowId
);

226 
f’ame
 = 
	`¡rÿt
(
æowSŒ
,
cÚvSŒ
);

228 
fq
 = 
	`fİ’
(
f’ame
,"w+");

232 
Ë‰”
 = 
	`fg‘c
(
å
);

233 
	`årštf
(
fq
,"%c",
Ë‰”
);

234 if(
Ë‰”
 =ğ
EOF
)

239 
	`fşo£
(
å
);

240 
	`fşo£
(
fq
);

241 
	}
}

244 
	$logMob™ySts
(
logTy³
 
ty³
, 
node
, 
šäa
, 
time
)

246 
FILE
 *
å
, *
fq
, *
ä
;

247 *
cÚvSŒ
, *
nodeSŒ
, *
feName
, *
fe_·»Á
, *
fe_·th
;

248 
i
, 
æowId
, 
¤c
, 
d¡
;

249 
routšgP©h
 * 
aP©h
;

251 
nodeSŒ
 = (*)
	`m®loc
(20 * ());

252 
nodeSŒ
 = 
	`¡rıy
(nodeStr, "mobility/node");

253 
cÚvSŒ
 = (*)
	`m®loc
(15 * ());

254 
fe_·»Á
 = (*)
	`m®loc
(30 * ());

255 
fe_·th
 = (*)
	`m®loc
(30 * ());

257 
	`¥rštf
(
cÚvSŒ
,"%d",
node
);

258 
feName
 = 
	`¡rÿt
(
nodeSŒ
,
cÚvSŒ
);

259 
å
 = 
	`fİ’
(
feName
,"a+");

261 
æowId
 = -1;

263 if(
å
 =ğ
NULL
)

265 
	`årštf
(
¡d”r
,"\ÀFİ’šgƒ¼Ü %s:†ogMob™ySts",
feName
);

266 
	`ex™
(0);

269 if(
ty³
 =ğ
EXPECTING_PARENT_CHANGE
)

271 
	`årštf
(
å
,"\n\n\ÀEx³ùšg…¬’ˆchªg£ˆtØŒufÜ‚od%d w™h„e¥eùØ™ ·»Á %d‡ˆtim%là", 
node
, 
šäa
, 
time
);

273 
	`¥rštf
(
fe_·»Á
,"%s_·»Á",
feName
);

274 
fq
 = 
	`fİ’
(
fe_·»Á
,"a+");

276 if(
fq
 =ğ
NULL
)

278 
	`årštf
(
¡d”r
,"\ÀFİ’šgƒ¼Ü %s:†ogMob™ySts",
fe_·»Á
);

279 
	`ex™
(0);

282 
	`årštf
(
fq
,"\n\nEXPECTING_PARENT_CHANGE %lf", 
time
);

283 
	`fşo£
(
fq
);

286 if(
ty³
 =ğ
EXPECTING_PATH_CHANGE
)

289 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

291 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
node
 && glob®ScheduËEËm’ts[i].
»ûiv”
 =ğ
šäa
)

293 
æowId
 = 
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

298 if(
æowId
 == -1)

305 
i
=0; i < 
numOfFlowsInProg»ss
; i++)

307 if(
æowSt
[
i
].
æowId
 == flowId)

309 
aP©h
 = 
æowSt
[
i
].aPath;

310 
¤c
 = 
æowSt
[
i
].
sourû
;

311 
d¡
 = 
æowSt
[
i
].
de¡š©iÚ
;

316 
	`årštf
(
å
,"\n\n\n\À Ex³ùšg…©h chªgfÜ‚od%d s‘‡ˆtim%là", 
node
, 
time
);

317 
	`årštf
(
å
,"\nFlowid i %d, srøi %d, de¡š©iÚ i %d ", 
æowId
, 
¤c
, 
d¡
);

318 
	`årštf
(
å
,"\n Old…ath is : ");

319 
i
=0; i < 
aP©h
->
numOfNodesInP©h
; i++)

321 
	`årštf
(
å
," %d ", 
aP©h
->
·th
[
i
]);

324 
	`¥rštf
(
fe_·th
,"%s_·th",
feName
);

325 
ä
 = 
	`fİ’
(
fe_·th
,"a+");

327 if(
ä
 =ğ
NULL
)

329 
	`årštf
(
¡d”r
,"\ÀFİ’šgƒ¼Ü %s:†ogMob™ySts",
fe_·th
);

330 
	`ex™
(0);

333 
	`årštf
(
ä
,"\n\nEXPECTING_PATH_CHANGE %lf", 
time
);

334 
	`fşo£
(
ä
);

337 if(
ty³
 =ğ
NEW_PARENT_RECEIVED
)

339 
	`årštf
(
å
,"\ÀNew…¬’ˆ»ûived fÜ‚od%d,hÃw…¬’ˆi %d , chªg»ûived‡ˆtim%là", 
node
, 
šäa
, 
time
);

341 
	`¥rštf
(
fe_·»Á
,"%s_·»Á",
feName
);

342 
fq
 = 
	`fİ’
(
fe_·»Á
,"a+");

344 if(
fq
 =ğ
NULL
)

346 
	`årštf
(
¡d”r
,"\ÀFİ’šgƒ¼Ü %s:†ogMob™ySts",
feName
);

347 
	`ex™
(0);

350 
	`årštf
(
fq
," NEW_PARENT_RECEIVED %lf", 
time
);

351 
	`fşo£
(
fq
);

353 if(
ty³
 =ğ
NEW_PATH_RECEIVED
)

356 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

358 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
node
 && glob®ScheduËEËm’ts[i].
»ûiv”
 =ğ
šäa
)

360 
æowId
 = 
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

365 if(
æowId
 == -1)

371 
i
=0; i < 
numOfFlowsInProg»ss
; i++)

373 if(
æowSt
[
i
].
æowId
 == flowId)

375 
aP©h
 = 
æowSt
[
i
].aPath;

376 
¤c
 = 
æowSt
[
i
].
sourû
;

377 
d¡
 = 
æowSt
[
i
].
de¡š©iÚ
;

382 
	`årštf
(
å
,"\n\ÀNew…©h„eûived fÜ‚od%d‡ˆtim%là", 
node
, 
time
);

383 
	`årštf
(
å
,"\nFlowid i %d, srøi %d, de¡š©iÚ i %d ", 
æowId
, 
¤c
, 
d¡
);

384 
	`årštf
(
å
,"\n New…ath is : ");

385 
i
=0; i < 
aP©h
->
numOfNodesInP©h
; i++)

387 
	`årštf
(
å
," %d ", 
aP©h
->
·th
[
i
]);

390 
	`¥rštf
(
fe_·th
,"%s_·th",
feName
);

391 
ä
 = 
	`fİ’
(
fe_·th
,"a+");

393 if(
ä
 =ğ
NULL
)

395 
	`årštf
(
¡d”r
,"\ÀFİ’šgƒ¼Ü %s:†ogMob™ySts",
feName
);

396 
	`ex™
(0);

399 
	`årštf
(
ä
," NEW_PATH_RECEIVED %lf", 
time
);

400 
	`fşo£
(
ä
);

403 if(
ty³
 =ğ
HANDOFF_FAIL
)

405 
	`årštf
(
å
," \ÀHªdofàçed fÜ‚od%d w™h„e¥eùØæowid %d‡ˆtim%là\n", 
node
, 
šäa
, 
time
);

408 
	`fşo£
(
å
);

409 
	`ä“
(
nodeSŒ
);

410 
	`ä“
(
cÚvSŒ
);

411 
	`ä“
(
fe_·»Á
);

412 
	}
}

	@randomfunc.c

1 
	~"h—d”.h
"

3 
	$š™¿nd
(
v®ue
)

5 
	`¤ªd
((è
v®ue
);

6 
	}
}

7 
	$¿nddoubË
(
wšdow
)

9 
‹mp
 = (è(
wšdow
 * (
	`¿nd
()/()(
RAND_MAX
)));

10  
‹mp
;

11 
	}
}

13 
	$¿nd_v®
()

15 
‹mp
 = (è(
	`¿nd
()/()(
RAND_MAX
));

16  
‹mp
;

17 
	}
}

19 
	$expÚDi¡riV®ue
(
x
)

21 
z
;

22 
exp_v®ue
;

27 
z
 = 
	`¿nd_v®
();

28 }(
z
 == 0) || (z == 1));

31 
exp_v®ue
 = -
x
 * 
	`log
(
z
);

33  
exp_v®ue
;

34 
	}
}

38 
	$IsPack‘ToBeDrİ³d
(
”rÜV®ue
)

40 
¿ndV®ue
;

42 
¿ndV®ue
 = 
	`¿nd
();

44 if(((
¿ndV®ue
/()(
RAND_MAX
))è< 
”rÜV®ue
)

45  
TRUE
;

47  
FALSE
;

48 
	}
}

50 
	$cÚ‹ÁiÚF¿me
(
´obab™y
)

53 
¿ndV®ue
 = (è(
	`¿nd
()/()(
RAND_MAX
)) ;

55 ifĞ
¿ndV®ue
 < 
´obab™y
)

56  
TRUE
;

58  
FALSE
;

59 
	}
}

63 
	$g’”©eTİŞogyUpd©eTime
(
time
)

66 
‹mp_¿nd
, 
‹mp_time
;

67 
com·»
, 
i
;

68 
uniq_æag
;

70 
d•th
 = 3;

74 
uniq_æag
 = 
TRUE
;

76 
‹mp_¿nd
 = ()((
	`¿nd
(è% (è((
TOPOLOGY_UPDATE_PERIOD
 * 
SECOND
)/
FRAME_DURATION
)) * FRAME_DURATION);

78 
‹mp_time
 = 
time
 + 
‹mp_¿nd
;

79 
com·»
 = (è(()
‹mp_time
 % (
TOPOLOGY_UPDATE_PERIOD
 * 
SECOND
));

83 
uniq_time
[
uniq_time_couÁ”
] = 
com·»
;

87  
‹mp_time
;

89 
i
=0; i<
uniq_time_couÁ”
; i++)

91 if((
uniq_time
[
i
] < (
com·»
 - (
d•th
*
FRAME_DURATION
))) || (uniq_time[i] > (compare + (depth*FRAME_DURATION))))

97 
uniq_æag
 = 
FALSE
;

102 }
uniq_æag
 =ğ
FALSE
);

104 
uniq_time_couÁ”
++;

116  
‹mp_time
;

117 
	}
}

	@rootfunc.c

1 
	~"h—d”.h
"

4 
	$ªyAnû¡ÜIsD—d
(
node
)

6 
i
,
j
, 
couÁ
 = 0;

8 if(
nodeID
[
node
].
¡©e
 =ğ
NOT_JOINED
)

10  
TRUE
;

13 
i
=
nodeID
[
node
].
·»Á
; i!ğ
ROOT
; )

15 
couÁ
++;

16 if(
couÁ
 > 
numOfNodesInN‘wÜk
)

18  
TRUE
;

21 if(
nodeID
[
i
].
¡©e
 =ğ
DEAD
)

24  
TRUE
;

27 
i
 = 
nodeID
[i].
·»Á
;

29  
FALSE
;

30 
	}
}

33 
	$purgeNodeInfo
(
node
)

38 
nodeID
[
node
].
¥ÚsÜD•th
 = 
UNDEFINED
;

39 
nodeID
[
node
].
¥ÚsÜ
 = 
UNDEFINED
;

40 
nodeID
[
node
].
·»Á
 = 
UNDEFINED
;

41 
nodeID
[
node
].
brßdÿ¡Tuº
 = 0;

44 
nodeID
[
node
].
cu¼’tFlowId
 = 0;

45 
nodeID
[
node
].
æowT—»dDown
 = 
TRUE
;

47 
nodeID
[
node
].
synchrÚized
 = 
FALSE
;

48 
nodeID
[
node
].
glob®Time
 = 0;

49 
nodeID
[
node
].
loÿlTime
 = 0;

50 
nodeID
[
node
].
off£t
 = 
UNDEFINED
;

51 
nodeID
[
node
].
scheduËV®idFrom
 = 
UNDEFINED
;

52 
nodeID
[
node
].
numSchedEËm
 = 0;

53 
nodeID
[
node
].
mÜeF¿gm’t
 = 
FALSE
;

54 
nodeID
[
node
].
Œ“Upd©e
 = 
FALSE
;

55 
nodeID
[
node
].
Œ“Upd©eBrßdÿ¡
 = 0;

56 
nodeID
[
node
].
schedR•—t
 = 
FALSE
;

57 
nodeID
[
node
].
numScheduËMis£d
 = 0;

58 
nodeID
[
node
].
ex³ùedSchedF¿gm’tNo
 = 1;

59 
nodeID
[
node
].
brßdÿ¡SchedF¿gm’tNo
 = 1;

60 
nodeID
[
node
].
Ï¡F¿gm’tNo
 = 0;

61 
nodeID
[
node
].
scheduËNumOfF¿gm’ts
 = 1;

62 
nodeID
[
node
].
cÚ‹ÁiÚProb
 = ()1;

63 
nodeID
[
node
].
numOfA‰em±s
 = 0;

64 
nodeID
[
node
].
·ck‘BešgReûived
 =‚odeID[node].
·ck‘BešgT¿nsm™‹d
 = 
FALSE
;

65 
nodeID
[
node
].
cŞlisiÚ
 = 0;

67 
nodeID
[
node
].
cÚŒŞReû±iÚCouÁ
 = 0;

68 
nodeID
[
node
].
cÚŒŞReû±iÚCŞlisiÚ
 = 
FALSE
;

70 
nodeID
[
node
].
ÿÎDu¿tiÚ
 = 0;

71 
nodeID
[
node
].
ÿÎInProg»ss
 = 
FALSE
;

73 
nodeID
[
node
].
numOfPack‘sInQueue
 =‚odeID[node].
numOfPack‘sInD©aQueue
 = 0;

74 
nodeID
[
node
].
cÚŒŞFrÚt
 =‚odeID[node].
cÚŒŞR—r
 =‚odeID[node].
d©aFrÚt
 =‚odeID[node].
d©aR—r
 = 0;

76 
nodeID
[
node
].
backoff
 = 1;

77 
nodeID
[
node
].
ex³ùšgLškAck
 = 
FALSE
;

79 
nodeID
[
node
].
ex³ùšgJošReque¡Ack
 = 
FALSE
;

80 
nodeID
[
node
].
ex³ùšgFlowReque¡Ack
 = 
FALSE
;

81 
nodeID
[
node
].
æowReque¡G¿Áed
 = 0;

82 
nodeID
[
node
].
æowR‘ryCouÁ
 = 0;

83 
nodeID
[
node
].
ÿÎReque¡S’t
 = 0;

84 
nodeID
[
node
].
maxQueueSize
 = 0;

86 
nodeSt
[
node
].
upTime
 = () 0;

87 
nodeSt
[
node
].
’dC®lTime
 = ()0;

88 
nodeSt
[
node
].
timeJošReque¡S’t
 = 0;

89 
nodeSt
[
node
].
timeJošG¿ÁReûived
 = 0;

90 
nodeSt
[
node
].
timeFlowReque¡S’t
 = 0;

91 
nodeSt
[
node
].
timeFlowG¿ÁReûived
 = 0;

94 
nodeID
[
node
].
numOfTİŞogyUpd©esReûived
 = 0;

95 
nodeID
[
node
].
numOfTİŞogyUpd©esS’t
 = 0;

96 
nodeID
[
node
].
maxQueueSize
 = 0;

97 
nodeID
[
node
].
numOfA‰em±s
 = 0;

99 
nodeID
[
node
].
ex³ùšgP¬’tChªge
 = 
FALSE
;

100 
nodeID
[
node
].
ex³ùšgP©hChªge
 = 
FALSE
;

101 
nodeID
[
node
].
Ãxt_hİ
 = -1;

102 
nodeID
[
node
].
timeLa¡HªdoffS’t
 = 0;

104 
i
, 
j
;

105 
i
=0; i<
MAX_NO_INFRA_NODES
; i++)

107 
nodeID
[
node
].
šäa_li¡
[
i
].
šäa_node
 = 
MAX_NO_INFRA_NODES
 + 1;

108 
nodeID
[
node
].
šäa_li¡
[
i
].
times_ob£rved
 = 0;

109 
nodeID
[
node
].
šäa_li¡
[
i
].
mis£d
 = 0;

110 
j
=0; j<
INFRA_HEARD_THRESHOLD
; j++)

112 
nodeID
[
node
].
šäa_li¡
[
i
].
rssi
[
j
] = 0;

114 
nodeID
[
node
].
šäa_li¡
[
i
].
is_ÃighbÜ
 = 
FALSE
;

119 
i
=0; i < 
MAX_DATA_HISTORY
; i++)

121 
nodeID
[
node
].
d©a_hi¡Üy
[
i
] = 0;

124 
	}
}

127 
	$purgeNeighbÜInfo
(
node
)

129 
i
,
j
;

132 
j
=0; j < 
numOfNodesInN‘wÜk
; j++)

134 if(
ÃtwÜkG¿ph
[
node
][
j
] == 1)

136 
ÃtwÜkG¿ph
[
node
][
j
] = 
UNDEFINED
;

137 
ÃtwÜkG¿ph
[
j
][
node
] = 
UNDEFINED
;

140 if(
ÃtwÜkG¿ph
[
j
][
node
] == 1)

142 
ÃtwÜkG¿ph
[
j
][
node
] = 
UNDEFINED
;

146 if(
j
 !ğ
node
)

148 
i
=0; i < 
nodeID
[
j
].
numNeighbÜs
; i++)

150 if(
nodeID
[
j
].
ÃighbÜLi¡
[
i
] =ğ
node
)

152 
k
;

154 
k
=
i
; k < 
nodeID
[
j
].
numNeighbÜs
 -1 ; k++)

156 
nodeID
[
j
].
ÃighbÜLi¡
[
k
] =‚odeID[j].neighborList[k+1];

158 
nodeID
[
j
].
numNeighbÜs
--;

160 if((
nodeID
[
j
].
ty³
 =ğ
INFRA
è|| (nodeID[
node
].type == INFRA))

161 
šcomšgEdge
[
j
]--;

167 
i
=0; i < 
nodeID
[
j
].
numIÁ”ã¼šgNeighbÜs
; i++)

169 if(
nodeID
[
j
].
š‹rã»nûLi¡
[
i
] =ğ
node
)

171 
k
;

173 
k
=
i
; k < 
nodeID
[
j
].
numIÁ”ã¼šgNeighbÜs
 -1 ; k++)

175 
nodeID
[
j
].
š‹rã»nûLi¡
[
k
] =‚odeID[j].interferenceList[k+1];

177 
nodeID
[
j
].
numIÁ”ã¼šgNeighbÜs
--;

186 if(
j
 =ğ
node
)

191 
šcomšgEdge
[
j
] = 0;

192 
nodeID
[
j
].
numNeighbÜs
 = 0;

193 
nodeID
[
j
].
numIÁ”ã¼šgNeighbÜs
 = 0;

202 
	}
}

205 
	$drİInäaFlows
(
node
)

207 if(
nodeID
[
node
].
ty³
 !ğ
INFRA
)

209 
	`årštf
(
¡d”r
,"Function called without infra‡s‡rgument \n");

210 
	`ex™
(0);

214 
i
, 
j
, 
æowId
, 
node_found
;

218 
node_found
 = 0;

220 
i
=0; i < 
nodeID
[
ROOT
].
numSchedEËm
; i++)

222 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
node
)

224 
æowId
 = 
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

226 
j
=0; j<
numOfFlowsInProg»ss
; j++)

228 if(
æowSt
[
j
].
æowId
 == flowId)

236 
	`»vokeEËm’ts
(
æowId
);

237 
node_found
 = 1;

241 }
node_found
 == 1);

243 
	}
}

246 
	$bufãrVoiûMsgTime
()

248 
bufãr
;

249 
bufãr
 = (è(
FRAME_DURATION
 * (()
numOfInäaNodesInN‘wÜk
/2è* (
	`g‘NumOfF¿gm’ts
(
nodeID
[
ROOT
].
numSchedEËm
 + 
	`cÚv”tT»eToSchedEËm
ÒodeID[ROOT].
Œ“Upd©e
)) + 5));

253  
bufãr
;

256 
	}
}

260 
	$isNodeInT»e
(
node
)

262 
i
;

263 
i
=0; i < 
numOfNodesInT»e
; i++)

265 if(
routšgT»e
[2*
i
] =ğ
node
)

266  
TRUE
;

268  
FALSE
;

269 
	}
}

272 
	$­¶yJošPŞicy
(
node
)

274 
shÜ‹¡di¡
 = (
ŒªsmissiÚRªgeI
 + 1);

275 
·»Á
, 
i
;

276 
ŒªsmissiÚRªge
;

277 
di¡ªû
;

278 
node_x
, 
node_y
;

280 
	`g‘Pos™iÚ
(
node
, &
node_x
, &
node_y
, 
simTime
);

282 if(
node
 == 25)

287 
i
=0;i<
numOfNodesInN‘wÜk
;i++)

289 if((
i
 =ğ
ROOT
è|| (
node
 !ğ˜&& 
nodeID
[i].
ty³
 =ğ
INFRA
 &&‚odeID[i].
¡©e
 > 
NOT_JOINED
))

292 
di¡ªû
 = ()
	`sq¹
(
	`pow
(
node_x
 - 
nodeLoÿtiÚ
[
i
].
x
, 2è+…ow(
node_y
 -‚odeLoÿtiÚ[i].
y
, 2));

294 if(
node
 < 
numOfInäaNodesInN‘wÜk
)

296 
ŒªsmissiÚRªge
 = 
ŒªsmissiÚRªgeI
;

300 
ŒªsmissiÚRªge
 = 
ŒªsmissiÚRªgeM
;

303 if(
di¡ªû
 < 
ŒªsmissiÚRªgeI
)

305 if(
di¡ªû
 < 
shÜ‹¡di¡
)

307 
shÜ‹¡di¡
 = 
di¡ªû
;

308 
·»Á
 = 
i
;

314 if(
shÜ‹¡di¡
 =ğ(
ŒªsmissiÚRªgeI
 + 1))

320  
·»Á
;

322 
	}
}

328 
	$hªdËJošReû±iÚRoÙ
(
·ck‘FÜm©
 * 
aPack‘
)

330 
ev’t
 * 
ªEv’t
;

331 
sizeofPack‘
;

332 
node
;

333 
i
;

335 
šäa_couÁ”
, 
k
, 
¹»e_couÁ”
, 
node_š_sched
, 
node_found_æag
, 
node_š_li¡
, 
joššg_node
;

337 
node
 = 
ROOT
;

339 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

341 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
, 
node
, 
aPack‘
->
sourû
, 
RX_BEGIN
);

342 
	`š£¹Ev’t
(
ªEv’t
);

343 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

344 
sizeofPack‘
 = 
	`exŒaùSizeof
(
ªEv’t
->
aPack‘
);

345 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aPack‘
->
sourû
, 
RX_END
);

346 
	`š£¹Ev’t
(
ªEv’t
);

356 if(
Ï¡JošReque¡
 !ğ
NULL
 &&†a¡JošReque¡->
node
 =ğ((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->nod&& (
	`isNodeInT»e
(((nodeJoš *ïPack‘->·ylßdPack‘)->nodeè=ğ
TRUE
))

358  
SUCCESS
;

361 if(
Ï¡JošReque¡
 =ğ
NULL
)

363 
Ï¡JošReque¡
 = (
nodeJoš
 *)
	`m®loc
((nodeJoin));

366 
Ï¡JošReque¡
->
node
 = ((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->node;

368 
joššg_node
 = ((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
;

371 if(
simTime
 > 1200000)

375 
i
=0; i < (
numOfNodesInT»e
); i++)

382 
i
=0; i < 
numOfNodesInT»e
; i++)

384 if(
routšgT»e
[2*
i
] =ğ((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
)

386 if(
nodeID
[((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
].
¡©e
 =ğ
NOT_JOINED
)

389 
routšgT»e
[2*
i
 + 1] = 
	`­¶yJošPŞicy
(((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
);

391 if(
routšgT»e
[2*
i
 + 1] == -1)

393 
	`årštf
(
¡d”r
,"\Àjoš faed wh’„e-joššg fÜ %d", 
joššg_node
);

397 
nodeID
[
ROOT
].
Œ“Upd©e
 = 
TRUE
;

398 
scheduËPack‘Chªge
 = 
TRUE
;

403 
nodeSoáS‹AtRoÙ
[((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
] = ()(()
ROOT_TOPOLOGY_UPDATE_REFRESH
 * ()
SECOND
);

407 if(
simTime
 > 1200000)

435  
SUCCESS
;

439 
routšgT»e
[2 * 
numOfNodesInT»e
] = ((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
;

442 
routšgT»e
[2 * 
numOfNodesInT»e
 + 1] = 
	`­¶yJošPŞicy
(((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
);

444 if(
routšgT»e
[2*
numOfNodesInT»e
 + 1] == -1)

446 
	`årštf
(
¡d”r
,"\Àjoš faed wh’ joššg fÜ %d", 
joššg_node
);

450 if(
nodeID
[((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
].
ty³
 =ğ
INFRA
)

451 
numOfInäaNodesInT»e
++;

452 
numOfNodesInT»e
++;

455 
nodeID
[
ROOT
].
Œ“Upd©e
 = 
TRUE
;

456 
scheduËPack‘Chªge
 = 
TRUE
;

459 
nodeSoáS‹AtRoÙ
[((
nodeJoš
 *)
aPack‘
->
·ylßdPack‘
)->
node
] = ()(()
ROOT_TOPOLOGY_UPDATE_REFRESH
 * ()
SECOND
);

467 if(
simTime
 > 1200000)

474 if(
numP©hsInVoiûQueue
 > 0)

476 
j
;

477 
j
=0; j<
numP©hsInVoiûQueue
; j++)

479 if(
voiûQueue
[
j
].
de¡š©iÚ
 =ğ
joššg_node
 && voiûQueue[j].
sourû
 =ğ
ROOT
)

481 
ªEv’t
 = 
	`g‘VoiûMsgR–ayEv’t
(
joššg_node
, 
simTime
 + 30000);

482 
	`š£¹Ev’t
(
ªEv’t
);

521 
	}
}

524 
	$hªdËTİŞogyUpd©eRoÙ
(
·ck‘FÜm©
 * 
aPack‘
)

526 
ev’t
 * 
ªEv’t
;

527 
routšgP©h
 * 
‹mp_·th
;

528 
routšgP©h
 * 
hªdoff_·th
;

529 
routšgP©h
 ** 
·th_¬¿y
;

530 
routšgP©h
 * 
sw­
;

531 
sizeofPack‘
;

532 
i
,
j
,
node
, 
upd©e_ty³
, 
æowId
, 
æow_¤c
, 
æow_d¡
;

533 
upd©e_»cvd_äom
;

534 
di¡ªû
;

535 
is_¤c
, 
is_d¡
;

536 
is_¤c
 = 
is_d¡
 = 
FALSE
;

537 
»tV®
 = 0;

539 
node
 = 
ROOT
;

541 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

543 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
, 
node
, 
aPack‘
->
sourû
, 
RX_BEGIN
);

544 
	`š£¹Ev’t
(
ªEv’t
);

545 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

546 
sizeofPack‘
 = 
	`exŒaùSizeof
(
ªEv’t
->
aPack‘
);

547 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aPack‘
->
sourû
, 
RX_END
);

548 
	`š£¹Ev’t
(
ªEv’t
);

555 
nodeID
[
node
].
numOfTİŞogyUpd©esReûived
++;

557 
nodeSoáS‹AtRoÙ
[((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
node
] = ()(()
ROOT_TOPOLOGY_UPDATE_REFRESH
 * ()
SECOND
);

560 
upd©e_»cvd_äom
 = ((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
node
 ;

566 
i
=0; i < 
MAX_INFRA_NEIGHBORS
; i++)

568 if(((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[
i
].
šäa_node
 !ğ
MAX_NO_INFRA_NODES
 + 1)

573 if(((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[
i
].
šäa_node
 =ğ
nodeID
[
upd©e_»cvd_äom
].
·»Á
)

575 if(((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[
i
].
rssi
 < 
PARENT_RSSI
)

580 
j
=0; j < 
numOfNodesInT»e
; j++)

582 if(
routšgT»e
[2*
j
] =ğ
upd©e_»cvd_äom
)

584 if(
nodeID
[
upd©e_»cvd_äom
].
¡©e
 =ğ
NOT_JOINED
)

590 
routšgT»e
[2*
j
 + 1] = 
	`­¶yJošPŞicy
(
upd©e_»cvd_äom
);

592 if(
routšgT»e
[2*
j
 + 1] == -1)

594 
	`årštf
(
¡d”r
,"\Àjoš faed wh’„e-joššg fÜ %d", 
upd©e_»cvd_äom
);

595 
	`ex™
(0);

598 
nodeID
[
ROOT
].
Œ“Upd©e
 = 
TRUE
;

599 
scheduËPack‘Chªge
 = 
TRUE
;

612 
	`purgeNeighbÜInfo
(
upd©e_»cvd_äom
);

613 
	`»budNeighbÜInfo
(
upd©e_»cvd_äom
);

616 
šäa_found_š_upd©e
;

618 
i
=0; i < 
nodeID
[
upd©e_»cvd_äom
].
numIÁ”ã¼šgNeighbÜs
; i++)

620 if(
nodeID
[nodeID[
upd©e_»cvd_äom
].
š‹rã»nûLi¡
[
i
]].
ty³
 =ğ
INFRA
)

623 
šäa_found_š_upd©e
 = 
FALSE
;

625 
j
=0; j < 
MAX_INFRA_NEIGHBORS
; j++)

627 if(((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[
j
].
šäa_node
 !ğ
MAX_NO_INFRA_NODES
 + 1)

629 if(((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[
j
].
šäa_node
 =ğ
nodeID
[
upd©e_»cvd_äom
].
š‹rã»nûLi¡
[
i
])

631 
šäa_found_š_upd©e
 = 
TRUE
;

636 if(
šäa_found_š_upd©e
 =ğ
FALSE
)

647 
upd©e_ty³
 = ((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ty³
;

649 if(
upd©e_ty³
 =ğ
HANDOFF
)

652 
šäas_above_th»shŞd
;

653 
šäas_above_th»shŞd
 = 0;

654 
cÚÃùiv™y_šäas
[
MAX_INFRA_NEIGHBORS
];

655 
i
=0; i < 
MAX_INFRA_NEIGHBORS
; i++)

657 
cÚÃùiv™y_šäas
[
i
] = 
MAX_NO_INFRA_NODES
 + 1;

662 
i
=0; i<
numOfFlowsInProg»ss
; i++)

664 if(
æowSt
[
i
].
sourû
 =ğ
upd©e_»cvd_äom
 || flowSt[i].
de¡š©iÚ
 == update_recvd_from)

667 
æowId
 = 
æowSt
[
i
].flowId;

668 
æow_¤c
 = 
æowSt
[
i
].
sourû
;

669 
æow_d¡
 = 
æowSt
[
i
].
de¡š©iÚ
;

671 if(
æow_¤c
 =ğ
upd©e_»cvd_äom
)

673 
is_¤c
 = 
TRUE
;

677 
is_d¡
 = 
TRUE
;

685 if(((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[0].
šäa_node
 !ğ
MAX_NO_INFRA_NODES
 + 1)

691 
	`årštf
(
¡d”r
,"No infra‚ode inhe‚eighborhood \n");

692 
	`ex™
(0);

695 
i
=0; i < 
MAX_INFRA_NEIGHBORS
; i++)

697 if(((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[
i
].
šäa_node
 !ğ
MAX_NO_INFRA_NODES
 + 1)

701 if(((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[
i
].
rssi
 >ğ
CONNECTIVITY_THRESHOLD
)

703 
cÚÃùiv™y_šäas
[
šäas_above_th»shŞd
] = ((
tİŞogyUpd©e
 *)
aPack‘
->
·ylßdPack‘
)->
ÃighbÜs
[
i
].
šäa_node
;

704 
šäas_above_th»shŞd
++;

711 
i
=0; i < 
šäas_above_th»shŞd
 ; i++)

716 
·th_¬¿y
 = (
routšgP©h
 ** )
	`m®loc
(
šäas_above_th»shŞd
 * (routingPath *));

718 if(
is_¤c
 =ğ
TRUE
)

720 
i
=0; i < 
šäas_above_th»shŞd
; i++)

722 
·th_¬¿y
[
i
] = 
	`g‘RoutšgP©h
(
cÚÃùiv™y_šäas
[i], 
æow_d¡
);

724 
j
=0; j < 
·th_¬¿y
[
i
]->
numOfNodesInP©h
; j++)

731 
i
=0; i < 
šäas_above_th»shŞd
; i++)

733 
j
=
i
+1; j < 
šäas_above_th»shŞd
; j++)

735 if(
·th_¬¿y
[
j
]->
numOfNodesInP©h
 <…©h_¬¿y[
i
]->numOfNodesInPath)

738 
sw­
 = 
·th_¬¿y
[
i
];

739 
·th_¬¿y
[
i
] =…©h_¬¿y[
j
];

740 
·th_¬¿y
[
j
] = 
sw­
;

745 
i
=0; i < 
šäas_above_th»shŞd
; i++)

748 
j
=0; j < 
·th_¬¿y
[
i
]->
numOfNodesInP©h
; j++)

754 
	`»vokeEËm’ts
(
æowId
);

757 
æowSt
[
numOfFlowsInProg»ss
].
sourû
 = 
æow_¤c
;

758 
æowSt
[
numOfFlowsInProg»ss
].
de¡š©iÚ
 = 
æow_d¡
;

759 
æowSt
[
numOfFlowsInProg»ss
].
æowId
 = flowId;

760 
æowSt
[
numOfFlowsInProg»ss
].
voiûFlow
 = 0;

761 
æowSt
[
numOfFlowsInProg»ss
].
aP©h
 = 
hªdoff_·th
;

763 
numOfFlowsInProg»ss
++;

766 
i
=0; i < 
šäas_above_th»shŞd
 ; i++)

768 
»tV®
 = 0;

770 
hªdoff_·th
 = (
routšgP©h
 *)
	`m®loc
((routingPath));

771 
hªdoff_·th
->
numOfNodesInP©h
 = 
·th_¬¿y
[
i
]->numOfNodesInPath + 1;

772 
hªdoff_·th
->
·th
 = (*)
	`m®loc
(hªdoff_·th->
numOfNodesInP©h
 * ());

775 
j
=0; j < 
·th_¬¿y
[
i
]->
numOfNodesInP©h
; j++)

777 
hªdoff_·th
->
·th
[
j
+1] = 
·th_¬¿y
[
i
]->path[j];

779 
hªdoff_·th
->
·th
[0] = 
æow_¤c
;

782 
j
=0; j < 
hªdoff_·th
->
numOfNodesInP©h
; j++)

787 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
æow_¤c
, 
æow_d¡
, 
æowId
,„‘V®, 0, 1, 
hªdoff_·th
);

788 
»tV®
 !ğ(-1è&&„‘V® < (
MAX_PHASES
-1))

790 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
æow_¤c
, 
æow_d¡
, 
æowId
,„‘V®+1, 0, 1, 
hªdoff_·th
);

792 if(
»tV®
 == -1)

798 if(
»tV®
 != -1)

801 
ÿÎsNÙHªdedOff
++;

803 
numOfFlowsInProg»ss
--;

804 
	`logMob™ySts
(
HANDOFF_FAIL
, 
upd©e_»cvd_äom
, 
æowId
, 
simTime
);

809 if(
is_d¡
 =ğ
TRUE
)

811 
i
=0; i < 
šäas_above_th»shŞd
; i++)

813 
·th_¬¿y
[
i
] = 
	`g‘RoutšgP©h
(
æow_¤c
, 
cÚÃùiv™y_šäas
[i]);

815 
j
=0; j < 
·th_¬¿y
[
i
]->
numOfNodesInP©h
; j++)

822 
i
=0; i < 
šäas_above_th»shŞd
; i++)

824 
j
=
i
+1; j < 
šäas_above_th»shŞd
; j++)

826 if(
·th_¬¿y
[
j
]->
numOfNodesInP©h
 <…©h_¬¿y[
i
]->numOfNodesInPath)

829 
sw­
 = 
·th_¬¿y
[
i
];

830 
·th_¬¿y
[
i
] =…©h_¬¿y[
j
];

831 
·th_¬¿y
[
j
] = 
sw­
;

836 
i
=0; i < 
šäas_above_th»shŞd
; i++)

839 
j
=0; j < 
·th_¬¿y
[
i
]->
numOfNodesInP©h
; j++)

845 
	`»vokeEËm’ts
(
æowId
);

848 
æowSt
[
numOfFlowsInProg»ss
].
sourû
 = 
æow_¤c
;

849 
æowSt
[
numOfFlowsInProg»ss
].
de¡š©iÚ
 = 
æow_d¡
;

850 
æowSt
[
numOfFlowsInProg»ss
].
æowId
 = flowId;

851 
æowSt
[
numOfFlowsInProg»ss
].
voiûFlow
 = 0;

852 
æowSt
[
numOfFlowsInProg»ss
].
aP©h
 = 
hªdoff_·th
;

854 
numOfFlowsInProg»ss
++;

857 
i
=0; i < 
šäas_above_th»shŞd
 ; i++)

859 
»tV®
 = 0;

861 
hªdoff_·th
 = (
routšgP©h
 *)
	`m®loc
((routingPath));

862 
hªdoff_·th
->
numOfNodesInP©h
 = 
·th_¬¿y
[
i
]->numOfNodesInPath + 1;

863 
hªdoff_·th
->
·th
 = (*)
	`m®loc
(hªdoff_·th->
numOfNodesInP©h
 * ());

866 
j
=0; j < 
·th_¬¿y
[
i
]->
numOfNodesInP©h
; j++)

868 
hªdoff_·th
->
·th
[
j
] = 
·th_¬¿y
[
i
]->path[j];

870 
hªdoff_·th
->
·th
[
j
] = 
æow_d¡
;

873 
j
=0; j < 
hªdoff_·th
->
numOfNodesInP©h
; j++)

878 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
æow_¤c
, 
æow_d¡
, 
æowId
,„‘V®, 0, 1, 
hªdoff_·th
);

879 
»tV®
 !ğ(-1è&&„‘V® < (
MAX_PHASES
-1))

881 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
æow_¤c
, 
æow_d¡
, 
æowId
,„‘V®+1, 0, 1, 
hªdoff_·th
);

883 if(
»tV®
 == -1)

889 if(
»tV®
 != -1)

892 
ÿÎsNÙHªdedOff
++;

894 
numOfFlowsInProg»ss
--;

895 
	`logMob™ySts
(
HANDOFF_FAIL
, 
upd©e_»cvd_äom
, 
æowId
, 
simTime
);

904 
	}
}

908 
	$hªdËTİŞogyUpd©eCheck
()

911 
couÁ
, 
i
, 
j
, 
node
;

912 
couÁ
 = 1; couÁ < 
numOfNodesInT»e
; count++)

914 if(
nodeSoáS‹AtRoÙ
[
routšgT»e
[2 * 
couÁ
]] > 0)

916 
nodeSoáS‹AtRoÙ
[
routšgT»e
[2 * 
couÁ
]] -ğ
FRAME_DURATION
;

917 if(
nodeSoáS‹AtRoÙ
[
routšgT»e
[2 * 
couÁ
]] <= 0)

919 
node
 = 
routšgT»e
[2 * 
couÁ
];

924 
i
=
couÁ
; i<(
numOfNodesInT»e
 - 1); i++)

926 
routšgT»e
[2 * 
i
 + 1] =„outingTree[2 * (i+1) + 1];

927 
routšgT»e
[2 * 
i
] =„outingTree[2 * (i+1)];

930 
numOfNodesInT»e
--;

931 if(
nodeID
[
node
].
ty³
 =ğ
INFRA
)

933 
numOfInäaNodesInT»e
--;

934 
	`drİInäaFlows
(
node
);

941 if(
	`ªyAnû¡ÜIsD—d
(
node
è=ğ
TRUE
)

949 
	`purgeNeighbÜInfo
(
node
);

950 
	`purgeNodeInfo
(
node
);

952 
nodeID
[
ROOT
].
Œ“Upd©e
 = 
TRUE
;

953 
scheduËPack‘Chªge
 = 
TRUE
;

959  
SUCCESS
;

960 
	}
}

965 
	$hªdËBwReque¡Timeout
(
æowId
)

967 
i
;

968 
æowP»£Á
;

969 
æowP»£Á
 = 
FALSE
;

971 if(
numOfFlowsInProg»ss
 == 0)

973  
SUCCESS
;

975 
i
=0;i<
numOfFlowsInProg»ss
;i++)

977 if(
æowSt
[
i
].
æowId
 == flowId)

979 
æowP»£Á
 = 
TRUE
;

980 if(
æowSt
[
i
].
timeoutTime
 <ğ
simTime
)

982 if(
	`isFlowRevoked
(
æowId
è=ğ
FALSE
)

984 if(
nodeID
[
æowSt
[
i
].
sourû
].
ÿÎDu¿tiÚ
 > 0)

986 
noOfC®lsE¼Drİ³d
++;

989 
	`årštf
(
¡d”r
,"\ÀBW Reque¡ Timouˆ: %d flow„evoked‚ow, du¿tiÚ†eá %làmšu‹s",
æowId
, 
nodeID
[
æowSt
[
i
].
sourû
].
ÿÎDu¿tiÚ
/(60*1000));

990 
	`¦“p
(2);

993 if(
MAX_NO_CHANNELS
 < 3)

995 
	`»vokeEËm’tsSšgËChªÃl
(
æowId
);

1000 #ifdeà
PHASE_SCHEDULER


1001 
	`»vokeEËm’ts
(
æowId
);

1003 
	`»vokeEËm’ts_schedAlgo
(
æowId
);

1016  
SUCCESS
;

1020 if(
æowP»£Á
 =ğ
TRUE
)

1028 
	}
}

1031 
	$hªdËFlowReû±iÚRoÙ
(
·ck‘FÜm©
 * 
aPack‘
)

1033 
ev’t
 * 
ªEv’t
;

1034 
æowReque¡
 * 
aFlowReque¡
;

1035 
sizeofPack‘
;

1036 
node
;

1037 
i
, 
couÁC®ls
;

1039 
»tV®
 = 0;

1041 
‹mpNumGlob®SchedEËm
;

1042 
k
;

1044 
node
 = 
ROOT
;

1046 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

1048 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
, 
node
, 
aPack‘
->
sourû
, 
RX_BEGIN
);

1049 
	`š£¹Ev’t
(
ªEv’t
);

1050 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

1051 
sizeofPack‘
 = 
	`exŒaùSizeof
(
ªEv’t
->
aPack‘
);

1052 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aPack‘
->
sourû
, 
RX_END
);

1053 
	`š£¹Ev’t
(
ªEv’t
);

1060 
aFlowReque¡
 = (
æowReque¡
 *)
aPack‘
->
·ylßdPack‘
;

1062 if(
Ï¡FlowReque¡
 !ğ
NULL
 &&†a¡FlowReque¡->
e2eSourû
 =ğ
aFlowReque¡
->e2eSourû &&†a¡FlowReque¡->
e2eDe¡š©iÚ
 =ğaFlowReque¡->e2eDe¡š©iÚ &&†a¡FlowReque¡->
æowId_bwReque¡
 ==‡FlowRequest->flowId_bwRequest)

1067  
SUCCESS
;

1070 if(
Ï¡FlowReque¡
 =ğ
NULL
)

1072 
Ï¡FlowReque¡
 = (
æowReque¡
 *)
	`m®loc
((flowRequest));

1074 
Ï¡FlowReque¡
->
e2eSourû
 = 
aFlowReque¡
->e2eSource;

1075 
Ï¡FlowReque¡
->
e2eDe¡š©iÚ
 = 
aFlowReque¡
->e2eDestination;

1076 
Ï¡FlowReque¡
->
æowId_bwReque¡
 = 
aFlowReque¡
->flowId_bwRequest;

1079 if(
nodeID
[
aFlowReque¡
->
e2eDe¡š©iÚ
].
ÿÎInProg»ss
 =ğ
TRUE
)

1089 if(
aFlowReque¡
->
e2eSourû
 =ğ49 &&‡FlowReque¡->
e2eDe¡š©iÚ
 =ğ53 && 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
) == 89)

1095 
æowReque¡Reû±iÚCouÁ”
++;

1097 if(
	`de¡š©iÚIsUp
(
aFlowReque¡
->
e2eDe¡š©iÚ
è=ğ
SUCCESS
)

1106 #ifdeà
PHASE_SCHEDULER


1108 if(
MAX_NO_CHANNELS
 < 3)

1112 
»tV®
 = 
	`£tSchedulšgEËm’tsSšgËChªÃl
(
aFlowReque¡
->
e2eSourû
,‡FlowReque¡->
e2eDe¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
),„etVal);

1120 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
aFlowReque¡
->
e2eSourû
,‡FlowReque¡->
e2eDe¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
),„‘V®, 0, -1, 
NULL
);

1123 
»tV®
 !ğ(-1è&&„‘V® < (
MAX_PHASES
-1))

1127 if(
MAX_NO_CHANNELS
 < 3)

1131 
»tV®
 = 
	`£tSchedulšgEËm’tsSšgËChªÃl
(
aFlowReque¡
->
e2eSourû
,‡FlowReque¡->
e2eDe¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
),„etVal+1);

1140 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
aFlowReque¡
->
e2eSourû
,‡FlowReque¡->
e2eDe¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
),„‘V®+1, 0, -1, 
NULL
);

1151 if(
»tV®
 =ğ(
MAX_PHASES
))

1159 if(
MAX_NO_CHANNELS
 < 3)

1174 
‹mpNumGlob®SchedEËm
 = 
glob®NumSchedEËm
;

1176 if(
	`£tScheduË_shÜ‹¡P©h
(
aFlowReque¡
->
e2eSourû
,‡FlowReque¡->
e2eDe¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
)))

1178 if(
	`£tScheduË_shÜ‹¡P©h
(
aFlowReque¡
->
e2eDe¡š©iÚ
,‡FlowReque¡->
e2eSourû
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
)))

1182 
	`£tScheduËInfo
();

1184 
æowReque¡sAdm™‹d
[
glob®C®lsInProg»ss
]++;

1185 
glob®C®lsInProg»ss
++;

1186 
noOfC®lsAdm™‹d
++;

1187 
noOfC®lsAdm™‹d_Unique
[
	`EXTRACT_FLOWID
(
aFlowReque¡
->
æowId_bwReque¡
)] = 1;

1195 
k
=
‹mpNumGlob®SchedEËm
; k<
glob®NumSchedEËm
; k++)

1199 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[k].
æowId_chªÃl
)][glob®ScheduËEËm’ts[k].
Œªsm™‹r
] = 0;

1200 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[k].
æowId_chªÃl
)][glob®ScheduËEËm’ts[k].
»ûiv”
] = 0;

1205 
glob®NumSchedEËm
 = 
‹mpNumGlob®SchedEËm
;

1218 
	}
}

1221 
	$checkVoiûPha£s
(
sourû
, 
de¡š©iÚ
)

1223 
routšgP©h
 *
aP©h
, *
Ãw_aP©h
;

1224 
aP©h
 = 
	`g‘RoutšgP©h
(
sourû
, 
de¡š©iÚ
);

1225 
i
,
j
,
æag
,
Ãw_de¡š©iÚ
, 
node_couÁ”
,
»tV®
,
Ãw_pha£
;

1227 
i
=0; i < 
MAX_PHASES
; i++)

1229 
æag
 = 0;

1231 
j
=0; j<
aP©h
->
numOfNodesInP©h
; j++)

1233 if(
pha£sP”Node
[
aP©h
->
·th
[
j
]][
i
] == 1 ||…hasesPerNode[aPath->path[j]][i] == 2)

1234 
æag
 = 1;

1237 if(
æag
 == 0)

1240  
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1];

1244 if(
i
 =ğ
MAX_PHASES
 && 
aP©h
->
numOfNodesInP©h
 == 2)

1249 if(
i
 =ğ
MAX_PHASES
 && 
aP©h
->
numOfNodesInP©h
 > 2)

1254 
node_couÁ”
 = 2;‚ode_couÁ” <ğ(
aP©h
->
numOfNodesInP©h
-1) ;‚ode_counter++)

1256 
Ãw_aP©h
 = 
	`g‘RoutšgP©h
(
sourû
, 
aP©h
->
·th
[aP©h->
numOfNodesInP©h
 - 
node_couÁ”
]);

1259 
Ãw_pha£
 = 0;‚ew_pha£ < 
MAX_PHASES
;‚ew_phase++)

1261 
æag
 = 0;

1263 
j
=0; j < 
Ãw_aP©h
->
numOfNodesInP©h
; j++)

1265 if(
pha£sP”Node
[
Ãw_aP©h
->
·th
[
j
]][
Ãw_pha£
] == 1 ||…hasesPerNode[new_aPath->path[j]][new_phase] == 2)

1266 
æag
 = 1;

1269 if(
æag
 == 0)

1272  
Ãw_aP©h
->
·th
[Ãw_aP©h->
numOfNodesInP©h
-1];

1277 if(
Ãw_pha£
 =ğ
MAX_PHASES
)

1284 
	}
}

1286 
	$g‘VoiûDe¡š©iÚ
(
sourû
, 
de¡š©iÚ
)

1289 
i
,
j
,
k
,
pha£_check
;

1290 
routšgP©h
 * 
aP©h
;

1291 
aP©h
 = 
	`g‘RoutšgP©h
(
sourû
,
de¡š©iÚ
);

1294 
i
=0;i<
aP©h
->
numOfNodesInP©h
;i++)

1297 if(
aP©h
->
·th
[
i
] < 0 ||‡P©h->·th[i] > 
numOfNodesInN‘wÜk
)

1299 
	`årštf
(
¡d”r
,"exiting forƒrror checking in getVoiceDestination\n");

1300 
	`ex™
(0);

1304 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

1307 if(
æowsP”Node
[
aP©h
->
·th
[0]]+1 > 
MAX_PHASES
)

1315 if(
nodeID
[
aP©h
->
·th
[1]].
ty³
 =ğ
INFRA
)

1317 if(
æowsP”Node
[
aP©h
->
·th
[1]]+1 > 
MAX_PHASES
)

1324 if(
aP©h
->
numOfNodesInP©h
 == 2)

1326 
pha£_check
 = 
	`checkVoiûPha£s
(
sourû
, 
de¡š©iÚ
);

1327 if(
pha£_check
 != -1)

1328  
pha£_check
;

1333 
i
=2;i<=(
aP©h
->
numOfNodesInP©h
-1);i++)

1336 if(
æowsP”Node
[
aP©h
->
·th
[
i
]]+1 > 
MAX_PHASES
)

1338 
pha£_check
 = 
	`checkVoiûPha£s
(
aP©h
->
·th
[0],aP©h->·th[
i
-1]);

1340 if(
pha£_check
 != -1)

1342  
pha£_check
;

1352 
pha£_check
 = 
	`checkVoiûPha£s
(
sourû
, 
de¡š©iÚ
);

1353 if(
pha£_check
 != -1)

1355  
pha£_check
;

1362 
	}
}

1365 
	$hªdËVoiûFlowReû±iÚRoÙ
(
·ck‘FÜm©
 * 
aPack‘
)

1369 
ev’t
 * 
ªEv’t
;

1370 
voiûFlowReque¡
 * 
aFlowReque¡
;

1371 
routšgP©h
 * 
aP©h
;

1372 
sizeofPack‘
;

1373 
node
,
i
,
k
,
æow_found
;

1374 
æow_found
 = 0;

1376 
pha£_šfo
, 
pha£_couÁ”
;

1377 
de¡š©iÚ
;

1378 
»tV®
;

1379 
»tV®
 = 0;

1381 
node
 = 
ROOT
;

1383 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

1385 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
, 
node
, 
aPack‘
->
sourû
, 
RX_BEGIN
);

1386 
	`š£¹Ev’t
(
ªEv’t
);

1387 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

1388 
sizeofPack‘
 = 
	`exŒaùSizeof
(
ªEv’t
->
aPack‘
);

1389 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aPack‘
->
sourû
, 
RX_END
);

1390 
	`š£¹Ev’t
(
ªEv’t
);

1397 
aFlowReque¡
 = (
voiûFlowReque¡
 *)
aPack‘
->
·ylßdPack‘
;

1399 if(
Ï¡VoiûFlowReque¡
 !ğ
NULL
 &&†a¡VoiûFlowReque¡->
e2eSourû
 =ğ
aFlowReque¡
->e2eSourû &&†a¡VoiûFlowReque¡->
æowId_bwReque¡
 =ğaFlowReque¡->æowId_bwReque¡ &&†a¡VoiûFlowReque¡->
ov”®Ë2eDe¡š©iÚ
 ==‡FlowRequest->overalle2eDestination)

1404  
SUCCESS
;

1407 if(
Ï¡VoiûFlowReque¡
 =ğ
NULL
)

1409 
Ï¡VoiûFlowReque¡
 = (
voiûFlowReque¡
 *)
	`m®loc
((voiceFlowRequest));

1412 
Ï¡VoiûFlowReque¡
->
e2eSourû
 = 
aFlowReque¡
->e2eSource;

1413 
Ï¡VoiûFlowReque¡
->
æowId_bwReque¡
 = 
aFlowReque¡
->flowId_bwRequest;

1414 
Ï¡VoiûFlowReque¡
->
ov”®Ë2eDe¡š©iÚ
 = 
aFlowReque¡
->overalle2eDestination;

1416 if(
	`de¡š©iÚIsUp
(
aFlowReque¡
->
ov”®Ë2eDe¡š©iÚ
è=ğ
SUCCESS
)

1418 
de¡š©iÚ
 = 
	`g‘VoiûDe¡š©iÚ
(
aFlowReque¡
->
e2eSourû
,‡FlowReque¡->
ov”®Ë2eDe¡š©iÚ
);

1423 
de¡š©iÚ
 = 
ROOT
;

1427 if(
nodeID
[
aFlowReque¡
->
ov”®Ë2eDe¡š©iÚ
].
ÿÎInProg»ss
 =ğ
TRUE
)

1431 
de¡š©iÚ
 = -1;

1435 
i
=0; i<
numOfFlowsInProg»ss
; i++)

1437 if(
æowSt
[
i
].
æowId
 =ğ
	`EXTRACT_FLOWID
(
aFlowReque¡
->
æowId_bwReque¡
è&& flowSt[i].
voiûFlow
 == 1)

1440 
æowSt
[
i
].
de¡š©iÚ
 = destination;

1442 if(
de¡š©iÚ
 == -1)

1448 
aP©h
 = 
	`g‘RoutšgP©h
(
æowSt
[
i
].
sourû
, flowSt[i].
de¡š©iÚ
);

1449 
æowSt
[
i
].
aP©h
 =‡Path;

1454 
numFlowReque¡sR—ched
[
	`EXTRACT_FLOWID
(
aFlowReque¡
->
æowId_bwReque¡
)] = 1;

1457 if(
MAX_NO_CHANNELS
 < 3)

1460 
	`årštf
(
¡d”r
,"voiûReû±iÚ s %d d %d f %d",
aFlowReque¡
->
e2eSourû
, 
de¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
));

1462 
»tV®
 = 
	`£tSchedulšgEËm’tsSšgËChªÃl
(
aFlowReque¡
->
e2eSourû
, 
de¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
),„etVal);

1471 if(
de¡š©iÚ
 != -1)

1473 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
aFlowReque¡
->
e2eSourû
, 
de¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
),„‘V®, 0, -1, 
NULL
);

1475 
»tV®
 !ğ(-1è&&„‘V® < (
MAX_PHASES
-1))

1478 
	`årštf
(
¡d”r
,"This…rintf should ideally‚ever be called\n");

1479 
	`ex™
(0);

1480 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
aFlowReque¡
->
e2eSourû
, 
de¡š©iÚ
, 
	`EXTRACT_FLOWID
×FlowReque¡->
æowId_bwReque¡
),„‘V®+1, 0, -1, 
NULL
);

1484 
k
 = 
nodeID
[
ROOT
].
numSchedEËm
;

1486 
i
=0; i<
k
; i++)

1488 if(
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
è=ğEXTRACT_FLOWID(
aFlowReque¡
->
æowId_bwReque¡
))

1491 
æow_found
 = 1;

1496 if(
æow_found
 == 1)

1499 if(
numP©hsInVoiûCu¼Queue
 < 50 )

1502 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
sourû
 = 
aFlowReque¡
->
e2eSourû
;

1503 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
de¡š©iÚ
 = destination;

1504 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
ov”®Ë2eDe¡š©iÚ
 = 
aFlowReque¡
->overalle2eDestination;

1506 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
voiûFlowId
 = 
	`EXTRACT_FLOWID
(
aFlowReque¡
->
æowId_bwReque¡
);

1507 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
voiûMsgDu¿tiÚ
 = 
aFlowReque¡
->voiûMsgDu¿tiÚ + 
	`bufãrVoiûMsgTime
();

1508 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
voiûCİyC®lDu¿tiÚ
 = 
aFlowReque¡
->
voiûMsgDu¿tiÚ
;

1509 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
rP©h
 = 
	`g‘RoutšgP©h
(
aFlowReque¡
->
e2eSourû
, 
de¡š©iÚ
);

1512 
i
=0; i<
numOfFlowsInProg»ss
; i++)

1514 if(
æowSt
[
i
].
æowId
 =ğ
	`EXTRACT_FLOWID
(
aFlowReque¡
->
æowId_bwReque¡
))

1516 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
voiû_pha£
 = 
æowSt
[
i
].
pha£
;

1524 
i
=0;i<
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
rP©h
->
numOfNodesInP©h
;i++)

1529 
numP©hsInVoiûCu¼Queue
++;

1535 
	`årštf
(
¡d”r
,"Sy¡em ov”lßded w™h cu¼’ˆvoiû mes§ge %d\n",
numP©hsInVoiûCu¼Queue
);

1536 
	`ex™
(0);

1543 
	`årštf
(
¡d”r
,"This…rintf from within handleVoiceFlowReceptionRoot should‚ot be called\n");

1544 
	`ex™
(0);

1549 if(
numP©hsInVoiûQueue
 < 50)

1552 
voiûQueue
[
numP©hsInVoiûQueue
].
sourû
 = 
aFlowReque¡
->
e2eSourû
;

1553 
voiûQueue
[
numP©hsInVoiûQueue
].
de¡š©iÚ
 = 
aFlowReque¡
->
ov”®Ë2eDe¡š©iÚ
;

1554 
voiûQueue
[
numP©hsInVoiûQueue
].
ov”®Ë2eDe¡š©iÚ
 = 
aFlowReque¡
->overalle2eDestination;

1555 
voiûQueue
[
numP©hsInVoiûQueue
].
ÿÎDu¿tiÚ
 = 
aFlowReque¡
->
voiûMsgDu¿tiÚ
;

1556 
voiûQueue
[
numP©hsInVoiûQueue
].
voiûQueueFlowId
 = 
	`EXTRACT_FLOWID
(
aFlowReque¡
->
æowId_bwReque¡
);

1557 
voiûQueue
[
numP©hsInVoiûQueue
].
voiû_pha£
 = -1;

1563 
nodeID
[
voiûQueue
[
numP©hsInVoiûQueue
].
sourû
].
¡Üe_ÿp
 +ğ((
aFlowReque¡
->
voiûMsgDu¿tiÚ
/30)*24);

1565 
	`logStÜeC­
(
voiûQueue
[
numP©hsInVoiûQueue
].
sourû
,
nodeID
[voiûQueue[numP©hsInVoiûQueue].sourû].
¡Üe_ÿp
,
simTime
);

1567 
numP©hsInVoiûQueue
++;

1573 
	`årštf
(
¡d”r
,"System overloaded with‚umPathsInVoiceQueue >=50 \n");

1574 
	`ex™
(0);

1579 
	}
}

1583 
	$hªdËBwReque¡RoÙ
(
·ck‘FÜm©
 * 
aPack‘
)

1585 
i
, 
j
, 
k
;

1586 
æowId
;

1587 
ev’t
 * 
ªEv’t
;

1588 
sizeofPack‘
;

1589 
node
;

1590 
æowExi¡s
;

1591 
æowAÎoÿ‹d
;

1592 
‹mpNumGlob®SchedEËm
;

1594 
node
 = 
ROOT
;

1595 
æowExi¡s
 = 0;

1596 
æowAÎoÿ‹d
 = 0;

1598 
k
 = 
nodeID
[
ROOT
].
numSchedEËm
;

1600 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

1602 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
, 
node
, 
aPack‘
->
sourû
, 
RX_BEGIN
);

1603 
	`š£¹Ev’t
(
ªEv’t
);

1604 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

1605 
sizeofPack‘
 = 
	`exŒaùSizeof
(
ªEv’t
->
aPack‘
);

1606 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aPack‘
->
sourû
, 
RX_END
);

1607 
	`š£¹Ev’t
(
ªEv’t
);

1614 
æowId
 = 
	`EXTRACT_FLOWID
(((
bwReque¡
 *)
aPack‘
->
·ylßdPack‘
)->
æowId_bwReque¡
);

1618 
i
=0;i<
numOfFlowsInProg»ss
;i++)

1620 if(
æowSt
[
i
].
æowId
 == flowId)

1623 
j
=0; j<
k
; j++)

1627 if(
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
j
].
æowId_chªÃl
è=ğ
æowId
)

1629 
æowAÎoÿ‹d
 = 1;

1634 if(
æowAÎoÿ‹d
 == 0)

1636 
numFlowReque¡sR—ched
[
æowId
] = 1;

1637 
»tV®
;

1638 
»tV®
 = 0;

1641 
de¡š©iÚ
;

1642 
de¡š©iÚ
 = 
æowSt
[
i
].destination;

1645 if(
	`de¡š©iÚIsUp
(
de¡š©iÚ
è=ğ
SUCCESS
)

1649 #ifdeà
PHASE_SCHEDULER


1660 if(
MAX_NO_CHANNELS
 < 3)

1664 
»tV®
 = 
	`£tSchedulšgEËm’tsSšgËChªÃl
(
æowSt
[
i
].
sourû
, flowSt[i].
de¡š©iÚ
, flowSt[i].
æowId
,„etVal);

1668 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
æowSt
[
i
].
sourû
, flowSt[i].
de¡š©iÚ
, flowSt[i].
æowId
,„‘V®, 0, -1, 
NULL
);

1671 
»tV®
 !ğ(-1è&&„‘V® < (
MAX_PHASES
-1))

1675 if(
MAX_NO_CHANNELS
 < 3)

1680 
»tV®
 = 
	`£tSchedulšgEËm’tsSšgËChªÃl
(
æowSt
[
i
].
sourû
, flowSt[i].
de¡š©iÚ
, flowSt[i].
æowId
,„etVal+1);

1686 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
æowSt
[
i
].
sourû
, flowSt[i].
de¡š©iÚ
, flowSt[i].
æowId
,„‘V®+1, 0, -1, 
NULL
);

1691 if(
»tV®
 =ğ(
MAX_PHASES
))

1706 
‹mpNumGlob®SchedEËm
 = 
glob®NumSchedEËm
;

1708 if(
	`£tScheduË_shÜ‹¡P©h
(
æowSt
[
i
].
sourû
, flowSt[i].
de¡š©iÚ
, 
æowId
))

1710 if(
	`£tScheduË_shÜ‹¡P©h
(
æowSt
[
i
].
de¡š©iÚ
, flowSt[i].
sourû
, 
æowId
))

1713 
	`£tScheduËInfo
();

1715 
æowReque¡sAdm™‹d
[
glob®C®lsInProg»ss
]++;

1716 
glob®C®lsInProg»ss
++;

1717 
noOfC®lsAdm™‹d
++;

1718 
noOfC®lsAdm™‹d_Unique
[
æowId
] = 1;

1724 
k
=
‹mpNumGlob®SchedEËm
; k<
glob®NumSchedEËm
; k++)

1728 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[k].
æowId_chªÃl
)][glob®ScheduËEËm’ts[k].
Œªsm™‹r
] = 0;

1729 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[k].
æowId_chªÃl
)][glob®ScheduËEËm’ts[k].
»ûiv”
] = 0;

1734 
glob®NumSchedEËm
 = 
‹mpNumGlob®SchedEËm
;

1749 
æowSt
[
i
].
timeoutTime
 = 
simTime
 + ()
BW_TIMEOUT
;

1750 
æowExi¡s
 = 1;

1755 if(
æowExi¡s
 == 0)

1760  
SUCCESS
;

1764 
ªEv’t
 = 
	`g‘BªdwidthTimeoutEv’t
(
simTime
 + 
BW_TIMEOUT
, 
æowId
);

1765 
	`š£¹Ev’t
(
ªEv’t
);

1766 
	}
}

1770 
	$hªdËT—rDownRoÙ
(
·ck‘FÜm©
 * 
aPack‘
)

1772 
ev’t
 * 
ªEv’t
;

1773 
sizeofPack‘
;

1774 
node
;

1776 
node
 = 
ROOT
;

1780 if(!
	`IsPack‘ToBeDrİ³d
(
”rÜR©e
))

1782 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
, 
node
, 
aPack‘
->
sourû
, 
RX_BEGIN
);

1783 
	`š£¹Ev’t
(
ªEv’t
);

1784 
nodeID
[
node
].
·ck‘BešgT¿nsm™‹d
 = 
TRUE
;

1785 
sizeofPack‘
 = 
	`exŒaùSizeof
(
ªEv’t
->
aPack‘
);

1786 
ªEv’t
 = 
	`g‘LškLev–AckEv’t
(
simTime
 + (()
sizeofPack‘
*8/()
DATA_RATE
), 
node
, 
aPack‘
->
sourû
, 
RX_END
);

1787 
	`š£¹Ev’t
(
ªEv’t
);

1794 if(
Ï¡T—rDown
 !ğ
NULL
 &&†a¡T—rDown->
æowId
 =ğ((
‹¬Down
 *)
aPack‘
->
·ylßdPack‘
)->flowId)

1802  
SUCCESS
;

1805 if(
Ï¡T—rDown
 =ğ
NULL
)

1807 
Ï¡T—rDown
 = (
‹¬Down
 *)
	`m®loc
((tearDown));

1809 
Ï¡T—rDown
->
æowId
 = ((
‹¬Down
 *)
aPack‘
->
·ylßdPack‘
)->flowId;

1811 if(
MAX_NO_CHANNELS
 < 3)

1813 
	`»vokeEËm’tsSšgËChªÃl
(((
‹¬Down
 *)
aPack‘
->
·ylßdPack‘
)->
æowId
);

1821 #ifdeà
PHASE_SCHEDULER


1822 
	`»vokeEËm’ts
(((
‹¬Down
 *)
aPack‘
->
·ylßdPack‘
)->
æowId
);

1824 
	`»vokeEËm’ts_schedAlgo
(((
‹¬Down
 *)
aPack‘
->
·ylßdPack‘
)->
æowId
);

1831 
	}
}

	@routingPath.c

4 
	~"h—d”.h
"

6 
	#DELAY_THRESHOLD_HOPS
 10

	)

8 
routšgP©h
 * 
	$g‘RoutšgP©h
(
sourû
, 
de¡š©iÚ
)

10 
i
, 
j
, 
k
;

11 
routšgP©h
 *
aP©h
;

12 
di¡
[
MAX_NO_NODES
];

13 
´eviousNode
[
MAX_NO_NODES
];

18 if(
sourû
 < 0 || sourû > 
numOfNodesInN‘wÜk
)

20 
	`årštf
(
¡d”r
,"”rÜ iÀroutšg…©h, sourû inv®id %d\n",
sourû
);

21 
	`ex™
(0);

23 if(
de¡š©iÚ
 < 0 || de¡š©iÚ > 
numOfNodesInN‘wÜk
)

25 
	`årštf
(
¡d”r
,"”rÜ iÀroutšg…©h, de¡š©iÚ inv®id %d\n",
de¡š©iÚ
);

26 
	`ex™
(0);

30 
aP©h
 = (
routšgP©h
 *)
	`m®loc
((routingPath));

31 
j
=0;j<
MAX_NO_NODES
;j++)

33 
di¡
[
j
] = 
ÃtwÜkG¿ph
[
sourû
][j];

34 
´eviousNode
[
j
] = 
sourû
;

37 
k
=1;k<
numOfNodesInN‘wÜk
;k++)

39 
j
=0;j<
numOfNodesInN‘wÜk
;j++)

41 if(
j
!=
sourû
 && 
šcomšgEdge
[j]!=0)

43 
i
=0;i<
numOfNodesInN‘wÜk
;i++)

45 if(
ÃtwÜkG¿ph
[
i
][
j
]!=0 &&‚‘wÜkG¿ph[i][j]!ğ
UNDEFINED
)

48 if(
nodeID
[
i
].
ty³
 =ğ
INFRA
 && ( 
j
 =ğ
de¡š©iÚ
 ||‚odeID[j].type == INFRA ))

50 if(
di¡
[
i
]+
ÃtwÜkG¿ph
[i][
j
] < dist[j])

52 
di¡
[
j
] = di¡[
i
]+
ÃtwÜkG¿ph
[i][j];

53 
´eviousNode
[
j
] = 
i
;

62 
aP©h
->
numOfNodesInP©h
 = 0;

65 if(
´eviousNode
[
de¡š©iÚ
] =ğ
sourû
)

71 
i
=
de¡š©iÚ
; i !ğ
sourû
;)

73 
aP©h
->
numOfNodesInP©h
++;

75 
i
=
´eviousNode
[i];

77 
aP©h
->
numOfNodesInP©h
++;

80 if(
aP©h
->
numOfNodesInP©h
 >ğ
DELAY_THRESHOLD_HOPS
)

86 
i
 = 
de¡š©iÚ
;

88 
aP©h
->
·th
 = (*)
	`m®loc
×P©h->
numOfNodesInP©h
 * ());

90 
j
=
aP©h
->
numOfNodesInP©h
; j > 0; j--)

92 
aP©h
->
·th
[
j
-1] = 
i
;

93 
i
 = 
´eviousNode
[i];

98 
i
 = 0; i <
aP©h
->
numOfNodesInP©h
; i++)

100 if(
aP©h
->
·th
[
i
] > 
numOfNodesInN‘wÜk
)

102 
	`årštf
(
¡d”r
,"\ÀE¼ÜÃou ·th‚od%d‚umOfNodesInN‘wÜk %d",
aP©h
->
·th
[
i
], 
numOfNodesInN‘wÜk
);

103 
	`ex™
(0);

107  
aP©h
;

108 
	}
}

	@scheduler.c

1 
	~"h—d”.h
"

6 
»vokeVoiûFlow
(
node
, 
pha£
);

7 
»shufæeVoiûCu¼Queue
(
voiûFlowId
);

8 
mšœevokeEËm’ts
(
æowId
);

10 
	$de¡š©iÚIsUp
(
de¡š©iÚ
)

12 
i
;

14 if(
de¡š©iÚ
 =ğ
ROOT
)

16  
SUCCESS
;

19 
i
=0;i<
numOfNodesInT»e
;i++)

21 if(
routšgT»e
[2*
i
] =ğ
de¡š©iÚ
)

24  
SUCCESS
;

27  
FAILURE
;

28 
	}
}

30 
	$isFlowRevoked
(
æowId
)

32 
i
;

33 
i
 = 0;

35 
i
<
glob®NumSchedEËm
)

37 if(
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
è=ğ
æowId
)

39  
FALSE
;

41 
i
++;

43  
TRUE
;

44 
	}
}

46 
	$´štSlÙChªÃlNodes
()

48 
FILE
 *
fk
;

50 
i
,
j
,
k
;

52 
fk
 = 
	`fİ’
("outputFiles/channelInfo.txt","a+");

55 
	`årštf
(
fk
,"\Àglob®C®lsInProg»s %d",
glob®C®lsInProg»ss
);

57 
i
=0; i<
NO_OF_DATA_SLOTS
; i++)

59 
j
=0; j<
MAX_NO_CHANNELS
; j++)

61 
k
=0; k<
MAX_NO_NODES
; k++)

63 if(
¦ÙChªÃlNodes
[
i
][
j
][
k
] > 0)

64 
	`årštf
(
fk
,"\À¦Ù %d chªÃÈ%d‚od%d: %d",
i
,
j
,
k
,
¦ÙChªÃlNodes
[i][j][k]);

69 
	`fşo£
(
fk
);

70 
	}
}

72 
	$´štSchedulšgEËm’ts
()

74 
i
;

80 
i
=0; i<
glob®NumSchedEËm
; i++)

84  
SUCCESS
;

85 
	}
}

87 
	$´štSchedulšgEËm’ts2
()

89 
i
;

94 
i
=0; i<
glob®NumSchedEËm
; i++)

98  
SUCCESS
;

99 
	}
}

102 
	$deAÎoÿ‹FlowsFÜNodes
(
routšgP©h
 *
aP©h
, 
voiûMsg
, *
¡r
)

104 
i
, 
numOfNodesInP©h
;

105 
numOfNodesInP©h
 = 
aP©h
->numOfNodesInPath;

107 
i
=1;i<(
numOfNodesInP©h
 - 1);i++)

109 if(
æowsP”Node
[
aP©h
->
·th
[
i
]] > 0)

111 
æowsP”Node
[
aP©h
->
·th
[
i
]]--;

114 if(
æowsP”Node
[
aP©h
->
·th
[
i
]] < 0)

116 
	`årštf
(
¡d”r
,"Error condition, flows…er‚ode < 0\n");

117 
	`ex™
(0);

121 if(
voiûMsg
 == 1)

126 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

128 
æowsP”Node
[
aP©h
->
·th
[0]]--;

131 if(
æowsP”Node
[
aP©h
->
·th
[0]] < 0)

133 
	`årštf
(
¡d”r
,"Error condition, flows…er‚ode < 0\n");

134 
	`ex™
(0);

138 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

140 
æowsP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]]--;

142 if(
æowsP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]] < 0)

144 
	`årštf
(
¡d”r
,"Error condition, flows…er‚ode < 0\n");

145 
	`ex™
(0);

155 
	}
}

157 
	$g‘NÚIÁ”ã¼šgChªÃl
(
tx
, 
rx
, 
¦Ù
)

159 
i
, 
j
, 
chªÃl
;

160 
æag
;

162 
chªÃl
 = 0; chªÃÈ<
MAX_NO_CHANNELS
; channel++)

164 
æag
 = 0;

165 
i
 = 0; i < 
nodeID
[
rx
].
numIÁ”ã¼šgNeighbÜs
; i++)

167 if(
¦ÙChªÃlNodes
[
¦Ù
][
chªÃl
][
nodeID
[
rx
].
š‹rã»nûLi¡
[
i
]] == 1)

170 
æag
 = 1;

175 
j
 = 0; j < 
nodeID
[
tx
].
numIÁ”ã¼šgNeighbÜs
; j++)

177 if(
¦ÙChªÃlNodes
[
¦Ù
][
chªÃl
][
nodeID
[
tx
].
š‹rã»nûLi¡
[
j
]] == 1)

180 
æag
 = 1;

187 if(
æag
 == 0)

188  
chªÃl
;

193  
chªÃl
;

194 
	}
}

197 
	$deAÎoÿ‹S‹
(
æowId
, 
–em’tsToF»e
, 
numOfSchedEËm
)

199 
æowFound
;

200 
i
,
j
,
pha£
, 
voiûMsg
;

201 
routšgP©h
 * 
aP©h
;

202 
æowFound
 = 0;

206 
i
=0;i<
numOfFlowsInProg»ss
;i++)

208 if(
æowSt
[
i
].
æowId
 == flowId)

210 if(
æowSt
[
i
].
voiûFlow
 == 1)

212 
	`årštf
(
vm
,"Voiû Flow found iÀÿÎØd—Îoÿ‹ s‹, flow id %d\n",
æowSt
[
i
].
æowId
);

213 
voiûMsg
 = 1;

215 
æowFound
 = 1;

217 
aP©h
 = 
æowSt
[
i
].aPath;

218 
pha£
 = 
æowSt
[
i
].phase;

223 if(
æowFound
 == 0)

226 
	`årštf
(
¡d”r
,"\n Sanity check failed inside deAllocateState: flowfound = 0");

227 
	`ex™
(0);

232 if(
voiûMsg
 == 1)

234 
j
=1; j<(
aP©h
->
numOfNodesInP©h
 - 1); j++)

236 
pha£sP”Node
[
aP©h
->
·th
[
j
]][
pha£
] = 0;

239 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

240 
pha£sP”Node
[
aP©h
->
·th
[0]][
pha£
] = 0;

242 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

243 
pha£sP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]][
pha£
] = 0;

248 
j
=1; j<(
aP©h
->
numOfNodesInP©h
 - 1); j++)

250 
pha£sP”Node
[
aP©h
->
·th
[
j
]][
pha£
] = 0;

253 *
¡r
 = "deallocate flows called from deallocate state";

254 
	`deAÎoÿ‹FlowsFÜNodes
(
aP©h
, 
voiûMsg
, 
¡r
);

259 
i
=0; i<
numOfSchedEËm
; i++)

261 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
aP©h
->
·th
[0] && glob®ScheduËEËm’ts[i].
»ûiv”
 =ğaP©h->·th[1] && 
	`EXTRACT_FLOWID
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
è=ğ
æowId
)

266 if(
i
 =ğ
numOfSchedEËm
 &&‚umOfSchedEËm !ğ
glob®NumSchedEËm
)

268 
	`årštf
(
¡d”r
,"\Àæow found %d buˆnØschedƒËm", 
æowId
);

269 
	`ex™
(0);

277 
j
 = 
i
 + 
–em’tsToF»e
;

279 ;
i
<
j
;i++)

281 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][glob®ScheduËEËm’ts[i].
Œªsm™‹r
] = 0;

282 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][glob®ScheduËEËm’ts[i].
»ûiv”
] = 0;

286 
	}
}

288 
	$æowExi¡s
(
æowId
)

290 
i
, 
k
;

291 
»tV®
 = 
ABSENT
;

294 
k
 = 
glob®NumSchedEËm
;

298 
i
=0; i<
k
; i++)

303 if(
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
è=ğ
æowId
)

306 
»tV®
 = 
PRESENT
;

310  
»tV®
;

311 
	}
}

315 
	$deAÎoÿ‹SlÙsFÜNodes
(
routšgP©h
 *
aP©h
)

317 
i
, 
numOfNodesInP©h
;

318 
numOfNodesInP©h
 = 
aP©h
->numOfNodesInPath;

320 
i
=1;i<(
numOfNodesInP©h
 - 1);i++)

322 
¦ÙsP”NodeSC
[
aP©h
->
·th
[
i
]] = slotsPerNodeSC[aPath->path[i]] - 2;

324 
	}
}

326 
	$g‘MaxSlÙsFÜNodes
(
routšgP©h
 *
aP©h
)

328 
i
, 
maxFlows
, 
numOfNodesInP©h
;

330 
numOfNodesInP©h
 = 
aP©h
->numOfNodesInPath;

331 
maxFlows
 = 0;

333 
i
=1;i<(
numOfNodesInP©h
 - 1);i++)

335 
¦ÙsP”NodeSC
[
aP©h
->
·th
[
i
]] = slotsPerNodeSC[aPath->path[i]] + 2 ;

338 
i
=0; i<
MAX_NO_NODES
; i++)

340 if(
¦ÙsP”NodeSC
[
i
] > 
maxFlows
)

342 
maxFlows
 = 
¦ÙsP”NodeSC
[
i
];

345  
maxFlows
;

346 
	}
}

349 
	$£tSchedulšgEËm’tsSšgËChªÃl
(
sourû
, 
de¡š©iÚ
, 
æowId
, 
šcomšgPha£
)

351 
i
,
j
,
k
;

352 
l
, 
m
;

353 
æag
;

355 
maxFlows
;

356 
chªÃl
;

357 
¦ÙA¼ay
[
MAX_NO_HOPS
 * 2];

358 
chªÃlA¼ay
[
MAX_NO_HOPS
 * 2];

359 
¦ÙA¼ayIndex1
 = 0, 
¦ÙA¼ayIndex2
 = 0;

362 
routšgP©h
 * 
aP©h
;

364 
FILE
 *
å
, *
fq
, *
ä
, *
ç
;

365 
couÁC®ls
;

369 if(
	`æowExi¡s
(
æowId
))

377 
numFlowReque¡sR—ched
[
æowId
] = 1;

378 
couÁC®ls
 = 0;

379 
i
=0; i<
MAX_FLOW_ID
; i++)

381 
couÁC®ls
 +ğ
numFlowReque¡sR—ched
[
i
];

385 if(
noOfC®lsAdm™‹d_Unique
[
æowId
] == 1)

398 
noOfTÙ®FlowReque¡sReûived
++;

400 
æowReque¡sReûived
[
glob®C®lsInProg»ss
]++;

405 
å
 = 
	`fİ’
("outputFiles/simCalls.txt","a+");

406 
fq
 = 
	`fİ’
("outputFiles/admitCalls.txt","a+");

410 
k
 = 
glob®NumSchedEËm
;

412 
aP©h
 = 
	`g‘RoutšgP©h
(
sourû
, 
de¡š©iÚ
);

425 
maxFlows
 = 
	`g‘MaxSlÙsFÜNodes
(
aP©h
);

427 if(
maxFlows
 > 
NO_OF_DATA_SLOTS
)

429 
	`årštf
(
å
,"\À%d %lf", 
glob®C®lsInProg»ss
, 
simTime
);

431 
noOfTÙ®FlowReque¡sRejeùed
++;

432 
æowReque¡sRejeùed
[
glob®C®lsInProg»ss
]++;

435 
	`deAÎoÿ‹SlÙsFÜNodes
(
aP©h
);

437 
	`fşo£
(
å
);

438 
	`fşo£
(
fq
);

446 
m
 = 
¦ÙA¼ayIndex1
;

447 
i
=0; i<(
aP©h
->
numOfNodesInP©h
 - 1);i++)

449 
j
=0; j<
NO_OF_DATA_SLOTS
; j++)

451 
chªÃl
 = 
	`g‘NÚIÁ”ã¼šgChªÃl
(
aP©h
->
·th
[
i
],‡P©h->·th[˜+ 1], 
j
);

453 if(
chªÃl
 < 
MAX_NO_CHANNELS
)

460 if(
j
 =ğ
NO_OF_DATA_SLOTS
)

466 
l
=0;†<
i
;†++)

468 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
m
]][
chªÃlA¼ay
[m]][
aP©h
->
·th
[
l
]] = 0;

469 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
m
]][
chªÃlA¼ay
[m]][
aP©h
->
·th
[
l
+1]] = 0;

470 
m
++;

479 
¦ÙA¼ay
[
¦ÙA¼ayIndex1
] = 
j
;

480 
chªÃlA¼ay
[
¦ÙA¼ayIndex1
] = 
chªÃl
;

483 
¦ÙChªÃlNodes
[
j
][
chªÃl
][
aP©h
->
·th
[
i
]] = 1;

484 
¦ÙChªÃlNodes
[
j
][
chªÃl
][
aP©h
->
·th
[
i
+1]] = 1;

486 
¦ÙA¼ayIndex1
++;

493 
i
=1; i<=(
aP©h
->
numOfNodesInP©h
 - 1);i++)

495 
j
=0; j<
NO_OF_DATA_SLOTS
; j++)

497 
chªÃl
 = 
	`g‘NÚIÁ”ã¼šgChªÃl
(
aP©h
->
·th
[
i
],‡P©h->·th[˜- 1], 
j
);

499 if(
chªÃl
 < 
MAX_NO_CHANNELS
)

506 if(
j
 =ğ
NO_OF_DATA_SLOTS
)

511 
l
=0;†<(
aP©h
->
numOfNodesInP©h
 - 1);†++)

513 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
m
]][
chªÃlA¼ay
[m]][
aP©h
->
·th
[
l
]] = 0;

514 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
m
]][
chªÃlA¼ay
[m]][
aP©h
->
·th
[
l
+1]] = 0;

515 
m
++;

518 
l
=1;†<
i
;l++)

522 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
m
]][
chªÃlA¼ay
[m]][
aP©h
->
·th
[
l
]] = 0;

523 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
m
]][
chªÃlA¼ay
[m]][
aP©h
->
·th
[
l
-1]] = 0;

524 
m
++;

532 
¦ÙA¼ay
[
¦ÙA¼ayIndex1
] = 
j
;

533 
chªÃlA¼ay
[
¦ÙA¼ayIndex1
] = 
chªÃl
;

536 
¦ÙChªÃlNodes
[
j
][
chªÃl
][
aP©h
->
·th
[
i
]] = 1;

537 
¦ÙChªÃlNodes
[
j
][
chªÃl
][
aP©h
->
·th
[
i
-1]] = 1;

539 
¦ÙA¼ayIndex1
++;

544 
i
=0; i<(
aP©h
->
numOfNodesInP©h
 - 1);i++)

546 
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 = 
aP©h
->
·th
[
i
];

547 
glob®ScheduËEËm’ts
[
k
].
»ûiv”
 = 
aP©h
->
·th
[
i
 + 1];

548 
glob®ScheduËEËm’ts
[
k
].
æowId_chªÃl
 = 
	`FLOWID_CHANNEL
(
æowId
, 
chªÃl
);

549 
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
 = 
¦ÙA¼ay
[
¦ÙA¼ayIndex2
];

550 
glob®ScheduËEËm’ts
[
k
].
numSlÙs
 = 1;

555 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
¦ÙA¼ayIndex2
]][
chªÃl
][
aP©h
->
·th
[
i
]] = 1;

556 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
¦ÙA¼ayIndex2
]][
chªÃl
][
aP©h
->
·th
[
i
+1]] = 1;

559 
¦ÙA¼ayIndex2
++;

560 
k
++;

563 
i
=1; i<=(
aP©h
->
numOfNodesInP©h
 - 1);i++)

565 
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 = 
aP©h
->
·th
[
i
];

566 
glob®ScheduËEËm’ts
[
k
].
»ûiv”
 = 
aP©h
->
·th
[
i
 - 1];

567 
glob®ScheduËEËm’ts
[
k
].
æowId_chªÃl
 = 
	`FLOWID_CHANNEL
(
æowId
, 
chªÃl
);

568 
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
 = 
¦ÙA¼ay
[
¦ÙA¼ayIndex2
];

569 
glob®ScheduËEËm’ts
[
k
].
numSlÙs
 = 1;

573 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
¦ÙA¼ayIndex2
]][
chªÃl
][
aP©h
->
·th
[
i
]] = 1;

574 
¦ÙChªÃlNodes
[
¦ÙA¼ay
[
¦ÙA¼ayIndex2
]][
chªÃl
][
aP©h
->
·th
[
i
-1]] = 1;

577 
¦ÙA¼ayIndex2
++;

578 
k
++;

581 
j
=0;j<
¦ÙA¼ayIndex2
;j++)

583 
æowSt
[
i
].
¦ÙA¼ay
[
j
] = slotArray[j];

588 
glob®NumSchedEËm
 = 
k
;

592 
	`£tScheduËInfo
(
simTime
);

594 
æowReque¡sAdm™‹d
[
glob®C®lsInProg»ss
]++;

595 
glob®C®lsInProg»ss
++;

597 
noOfC®lsAdm™‹d
++;

599 if(
noOfC®lsAdm™‹d_Unique
[
æowId
] == 1)

605 
noOfC®lsAdm™‹d_Unique
[
æowId
] = 1;

607 
	`årštf
(
¡d”r
,"\n%d flow‡dm™‹d (s: %d d: %d f: %dètÙ® c®l %d", 
æowId
, 
sourû
, 
de¡š©iÚ
, flowId, 
noOfC®lsAdm™‹d
);

609 
i
=0; i<
k
; i++)

620 
	`årštf
(
fq
,"\À%d \ˆ%d \ˆ%d \ˆ%lf", 
noOfC®lsAdm™‹d
, 
æowId
, 
glob®C®lsInProg»ss
, 
simTime
);

621 
	`årštf
(
å
,"\À%d %d %d %lf", 
noOfC®lsAdm™‹d
, 
glob®C®lsInProg»ss
, 1, 
simTime
);

623 
	`fşo£
(
å
);

624 
	`fşo£
(
fq
);

627 
	}
}

631 
	$»vokeEËm’tsSšgËChªÃl
(
æowId
)

633 
i
, 
j
, 
k
, 
l
;

634 
–em’tsToRemove
;

635 
æowFound
;

636 
routšgP©h
 * 
aP©h
;

637 
FILE
 *
á
;

639 
¦ÙA¼ayIndex
 = 0;

644 
k
 = 
glob®NumSchedEËm
;

646 
æowFound
 = 0;

648 
i
=0;i<
numOfFlowsInProg»ss
;i++)

650 if(
æowSt
[
i
].
æowId
 == flowId)

652 
æowFound
 = 1;

653 
aP©h
 = 
	`g‘RoutšgP©h
(
æowSt
[
i
].
sourû
, flowSt[i].
de¡š©iÚ
);

658 if(
æowFound
 == 0)

661  
SUCCESS
;

665 
i
=0; i<
k
; i++)

667 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
aP©h
->
·th
[0] && glob®ScheduËEËm’ts[i].
»ûiv”
 =ğaP©h->·th[1] && 
	`EXTRACT_FLOWID
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
è=ğ
æowId
)

672 if(
i
 =ğ
k
)

675  
SUCCESS
;

679 
–em’tsToRemove
 = (
aP©h
->
numOfNodesInP©h
 * 2 - 2);

682 
j
 = 
i
 + 
–em’tsToRemove
;

684 
á
 = 
	`fİ’
("outputFiles/channelInfo.txt","a+");

686 
l
=0;†<(
aP©h
->
numOfNodesInP©h
 - 1);l++,
i
++)

688 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
]] = 0;

689 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
+1]] = 0;

692 
l
=1;†<=(
aP©h
->
numOfNodesInP©h
 - 1);l++,
i
++)

694 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
]] = 0;

695 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
-1]] = 0;

698 if(
i
 !ğ
j
)

700 
	`årštf
(
¡d”r
,"\ÀRemovšgƒËm’ts: i %d j %d",
i
,
j
);

701 
	`ex™
(0);

712 if(
j
 =ğ
k
)

714 
k
 -ğ
–em’tsToRemove
;

718 
i
 = 
j
; i<
k
; i++)

720 
glob®ScheduËEËm’ts
[
i
-
–em’tsToRemove
] = globalScheduleElements[i];

722 
k
 -ğ
–em’tsToRemove
;

726 
glob®NumSchedEËm
 = 
k
;

728 
	`årštf
(
¡d”r
,"\n%d flow„evoked sch“Ëm %d", 
æowId
, 
glob®NumSchedEËm
);

731 
	`årštf
(
á
,"\n");

733 
	`fşo£
(
á
);

735 
	`deAÎoÿ‹SlÙsFÜNodes
(
aP©h
);

737 
	`»shufæeFlowQueue
(
æowId
);

739 
glob®C®lsInProg»ss
--;

741 if(
glob®C®lsInProg»ss
 == 0)

744 
i
=0; i<
NO_OF_DATA_SLOTS
; i++)

746 
j
=0; j<
MAX_NO_CHANNELS
; j++)

748 
k
=0; k<
MAX_NO_NODES
; k++)

750 if(
¦ÙChªÃlNodes
[
i
][
j
][
k
] > 0)

754 
¦ÙChªÃlNodes
[
i
][
j
][
k
] = 0;

761  
SUCCESS
;

762 
	}
}

769 
	$mšœevokeEËm’ts
(
æowId
)

771 
i
, 
j
, 
k
, 
l
,
m
;

772 
–em’tsToRemove
, 
pha£
;

773 
æowFound
,
voiûMsg
;

774 
bÙ’eck
;

775 
voiûMsg
 = 0;

776 
routšgP©h
 * 
aP©h
;

777 
FILE
 *
á
;

781 
k
 = 
glob®NumSchedEËm
;

785 
æowFound
 = 0;

787 
i
=0;i<
numOfFlowsInProg»ss
;i++)

789 if(
æowSt
[
i
].
æowId
 == flowId)

792 if(
æowSt
[
i
].
voiûFlow
 == 1)

795 
	`årštf
(
vm
,"mš˜»vok–em’t ÿÎed fÜ voiû flow id %d\n",
æowSt
[
i
].
æowId
);

796 
voiûMsg
 = 1;

799 
æowFound
 = 1;

801 
aP©h
 = 
æowSt
[
i
].aPath;

802 
pha£
 = 
æowSt
[
i
].phase;

807 if(
æowFound
 == 0)

812  
SUCCESS
;

815 
i
=0; i<
k
; i++)

817 if(
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
 =ğ
aP©h
->
·th
[0] && glob®ScheduËEËm’ts[i].
»ûiv”
 =ğaP©h->·th[1] && 
	`EXTRACT_FLOWID
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
è=ğ
æowId
)

821 if(
i
 =ğ
k
)

826  
SUCCESS
;

830 
–em’tsToRemove
 = (
aP©h
->
numOfNodesInP©h
 * 2 - 2);

832 
j
 = 
i
 + 
–em’tsToRemove
;

834 
á
 = 
	`fİ’
("outputFiles/channelInfo.txt","a+");

836 if(
voiûMsg
 == 1)

841 
¦Ù
, 
chªÃl
, 
node
;

843 
l
=0;†<(
aP©h
->
numOfNodesInP©h
 - 1);l++,
i
++)

845 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
]] = 0;

846 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
+1]] = 0;

848 
¦Ù
 = 
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
;

849 
chªÃl
 = 
	`EXTRACT_CHANNEL
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

854 
i
++;

856 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
]] = 0;

857 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
+1]] = 0;

859 
¦Ù
 = 
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
;

860 
chªÃl
 = 
	`EXTRACT_CHANNEL
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

870 
	`årštf
(
¡d”r
,"In minirevokeElements, should‚ot„each here inhe first…lace for„evokingheƒlements of‡„ealime voice call\n");

871 
	`ex™
(0);

874 if(
i
 !ğ
j
)

876 
	`årštf
(
¡d”r
,"\ÀRemovšgƒËm’ts: i %d j %d",
i
,
j
);

877 
	`ex™
(0);

888 if(
j
 =ğ
k
)

891 
k
 -ğ
–em’tsToRemove
;

896 
i
 = 
j
; i<
k
; i++)

899 
glob®ScheduËEËm’ts
[
i
-
–em’tsToRemove
] = globalScheduleElements[i];

901 
k
 -ğ
–em’tsToRemove
;

905 
glob®NumSchedEËm
 = 
k
;

909 
	`årštf
(
á
,"\n");

913 if(
voiûMsg
 == 1)

915 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

916 
pha£sP”Node
[
aP©h
->
·th
[0]][
pha£
] = 0;

918 
j
=1;j<
aP©h
->
numOfNodesInP©h
-1;j++)

920 
pha£sP”Node
[
aP©h
->
·th
[
j
]][
pha£
] = 0;

923 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

924 
pha£sP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]][
pha£
] = 0;

926 
j
=0;j<=
aP©h
->
numOfNodesInP©h
-1;j++)

934 
	`årštf
(
¡d”r
,"In minirevokeElements, should‚ot„each here inhe first…lace for„evokingheƒlements of‡„ealime voice call\n");

935 
	`ex™
(0);

938 *
¡r
 = "deallocate flows called from mini„evokeƒlements";

939 
	`deAÎoÿ‹FlowsFÜNodes
(
aP©h
, 
voiûMsg
, 
¡r
);

942 
i
=0;i<
aP©h
->
numOfNodesInP©h
;i++)

946 
	`»shufæeFlowQueue
(
æowId
);

948 
glob®C®lsInProg»ss
--;

950 
	`´štSlÙChªÃlNodes
();

951 
	`fşo£
(
á
);

953 
	`£tScheduËInfo
();

955 if(
glob®C®lsInProg»ss
 == 0)

958 
i
=0; i<
NO_OF_DATA_SLOTS
; i++)

960 
j
=0; j<
MAX_NO_CHANNELS
; j++)

962 
k
=0; k<
MAX_NO_NODES
; k++)

964 if(
¦ÙChªÃlNodes
[
i
][
j
][
k
] > 0)

968 
¦ÙChªÃlNodes
[
i
][
j
][
k
] = 0;

979 
nodeID
[
aP©h
->
·th
[0]].
ÿÎDu¿tiÚ
 = 10;

982  
SUCCESS
;

983 
	}
}

985 
	$»shufæeVoiûCu¼Queue
(
voiûFlowId
)

987 
i
,
j
,
k
,
couÁ”
;

988 
voiûCu¼’tQueue
 
‹mp
;

990 
i
=0;i<
numP©hsInVoiûCu¼Queue
;i++)

992 if(
voiûCu¼Queue
[
i
].
voiûFlowId
 == voiceFlowId)

994 
‹mp
 = 
voiûCu¼Queue
[
i
];

995 
voiûCu¼Queue
[
i
] = voiûCu¼Queue[
numP©hsInVoiûCu¼Queue
-1];

996 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
-1] = 
‹mp
;

999 
numP©hsInVoiûCu¼Queue
--;

1002 
routšgP©h
 * 
aP©h
;

1003 
i
=0;i<
numP©hsInVoiûCu¼Queue
;i++)

1005 
aP©h
 = 
	`g‘RoutšgP©h
(
voiûCu¼Queue
[
i
].
sourû
,voiûCu¼Queue[i].
de¡š©iÚ
);

1007 
j
=0;j<
aP©h
->
numOfNodesInP©h
;j++)

1014 
	}
}

1016 
	$»vokeVoiûFlow
(
node
, 
pha£
)

1018 
i
,
j
,
k
,
l
,
couÁ”
,
couÁ”1
;

1019 
routšgP©h
 * 
aP©h
, *
check
;

1020 
æowid_æag
;

1022 
æowid_couÁ”
;

1023 
exû±iÚ_couÁ”
;

1024 
exû±iÚ_couÁ”
 = 0;

1025 
æow_¡©_ùr
;

1028 
couÁ”
=0;couÁ”<
numP©hsInVoiûCu¼Queue
;counter++)

1030 
check
 = 
	`g‘RoutšgP©h
(
voiûCu¼Queue
[
couÁ”
].
sourû
,voiûCu¼Queue[couÁ”].
de¡š©iÚ
);

1032 
couÁ”1
=0;couÁ”1<
check
->
numOfNodesInP©h
;counter1++)

1038 
i
=0;i<
numP©hsInVoiûCu¼Queue
;i++)

1040 
æowid_æag
 = 0;

1042 
aP©h
 = 
	`g‘RoutšgP©h
(
voiûCu¼Queue
[
i
].
sourû
,voiûCu¼Queue[i].
de¡š©iÚ
);

1044 
j
=0;j<
aP©h
->
numOfNodesInP©h
;j++)

1047 if(
aP©h
->
·th
[
j
] =ğ
node
 && 
pha£sP”Node
[aP©h->·th[j]][
pha£
] =ğ2 && 
voiûCu¼Queue
[
i
].
voiû_pha£
 ==…hase)

1052 
æowid_couÁ”
 = 1; flowid_couÁ” < (
aP©h
->
numOfNodesInP©h
-1) ; flowid_counter++)

1054 if(
pha£sP”Node
[
aP©h
->
·th
[
æowid_couÁ”
]][
pha£
] == 2)

1056 
æowid_æag
 = 0;

1060 
æowid_æag
 = 1;

1065 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

1067 if(
pha£sP”Node
[
aP©h
->
·th
[0]][
pha£
] != 2)

1068 
æowid_æag
 = 1;

1071 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

1073 if(
pha£sP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]][
pha£
] != 2)

1074 
æowid_æag
 = 1;

1077 if(
æowid_æag
 == 0)

1079 
exû±iÚ_couÁ”
++;

1081 if(
numP©hsInVoiûQueue
 < 50)

1083 
voiûQueue
[
numP©hsInVoiûQueue
].
sourû
 = 
voiûCu¼Queue
[
i
].source;

1084 
voiûQueue
[
numP©hsInVoiûQueue
].
de¡š©iÚ
 = 
voiûCu¼Queue
[
i
].destination;

1085 
voiûQueue
[
numP©hsInVoiûQueue
].
ov”®Ë2eDe¡š©iÚ
 = 
voiûCu¼Queue
[
i
].overalle2eDestination;

1086 
voiûQueue
[
numP©hsInVoiûQueue
].
ÿÎDu¿tiÚ
 = 
voiûCu¼Queue
[
i
].
voiûMsgDu¿tiÚ
;

1087 
voiûQueue
[
numP©hsInVoiûQueue
].
voiûQueueFlowId
 = 
voiûCu¼Queue
[
i
].
voiûFlowId
;

1088 
voiûQueue
[
numP©hsInVoiûQueue
].
voiû_pha£
 = 
voiûCu¼Queue
[
i
].voice_phase;

1091 
nodeID
[
voiûQueue
[
numP©hsInVoiûQueue
].
sourû
].
¡Üe_ÿp
 +ğ((
voiûCu¼Queue
[
i
].
voiûMsgDu¿tiÚ
/30)*24);

1093 
	`logStÜeC­
(
voiûQueue
[
numP©hsInVoiûQueue
].
sourû
,
nodeID
[voiûQueue[numP©hsInVoiûQueue].sourû].
¡Üe_ÿp
,
simTime
);

1095 
numP©hsInVoiûQueue
++;

1097 
æow_¡©_ùr
 = 0; flow_¡©_ù¸< 
numVoiûMsg
; flow_stat_ctr++)

1099 if(
voiûFlowSt
[
æow_¡©_ùr
].
voiûFlowId
 =ğ
voiûCu¼Queue
[
i
].voiceFlowId)

1101 
voiûFlowSt
[
æow_¡©_ùr
].
»voked
++;

1106 
couÁ”
=0;couÁ”<
numP©hsInVoiûQueue
;counter++)

1108 
check
 = 
	`g‘RoutšgP©h
(
voiûQueue
[
couÁ”
].
sourû
,voiûQueue[couÁ”].
de¡š©iÚ
);

1110 
couÁ”1
=0;couÁ”1<
check
->
numOfNodesInP©h
;counter1++)

1119 
	`årštf
(
vm
,"revoke voice flow called\n");

1123 
	`årštf
(
¡d”r
,"Sy¡em ov”lßded iÀ»vokeVoiûFlow %d\n", 
numP©hsInVoiûQueue
);

1124 
	`ex™
(0);

1126 
	`mšœevokeEËm’ts
(
voiûCu¼Queue
[
i
].
voiûFlowId
);

1127 
	`»shufæeVoiûCu¼Queue
(
voiûCu¼Queue
[
i
].
voiûFlowId
);

1129 
i
 = -1;

1131 if(
exû±iÚ_couÁ”
 > 1)

1133 
	`årštf
(
¡d”r
,"two same…aths with different…hasesƒrror\n");

1134 
	`ex™
(0);

1144 if(
exû±iÚ_couÁ”
 == 0)

1146 
	`årštf
(
¡d”r
,"If„evokeVoiceFlow is called,hen‡t†east one flow must be„evoked\n");

1147 
	`ex™
(0);

1149 
	}
}

1153 
	$£tSchedulšgEËm’ts
(
sourû
, 
de¡š©iÚ
, 
æowId
, 
šcomšgPha£
, 
ÿ¼yFÜw¬d
, 
hªdoff
, 
routšgP©h
 * 
hªdoff_·th
)

1156 
i
,
j
,
k
,
l
;

1157 
æag
;

1159 
maxFlows
;

1160 
pha£
, 
¦Ù
, 
cu¼’tSlÙ
, 
chªÃl
;

1162 
cu¼’tSlÙ1
,
chªÃl1
;

1163 
couÁ”
,
pha£_couÁ”
,
bÙ’eck_node
;

1166 
couÁC®ls
;

1168 
–em’tsToF»e
;

1169 
drİ³d
, 
voiûMsg
,
´evSchedEËm
;

1170 
voiûMsg
 = 0;

1173 
routšgP©h
 * 
aP©h
;

1175 
FILE
 *
å
, *
fq
, *
ä
, *
ç
;

1178 if(
	`æowExi¡s
(
æowId
))

1188 
i
=0;i<
numOfFlowsInProg»ss
;i++)

1190 if(
æowSt
[
i
].
voiûFlow
 =ğ1 && flowSt[i].
æowId
 == flowId)

1193 
voiûMsg
 = 1;

1199 
numFlowReque¡sR—ched
[
æowId
] = 1;

1201 
couÁC®ls
 = 0;

1202 
i
=0; i<
MAX_FLOW_ID
; i++)

1204 
couÁC®ls
 +ğ
numFlowReque¡sR—ched
[
i
];

1209 if(
noOfC®lsAdm™‹d_Unique
[
æowId
] == 1)

1211 
	`årštf
(
¡d”r
,"\ÀC®Èwa ®»ady‡dm™‹d %d", 
æowId
);

1216 
noOfTÙ®FlowReque¡sReûived
++;

1218 
æowReque¡sReûived
[
glob®C®lsInProg»ss
]++;

1222 
å
 = 
	`fİ’
("outputFiles/simCalls.txt","a+");

1223 
fq
 = 
	`fİ’
("outputFiles/admitCalls.txt","a+");

1224 
ä
 = 
	`fİ’
("outputFiles/scheduleInfo.txt","a+");

1228 
–em’tsToF»e
 = 0;

1230 if(
hªdoff
 == 1)

1232 
aP©h
 = 
hªdoff_·th
;

1236 
aP©h
 = 
	`g‘RoutšgP©h
(
sourû
, 
de¡š©iÚ
);

1251 
j
=0; j<
aP©h
->
numOfNodesInP©h
; j++)

1256 if(
voiûMsg
 == 1)

1263 
i
=
šcomšgPha£
; i<
MAX_PHASES
; i++)

1265 
æag
 = 0;

1267 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

1268 if(
pha£sP”Node
[
aP©h
->
·th
[0]][
i
] == 1 ||…hasesPerNode[aPath->path[0]][i] == 2)

1269 
æag
 = 1;

1271 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

1272 if(
pha£sP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]][
i
] == 1 ||…hasesPerNode[aPath->path[aPath->numOfNodesInPath-1]][i] == 2)

1273 
æag
 = 1;

1275 
j
=1; j<(
aP©h
->
numOfNodesInP©h
 - 1); j++)

1277 if(
pha£sP”Node
[
aP©h
->
·th
[
j
]][
i
] == 1 ||…hasesPerNode[aPath->path[j]][i] == 2)

1278 
æag
 = 1;

1280 if(
æag
 == 0)

1288 
dummy_pha£_couÁ”
;

1289 
ä“_pha£_found
;

1290 
ä“_pha£_found
 = 0;

1291 
šÃr_æag
;

1293 
i
=
šcomšgPha£
; i<
MAX_PHASES
; i++)

1295 
æag
 = 0;

1296 
j
=1; j<(
aP©h
->
numOfNodesInP©h
 - 1); j++)

1298 if(
pha£sP”Node
[
aP©h
->
·th
[
j
]][
i
] == 1)

1301 
æag
 = 1;

1310 if(
æag
 == 0)

1313 
j
=1; j<(
aP©h
->
numOfNodesInP©h
 - 1); j++)

1315 if(
pha£sP”Node
[
aP©h
->
·th
[
j
]][
i
] == 2)

1318 
çÉu
,
çÉu_nodes
;

1337 if(
i
<(
MAX_PHASES
-1))

1339 
dummy_pha£_couÁ”
 = 
i
+1; dummy_pha£_couÁ” < 
MAX_PHASES
; dummy_phase_counter++)

1341 
šÃr_æag
 = 0;

1342 
çÉu_nodes
=1; f®tu_nodes<(
aP©h
->
numOfNodesInP©h
 - 1); faltu_nodes++)

1344 if(
pha£sP”Node
[
aP©h
->
·th
[
çÉu_nodes
]][
dummy_pha£_couÁ”
] == 1 ||…hasesPerNode[aPath->path[faltu_nodes]][dummy_phase_counter] == 2)

1345 
šÃr_æag
 = 1;

1347 if(
šÃr_æag
 == 0)

1350 
i
 = 
dummy_pha£_couÁ”
;

1351 
ä“_pha£_found
 = 1;

1356 if(
ä“_pha£_found
 == 0)

1364 
	`»vokeVoiûFlow
(
aP©h
->
·th
[
j
],
i
);

1377 if(
i
 =ğ
MAX_PHASES
)

1379 
	`årštf
(
å
,"\À%d %d %lf", 
glob®C®lsInProg»ss
, 0, 
simTime
);

1381 
noOfTÙ®FlowReque¡sRejeùed
++;

1382 
æowReque¡sRejeùed
[
glob®C®lsInProg»ss
]++;

1384 
	`årštf
(
ä
,"\ÀNo_CommÚ_Pha£_Found flowId %d glob®C®lsInProg»s %d",
æowId
,
glob®C®lsInProg»ss
);

1389 
	`fşo£
(
å
);

1390 
	`fşo£
(
fq
);

1391 
	`fşo£
(
ä
);

1396 
maxFlows
 = 0;

1397 
couÁ”
=1; couÁ”<(
aP©h
->
numOfNodesInP©h
 -1); counter++)

1399 if((
æowsP”Node
[
aP©h
->
·th
[
couÁ”
]]+1è> 
maxFlows
)

1401 
maxFlows
 = 
æowsP”Node
[
aP©h
->
·th
[
couÁ”
]]+1;

1403 if((
æowsP”Node
[
aP©h
->
·th
[
couÁ”
]]+1è> 
MAX_PHASES
)

1408 
pha£_couÁ”
=0;…ha£_couÁ” < 
MAX_PHASES
;…hase_counter++)

1422  (
MAX_PHASES
);

1428 
couÁ”
 = 1; couÁ” < (
aP©h
->
numOfNodesInP©h
-1);counter++)

1430 
æowsP”Node
[
aP©h
->
·th
[
couÁ”
]]++;

1431 if(
æowsP”Node
[
aP©h
->
·th
[
couÁ”
]] >ğ
MAX_PHASES
)

1433 
x
,
y
;

1434 
y
=0;y<
aP©h
->
numOfNodesInP©h
;y++)

1436 
x
=0; x < 
MAX_PHASES
; x++)

1448 if(
voiûMsg
 == 1)

1450 
couÁ”
 = 0; couÁ” <ğ(
aP©h
->
numOfNodesInP©h
-1);counter++)

1457 
couÁ”
 = 0; couÁ” <ğ(
aP©h
->
numOfNodesInP©h
-1);counter++)

1463 if(
voiûMsg
 == 1)

1467 
	`årštf
(
vm
,"v®uoàÿ¼y fÜw¬d…as£dØg‘maxæowsfÜnode i %d fÜ‚od%d\n",
ÿ¼yFÜw¬d
,
aP©h
->
·th
[0]);

1468 if(
ÿ¼yFÜw¬d
 == 0)

1470 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

1472 
æowsP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]]++;

1476 if(
æowsP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]] > 
MAX_PHASES
)

1478 
	`årštf
(
¡d”r
,"severeƒrrorƒncountered, carry forward 0,ƒxiting\n");

1479 
	`ex™
(0);

1484 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

1486 
	`årštf
(
¡d”r
,"logicalƒrror in getMaxFlowsForNodes, in carry forward 0, 1st‚ode can‚ot be‡n infra‚ode\n");

1487 
	`ex™
(0);

1492 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

1494 
æowsP”Node
[
aP©h
->
·th
[0]]++;

1496 if(
æowsP”Node
[
aP©h
->
·th
[0]] > 
MAX_PHASES
)

1498 
	`årštf
(
¡d”r
,"severeƒrrorƒncountered, carry forward 1, 1st‚ode,ƒxiting\n");

1499 
	`ex™
(0);

1503 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

1505 
æowsP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]]++;

1509 if(
æowsP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]] > 
MAX_PHASES
)

1511 
	`årštf
(
¡d”r
,"severeƒrrorƒncountered, carry forward 1,†ast‚ode,ƒxiting\n");

1512 
	`ex™
(0);

1519 
maxFlows
 = 0;

1520 
couÁ”
 = 0; couÁ”<=(
aP©h
->
numOfNodesInP©h
-1); counter++)

1522 if(
æowsP”Node
[
aP©h
->
·th
[
couÁ”
]] > 
maxFlows
)

1523 
maxFlows
 = 
æowsP”Node
[
aP©h
->
·th
[
couÁ”
]];

1526 if(
maxFlows
 > (
glob®C®lsInProg»ss
+1))

1528 
	`årštf
(
¡d”r
,"\ÀmaxFlow %d glob®C®lsInProg»s %d",
maxFlows
, 
glob®C®lsInProg»ss
);

1531 
couÁ”
=0; couÁ”<
numOfNodesInN‘wÜk
; counter++)

1536 
	`´štSchedulšgEËm’ts2
();

1537 
	`ex™
(0);

1542 
pha£
 = 
i
;

1543 
¦Ù
 = 
i
 * 4;

1547 
i
=0;i<
numOfFlowsInProg»ss
;i++)

1549 if(
æowSt
[
i
].
æowId
 == flowId)

1551 
æowSt
[
i
].
pha£
 =…hase;

1552 
æowSt
[
i
].
aP©h
 =‡Path;

1558 if(
voiûMsg
 == 1)

1560 
	`årštf
(
vm
,"»ached h”e, m©chedhiàw™houˆth'fÜ' fÜ flow id %d\n", 
æowSt
[
i
].
æowId
);

1563 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

1564 
pha£sP”Node
[
aP©h
->
·th
[0]][
pha£
] = 2;

1566 
pha£sP”Node
[
aP©h
->
·th
[0]][
pha£
] = 0;

1568 
j
=1;j<
aP©h
->
numOfNodesInP©h
-1;j++)

1570 
pha£sP”Node
[
aP©h
->
·th
[
j
]][
pha£
] = 2;

1572 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

1573 
pha£sP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]][
pha£
] = 2;

1575 
pha£sP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]][
pha£
] = 0;

1577 
j
=0;j<=
aP©h
->
numOfNodesInP©h
-1;j++)

1584 
j
=1; j<(
aP©h
->
numOfNodesInP©h
 - 1); j++)

1586 
pha£sP”Node
[
aP©h
->
·th
[
j
]][
pha£
] = 1;

1600 
k
 = 
glob®NumSchedEËm
;

1601 
´evSchedEËm
 = 
glob®NumSchedEËm
;

1604 if(
voiûMsg
 == 1)

1607 
i
=0; i<(
aP©h
->
numOfNodesInP©h
 - 1);i++)

1609 if(
i
 % 2 == 0)

1611 
cu¼’tSlÙ
 = 
¦Ù
 + 0;

1612 
cu¼’tSlÙ1
 = 
¦Ù
 + 2;

1616 
cu¼’tSlÙ
 = 
¦Ù
 + 1;

1617 
cu¼’tSlÙ1
 = 
¦Ù
 + 3;

1620 
chªÃl
 = 
	`g‘NÚIÁ”ã¼šgChªÃl
(
aP©h
->
·th
[
i
],‡P©h->·th[˜+ 1], 
cu¼’tSlÙ
);

1621 
chªÃl1
 = 
	`g‘NÚIÁ”ã¼šgChªÃl
(
aP©h
->
·th
[
i
],‡P©h->·th[˜+ 1], 
cu¼’tSlÙ1
);

1625 if(
chªÃl
 >ğ
MAX_NO_CHANNELS
 || 
chªÃl1
 >= MAX_NO_CHANNELS)

1627 
	`årštf
(
å
,"\À%d %d %lf", 
glob®C®lsInProg»ss
, 0, 
simTime
);

1629 
noOfTÙ®FlowReque¡sRejeùed
++;

1630 
æowReque¡sRejeùed
[
glob®C®lsInProg»ss
]++;

1632 
	`årštf
(
ä
,"\ÀNo_ChªÃl_Found flowId %d glob®C®lsInProg»s %d",
æowId
,
glob®C®lsInProg»ss
);

1634 
	`deAÎoÿ‹S‹
(
æowId
, 
–em’tsToF»e
, 
k
);

1638 
	`fşo£
(
å
);

1639 
	`fşo£
(
fq
);

1640 
	`fşo£
(
ä
);

1642  
pha£
;

1649 
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 = 
aP©h
->
·th
[
i
];

1650 
glob®ScheduËEËm’ts
[
k
].
»ûiv”
 = 
aP©h
->
·th
[
i
 + 1];

1651 
glob®ScheduËEËm’ts
[
k
].
æowId_chªÃl
 = 
	`FLOWID_CHANNEL
(
æowId
, 
chªÃl
);

1652 
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
 = 
cu¼’tSlÙ
;

1653 
glob®ScheduËEËm’ts
[
k
].
numSlÙs
 = 1;

1655 
–em’tsToF»e
++;

1658 
¦ÙChªÃlNodes
[
cu¼’tSlÙ
][
chªÃl
][
aP©h
->
·th
[
i
]] = 1;

1659 
¦ÙChªÃlNodes
[
cu¼’tSlÙ
][
chªÃl
][
aP©h
->
·th
[
i
+1]] = 1;

1662 
	`årštf
(
vm
,"SlÙ %d ChªÃÈ%d Nod%d slÙChªÃlNode %d\n",
cu¼’tSlÙ
,
chªÃl
,
aP©h
->
·th
[
i
],
¦ÙChªÃlNodes
[currentSlot][channel][aPath->path[i]]);

1663 
	`årštf
(
vm
,"SlÙ %d ChªÃÈ%d Nod%d slÙChªÃlNode %d\n",
cu¼’tSlÙ
,
chªÃl
,
aP©h
->
·th
[
i
+1],
¦ÙChªÃlNodes
[currentSlot][channel][aPath->path[i+1]]);

1665 
k
++;

1667 
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 = 
aP©h
->
·th
[
i
];

1668 
glob®ScheduËEËm’ts
[
k
].
»ûiv”
 = 
aP©h
->
·th
[
i
 + 1];

1669 
glob®ScheduËEËm’ts
[
k
].
æowId_chªÃl
 = 
	`FLOWID_CHANNEL
(
æowId
, 
chªÃl1
);

1670 
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
 = 
cu¼’tSlÙ1
;

1671 
glob®ScheduËEËm’ts
[
k
].
numSlÙs
 = 1;

1673 
–em’tsToF»e
++;

1676 
¦ÙChªÃlNodes
[
cu¼’tSlÙ1
][
chªÃl1
][
aP©h
->
·th
[
i
]] = 1;

1677 
¦ÙChªÃlNodes
[
cu¼’tSlÙ1
][
chªÃl1
][
aP©h
->
·th
[
i
+1]] = 1;

1679 
	`årštf
(
vm
,"SlÙ %d ChªÃÈ%d Nod%d slÙChªÃlNode %d\n",
cu¼’tSlÙ1
,
chªÃl1
,
aP©h
->
·th
[
i
],
¦ÙChªÃlNodes
[currentSlot1][channel1][aPath->path[i]]);

1680 
	`årštf
(
vm
,"SlÙ %d ChªÃÈ%d Nod%d slÙChªÃlNode %d\n",
cu¼’tSlÙ1
,
chªÃl1
,
aP©h
->
·th
[
i
+1],
¦ÙChªÃlNodes
[currentSlot1][channel1][aPath->path[i+1]]);

1682 
k
++;

1688 
i
=0; i<(
aP©h
->
numOfNodesInP©h
 - 1);i++)

1690 if(
i
 % 2 == 0)

1691 
cu¼’tSlÙ
 = 
¦Ù
 + 0;

1693 
cu¼’tSlÙ
 = 
¦Ù
 + 1;

1695 
chªÃl
 = 
	`g‘NÚIÁ”ã¼šgChªÃl
(
aP©h
->
·th
[
i
],‡P©h->·th[˜+ 1], 
cu¼’tSlÙ
);

1698 if(
chªÃl
 >ğ
MAX_NO_CHANNELS
)

1700 
	`årštf
(
å
,"\À%d %d %lf", 
glob®C®lsInProg»ss
, 0, 
simTime
);

1702 
noOfTÙ®FlowReque¡sRejeùed
++;

1703 
æowReque¡sRejeùed
[
glob®C®lsInProg»ss
]++;

1705 
	`årštf
(
ä
,"\ÀNo_ChªÃl_Found flowId %d glob®C®lsInProg»s %d",
æowId
,
glob®C®lsInProg»ss
);

1707 
	`deAÎoÿ‹S‹
(
æowId
, 
–em’tsToF»e
, 
k
);

1710 
	`fşo£
(
å
);

1711 
	`fşo£
(
fq
);

1712 
	`fşo£
(
ä
);

1713  
pha£
;

1721 
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 = 
aP©h
->
·th
[
i
];

1722 
glob®ScheduËEËm’ts
[
k
].
»ûiv”
 = 
aP©h
->
·th
[
i
 + 1];

1723 
glob®ScheduËEËm’ts
[
k
].
æowId_chªÃl
 = 
	`FLOWID_CHANNEL
(
æowId
, 
chªÃl
);

1724 
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
 = 
cu¼’tSlÙ
;

1725 
glob®ScheduËEËm’ts
[
k
].
numSlÙs
 = 1;

1727 
–em’tsToF»e
++;

1730 
¦ÙChªÃlNodes
[
cu¼’tSlÙ
][
chªÃl
][
aP©h
->
·th
[
i
]] = 1;

1731 
¦ÙChªÃlNodes
[
cu¼’tSlÙ
][
chªÃl
][
aP©h
->
·th
[
i
+1]] = 1;

1740 
k
++;

1743 
i
=1; i<=(
aP©h
->
numOfNodesInP©h
 - 1);i++)

1746 if(
i
 % 2 == 0)

1747 
cu¼’tSlÙ
 = 
¦Ù
 + 2;

1749 
cu¼’tSlÙ
 = 
¦Ù
 + 3;

1751 
chªÃl
 = 
	`g‘NÚIÁ”ã¼šgChªÃl
(
aP©h
->
·th
[
i
],aP©h->·th[˜- 1], 
cu¼’tSlÙ
);

1753 if(
chªÃl
 >ğ
MAX_NO_CHANNELS
)

1756 
noOfTÙ®FlowReque¡sRejeùed
++;

1757 
æowReque¡sRejeùed
[
glob®C®lsInProg»ss
]++;

1759 
	`årštf
(
å
,"\À%d %d %lf", 
glob®C®lsInProg»ss
, 0, 
simTime
);

1760 
	`årštf
(
ä
,"\ÀNo_ChªÃls_Found flowId %d glob®C®lsInProg»s %d",
æowId
, 
glob®C®lsInProg»ss
);

1762 
	`deAÎoÿ‹S‹
(
æowId
, 
–em’tsToF»e
, 
k
);

1765 
	`fşo£
(
å
);

1766 
	`fşo£
(
fq
);

1767 
	`fşo£
(
ä
);

1768  
pha£
;

1775 
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 = 
aP©h
->
·th
[
i
];

1776 
glob®ScheduËEËm’ts
[
k
].
»ûiv”
 = 
aP©h
->
·th
[
i
 - 1];

1777 
glob®ScheduËEËm’ts
[
k
].
æowId_chªÃl
 = 
	`FLOWID_CHANNEL
(
æowId
, 
chªÃl
);

1778 
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
 = 
cu¼’tSlÙ
;

1779 
glob®ScheduËEËm’ts
[
k
].
numSlÙs
 = 1;

1781 
–em’tsToF»e
++;

1784 
¦ÙChªÃlNodes
[
cu¼’tSlÙ
][
chªÃl
][
aP©h
->
·th
[
i
]] = 1;

1785 
¦ÙChªÃlNodes
[
cu¼’tSlÙ
][
chªÃl
][
aP©h
->
·th
[
i
-1]] = 1;

1795 
k
++;

1802 
glob®NumSchedEËm
 = 
k
;

1805 if(
voiûMsg
 == 1)

1807 
l
=
´evSchedEËm
;l<
k
;l++)

1809 
	`årštf
(
vm
,"\nGlob® SchedulšgƒËm’ˆ%d\n",
l
);

1810 
	`årštf
(
vm
," T¿nsm™‹¸%d Reûiv” %d Flowid_chªÃÈ%d slÙ_to_¡¬ˆ%d‚um_¦Ù %d\n",
glob®ScheduËEËm’ts
[
l
].
Œªsm™‹r
,glob®ScheduËEËm’ts[l].
»ûiv”
,glob®ScheduËEËm’ts[l].
æowId_chªÃl
,glob®ScheduËEËm’ts[l].
¦ÙToS¹
,glob®ScheduËEËm’ts[l].
numSlÙs
);

1814 
	`£tScheduËInfo
();

1816 
æowReque¡sAdm™‹d
[
glob®C®lsInProg»ss
]++;

1817 
glob®C®lsInProg»ss
++;

1818 
noOfC®lsAdm™‹d
++;

1819 
noOfC®lsAdm™‹d_Unique
[
æowId
] = 1;

1825 
	`årštf
(
¡d”r
,"\ÀFlow‡dm™‹d %dÙ®C®lsAdm™‹d %d",
æowId
, 
noOfC®lsAdm™‹d
);

1827 
ç
 = 
	`fİ’
("outputFiles/channelInfo.txt","a+");

1828 
	`årštf
(
ç
,"\n Call‡dmitted");

1829 
	`fşo£
(
ç
);

1833 
	`årštf
(
fq
,"\À%d \ˆ%d \ˆ%d \ˆ%lf", 
noOfC®lsAdm™‹d
, 
æowId
, 
glob®C®lsInProg»ss
, 
simTime
);

1837 
	`årštf
(
å
,"\À%d %d %d %lf", 
noOfC®lsAdm™‹d
, 
glob®C®lsInProg»ss
, 1, 
simTime
);

1839 
	`fşo£
(
å
);

1840 
	`fşo£
(
fq
);

1841 
	`fşo£
(
ä
);

1843 if(
voiûMsg
 == 1)

1845 
	`årštf
(
vm
,"Ju¡ dÚschedulšg fÜ voiû mes§ge fÜ flowId %d\n",
æowId
);

1850 
	}
}

1853 
	$£tC¬ryFÜw¬dFlow
(
Ãw_sourû
, 
‹mp_de¡š©iÚ
, 
ov”®Ë2eDe¡š©iÚ
, 
ÿ¼yFÜw¬d
, 
æowId
)

1855 
i
,
æow_found
,
‹mpFlowId
;

1856 
»tV®
;

1857 
æow_found
 = 0;

1858 
»tV®
 = 0;

1859 
routšgP©h
 * 
aP©h
;

1860 
aP©h
 = 
	`g‘RoutšgP©h
(
Ãw_sourû
,
‹mp_de¡š©iÚ
);

1863 
i
=0;i<
numOfFlowsInProg»ss
;i++)

1865 if(
æowSt
[
i
].
æowId
 == flowId)

1867 
æow_found
 = 1;

1868 
æowSt
[
i
].
sourû
 = 
Ãw_sourû
;

1869 
æowSt
[
i
].
de¡š©iÚ
 = 
‹mp_de¡š©iÚ
;

1870 
æowSt
[
i
].
æowId
 = flowId;

1871 
æowSt
[
i
].
voiûFlow
 = 1;

1872 
æowSt
[
i
].
aP©h
 =‡Path;

1876 if(
æow_found
 == 1)

1880 
æowSt
[
numOfFlowsInProg»ss
].
sourû
 = 
Ãw_sourû
;

1881 
æowSt
[
numOfFlowsInProg»ss
].
de¡š©iÚ
 = 
‹mp_de¡š©iÚ
;

1882 
æowSt
[
numOfFlowsInProg»ss
].
æowId
 = flowId;

1883 
æowSt
[
numOfFlowsInProg»ss
].
voiûFlow
 = 1;

1884 
æowSt
[
numOfFlowsInProg»ss
].
aP©h
 =‡Path;

1885 
numOfFlowsInProg»ss
++;

1888 
nodeID
[
Ãw_sourû
].
ÿÎReque¡S’t
 = 1;

1889 
nodeID
[
Ãw_sourû
].
cu¼’tFlowId
 = 
æowId
;

1890 
nodeID
[
Ãw_sourû
].
ÿÎInProg»ss
 = 
FALSE
;

1891 
nodeID
[
Ãw_sourû
].
æowT—»dDown
 = 
FALSE
;

1892 
numFlowReque¡sR—ched
[
æowId
] = 1;

1898 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
Ãw_sourû
, 
‹mp_de¡š©iÚ
,
æowId
,„‘V®, 
ÿ¼yFÜw¬d
, -1, 
NULL
);

1899 
»tV®
 !ğ(-1è&&„‘V® < (
MAX_PHASES
-1))

1901 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
Ãw_sourû
, 
‹mp_de¡š©iÚ
,
æowId
,„‘V® + 1, 
ÿ¼yFÜw¬d
, -1, 
NULL
);

1902 
	`årštf
(
¡d”r
,"This…rintf from withinhe setCarryForwardFlow should ideally‚ever be called\n");

1903 
	`ex™
(0);

1906 
k
;

1907 
æow_found
 = 0;

1911 
k
 = 
glob®NumSchedEËm
;

1914 
i
=0; i<
k
; i++)

1916 if(
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
è=ğ
æowId
)

1919 
æow_found
 = 1;

1924 if(
æow_found
 == 1)

1927 if(
numP©hsInVoiûCu¼Queue
 < 50)

1930 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
sourû
 = 
Ãw_sourû
;

1931 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
de¡š©iÚ
 = 
‹mp_de¡š©iÚ
;

1932 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
ov”®Ë2eDe¡š©iÚ
 = overalle2eDestination;

1933 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
voiûFlowId
 = 
æowId
;

1934 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
voiûMsgDu¿tiÚ
 = 
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
 + 
	`bufãrVoiûMsgTime
();

1935 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
voiûCİyC®lDu¿tiÚ
 = 
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
;

1937 
i
=0; i<
numOfFlowsInProg»ss
; i++)

1939 if(
æowSt
[
i
].
æowId
 == flowId)

1941 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
voiû_pha£
 = 
æowSt
[
i
].
pha£
;

1945 
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
rP©h
 = 
	`g‘RoutšgP©h
(
Ãw_sourû
,
‹mp_de¡š©iÚ
);

1950 
i
=0;i<
voiûCu¼Queue
[
numP©hsInVoiûCu¼Queue
].
rP©h
->
numOfNodesInP©h
;i++)

1955 
numP©hsInVoiûCu¼Queue
++;

1960 
	`årštf
(
¡d”r
,"Sy¡em ov”lßded w™h cu¼’ˆvoiû mes§ge %d\n",
numP©hsInVoiûCu¼Queue
);

1961 
	`ex™
(0);

1966 
	`årštf
(
¡d”r
,"shouldnt„each here ideally in setCarryForwardFlow\n");

1967 
	`ex™
(0);

1972 
i
=0; i<
aP©h
->
numOfNodesInP©h
; i++)

1974 if(
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 > 
simTime
)

1976 if(
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 > (nodeSt[aP©h->·th[i]].
upTime
 + ()
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
))

1978 
nodeSt
[
aP©h
->
·th
[
i
]].
upTime
 +ğÒodeSt[aP©h->·th[i]].
’dC®lTime
 - (nodeSt[aP©h->·th[i]].upTim+ ()
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
));

1979 
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 = 
simTime
 +‚odeSt[aP©h->·th[i]].’dC®lTim- (nodeSt[aP©h->·th[i]].
upTime
 + ()
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
);

1983 
nodeSt
[
aP©h
->
·th
[
i
]].
upTime
 +ğ(ÒodeSt[aP©h->·th[i]].upTim+ ()
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
è-‚odeSt[aP©h->·th[i]].
’dC®lTime
);

1984 
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 = 
simTime
 + (nodeSt[aP©h->·th[i]].
upTime
 + ()
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
) -‚odeStat[aPath->path[i]].endCallTime;

1989 
nodeSt
[
aP©h
->
·th
[
i
]].
upTime
 +ğ
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
;

1990 
nodeSt
[
aP©h
->
·th
[
i
]].
’dC®lTime
 = 
simTime
 + 
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
;

1995 
	`logFlowSts
(
æowId
,"\ÀSourû",(è
Ãw_sourû
);

1996 
	`logFlowSts
(
æowId
,"\ÀDe¡š©iÚ",(è
‹mp_de¡š©iÚ
);

1997 
	`logFlowSts
(
æowId
,"\ÀNo_Of_Hİs",(è
aP©h
->
numOfNodesInP©h
-1);

1999 
	`logFlowSts
(
æowId
,"\ÀP¬’t_Node",()
nodeID
[
Ãw_sourû
].
·»Á
);

2000 
	`logFlowSts
(
æowId
,"\ÀP¬’t_D•th",()
nodeID
[nodeID[
Ãw_sourû
].
·»Á
].
d•th
);

2001 
	`logFlowSts
(
æowId
,"\ÀTime_Flow_Reque¡_S’t",
simTime
);

2002 
	`logFlowSts
(
æowId
,"\ÀC®l_Du¿tiÚ", (è
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
);

2003 
	`logFlowSts
(
æowId
,"\n Voice Message Call : Yes");

2006 
	}
}

2010 
	$»shufæeVoiûQueue
(
voiûQueueFlowId
)

2012 
i
,
j
,
k
;

2013 
voiûMsgQueue
 
‹mp
;

2015 
i
=0;i<
numP©hsInVoiûQueue
;i++)

2017 if(
voiûQueue
[
i
].
voiûQueueFlowId
 == voiceQueueFlowId)

2019 
‹mp
 = 
voiûQueue
[
i
];

2020 
voiûQueue
[
i
] = voiûQueue[
numP©hsInVoiûQueue
-1];

2021 
voiûQueue
[
numP©hsInVoiûQueue
-1] = 
‹mp
;

2024 
numP©hsInVoiûQueue
--;

2027 
routšgP©h
 * 
aP©h
;

2028 
i
=0;i<
numP©hsInVoiûQueue
;i++)

2030 
aP©h
 = 
	`g‘RoutšgP©h
(
voiûQueue
[
i
].
sourû
,voiûQueue[i].
de¡š©iÚ
);

2032 
j
=0;j<
aP©h
->
numOfNodesInP©h
;j++)

2039 
	}
}

2042 
	$checkVoiûQueue
()

2045 
i
,
bÙ’eck
;

2047 if(
numP©hsInVoiûQueue
 > 0)

2050 
i
=0;i<
numP©hsInVoiûQueue
;i++)

2052 
bÙ’eck
 = 
	`g‘VoiûDe¡š©iÚ
(
voiûQueue
[
i
].
sourû
, voiûQueue[i].
de¡š©iÚ
);

2055 if((
	`de¡š©iÚIsUp
(
voiûQueue
[
i
].
de¡š©iÚ
è=ğ
FAILURE
è|| (
nodeID
[voiûQueue[i].de¡š©iÚ].
ÿÎInProg»ss
 =ğ
TRUE
))

2057 
bÙ’eck
 = -1;

2065 if(
bÙ’eck
 == -1)

2075 
nodeID
[
voiûQueue
[
i
].
sourû
].
ÿÎDu¿tiÚ
 = voiceQueue[i].callDuration;

2076 
nodeID
[
voiûQueue
[
i
].
sourû
].
voiûFlow
 = 1;

2080 
nodeID
[
voiûQueue
[
i
].
sourû
].
¡Üe_ÿp
 -ğ((voiûQueue[i].
ÿÎDu¿tiÚ
/30)*24);

2082 
	`logStÜeC­
(
voiûQueue
[
i
].
sourû
,
nodeID
[voiûQueue[i].sourû].
¡Üe_ÿp
,
simTime
);

2085 if(
voiûQueue
[
i
].
sourû
 >ğ
numOfInäaNodesInN‘wÜk
)

2086 
	`£tC¬ryFÜw¬dFlow
(
voiûQueue
[
i
].
sourû
,
bÙ’eck
, voiûQueue[i].
ov”®Ë2eDe¡š©iÚ
, 0,voiûQueue[i].
voiûQueueFlowId
);

2088 
	`£tC¬ryFÜw¬dFlow
(
voiûQueue
[
i
].
sourû
,
bÙ’eck
, voiûQueue[i].
ov”®Ë2eDe¡š©iÚ
, 1,voiûQueue[i].
voiûQueueFlowId
);

2091 
	`»shufæeVoiûQueue
(
voiûQueue
[
i
].
voiûQueueFlowId
);

2097 
	}
}

2100 
	$»vokeEËm’ts
(
æowId
)

2102 
i
, 
j
, 
k
, 
l
,
m
;

2103 
–em’tsToRemove
, 
pha£
;

2104 
æowFound
,
voiûMsg
;

2105 
bÙ’eck
;

2106 
voiûMsg
 = 0;

2107 
routšgP©h
 * 
aP©h
;

2108 
FILE
 *
á
;

2113 
k
 = 
glob®NumSchedEËm
;

2116 
æowFound
 = 0;

2118 
i
=0;i<
numOfFlowsInProg»ss
;i++)

2120 if(
æowSt
[
i
].
æowId
 == flowId)

2123 if(
æowSt
[
i
].
voiûFlow
 == 1)

2126 
	`årštf
(
vm
,"»vok–em’t ÿÎed fÜ voiû flow id %d\n",
æowSt
[
i
].
æowId
);

2127 
voiûMsg
 = 1;

2130 
æowFound
 = 1;

2132 
aP©h
 = 
æowSt
[
i
].aPath;

2133 
pha£
 = 
æowSt
[
i
].phase;

2141 if(
æowFound
 == 0)

2146  
SUCCESS
;

2149 
i
=0; i<
k
; i++)

2151 if(
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
è=ğ
æowId
)

2156 if(
i
 =ğ
k
)

2161  
SUCCESS
;

2162 
	`ex™
(0);

2165 
–em’tsToRemove
 = (
aP©h
->
numOfNodesInP©h
 * 2 - 2);

2167 
j
 = 
i
 + 
–em’tsToRemove
;

2169 
á
 = 
	`fİ’
("outputFiles/channelInfo.txt","a+");

2171 if(
voiûMsg
 == 1)

2176 
¦Ù
, 
chªÃl
, 
node
;

2178 
l
=0;†<(
aP©h
->
numOfNodesInP©h
 - 1);l++,
i
++)

2180 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
]] = 0;

2181 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
+1]] = 0;

2183 
¦Ù
 = 
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
;

2184 
chªÃl
 = 
	`EXTRACT_CHANNEL
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

2186 
	`årštf
(
vm
,"SlÙ %d ChªÃÈ%d Nod%d slÙChªÃlNode %d\n",
¦Ù
,
chªÃl
,
aP©h
->
·th
[
l
],
¦ÙChªÃlNodes
[slot][channel][aPath->path[l]]);

2187 
	`årštf
(
vm
,"SlÙ %d ChªÃÈ%d Nod%d slÙChªÃlNode %d\n",
¦Ù
,
chªÃl
,
aP©h
->
·th
[
l
+1],
¦ÙChªÃlNodes
[slot][channel][aPath->path[l+1]]);

2189 
i
++;

2191 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
]] = 0;

2192 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
+1]] = 0;

2194 
¦Ù
 = 
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
;

2195 
chªÃl
 = 
	`EXTRACT_CHANNEL
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

2197 
	`årštf
(
vm
,"SlÙ %d ChªÃÈ%d Nod%d slÙChªÃlNode %d\n",
¦Ù
,
chªÃl
,
aP©h
->
·th
[
l
],
¦ÙChªÃlNodes
[slot][channel][aPath->path[l]]);

2198 
	`årštf
(
vm
,"SlÙ %d ChªÃÈ%d Nod%d slÙChªÃlNode %d\n",
¦Ù
,
chªÃl
,
aP©h
->
·th
[
l
+1],
¦ÙChªÃlNodes
[slot][channel][aPath->path[l+1]]);

2205 
¦Ù
, 
chªÃl
, 
node
;

2207 
l
=0;†<(
aP©h
->
numOfNodesInP©h
 - 1);l++,
i
++)

2209 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
]] = 0;

2210 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
+1]] = 0;

2212 
¦Ù
 = 
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
;

2213 
chªÃl
 = 
	`EXTRACT_CHANNEL
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

2219 
l
=1;†<=(
aP©h
->
numOfNodesInP©h
 - 1);l++,
i
++)

2221 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
]] = 0;

2222 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][
aP©h
->
·th
[
l
-1]] = 0;

2224 
¦Ù
 = 
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
;

2225 
chªÃl
 = 
	`EXTRACT_CHANNEL
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
);

2232 if(
i
 !ğ
j
)

2234 
	`årštf
(
¡d”r
,"\ÀRemovšgƒËm’ts: i %d j %d",
i
,
j
);

2235 
	`ex™
(0);

2247 if(
j
 =ğ
k
)

2252 
k
 -ğ
–em’tsToRemove
;

2256 
i
 = 
j
; i<
k
; i++)

2259 
glob®ScheduËEËm’ts
[
i
-
–em’tsToRemove
] = globalScheduleElements[i];

2262 
k
 -ğ
–em’tsToRemove
;

2267 
glob®NumSchedEËm
 = 
k
;

2270 
	`årštf
(
á
,"\n");

2274 if(
voiûMsg
 == 1)

2276 if(
nodeID
[
aP©h
->
·th
[0]].
ty³
 =ğ
INFRA
)

2277 
pha£sP”Node
[
aP©h
->
·th
[0]][
pha£
] = 0;

2279 
j
=1;j<
aP©h
->
numOfNodesInP©h
-1;j++)

2281 
pha£sP”Node
[
aP©h
->
·th
[
j
]][
pha£
] = 0;

2284 if(
nodeID
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]].
ty³
 =ğ
INFRA
)

2285 
pha£sP”Node
[
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1]][
pha£
] = 0;

2287 
j
=0;j<=
aP©h
->
numOfNodesInP©h
-1;j++)

2295 
j
=1; j<(
aP©h
->
numOfNodesInP©h
 - 1); j++)

2297 
	`årštf
(
á
,"\ˆ%d",
aP©h
->
·th
[
j
]);

2298 
pha£sP”Node
[
aP©h
->
·th
[
j
]][
pha£
] = 0;

2302 *
¡r
 = "deallocate flows called from„evokeƒlements";

2303 
	`deAÎoÿ‹FlowsFÜNodes
(
aP©h
, 
voiûMsg
, 
¡r
);

2305 
	`»shufæeFlowQueue
(
æowId
);

2308 
i
=0;i<
aP©h
->
numOfNodesInP©h
;i++)

2314 
glob®C®lsInProg»ss
--;

2316 
	`´štSlÙChªÃlNodes
();

2318 
	`£tScheduËInfo
();

2322 if(
voiûMsg
 == 1)

2324 
routšgP©h
 * 
voiû·th
;

2325 
maxFlows
, 
numOfNodesInP©h
, 
Ãw_sourû
, 
Ãw_de¡š©iÚ
, 
‹mpFlowId
,
bÙ’eck_found
,
‹mp_de¡š©iÚ
, 
voiû_cu¼_queue_couÁ”
;

2326 
bÙ’eck_found
 = 0;

2329 
i
=0;i<
aP©h
->
numOfNodesInP©h
;i++)

2334 
voiû_cu¼_queue_couÁ”
 = 0; voiû_cu¼_queue_couÁ” < 
numP©hsInVoiûCu¼Queue
; voice_curr_queue_counter++)

2336 if(
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
voiûFlowId
 =ğ
æowId
)

2345 
Ãw_sourû
 = 
aP©h
->
·th
[aP©h->
numOfNodesInP©h
-1];

2346 
Ãw_de¡š©iÚ
 = 
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
ov”®Ë2eDe¡š©iÚ
;

2348 
voiû·th
 = 
	`g‘RoutšgP©h
(
Ãw_sourû
,
Ãw_de¡š©iÚ
);

2349 
numOfNodesInP©h
 = 
voiû·th
->numOfNodesInPath;

2350 if(
numOfNodesInP©h
 == 1)

2353 
	`årštf
(
voiû_’d
,"FlowId %d End_Tim%là\n",
æowId
,
simTime
);

2355 
i
=0; i<
numVoiûMsg
; i++)

2357 if(
voiûFlowSt
[
i
].
voiûFlowId
 =ğ
æowId
)

2359 
voiûFlowSt
[
i
].
’d_time
 = 
simTime
;

2362 
	`»shufæeVoiûCu¼Queue
(
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
voiûFlowId
);

2367 
	`checkVoiûQueue
();

2369  
SUCCESS
;

2393 if(
Ãw_de¡š©iÚ
 == -1)

2396 
	`årštf
(
¡d”r
,"voiû flow %d\n",
nodeID
[
aP©h
->
·th
[0]].
voiûFlow
);

2397 
	`årštf
(
¡d”r
,"sourû %d de¡š©iÚ %d\n",
Ãw_sourû
,
Ãw_de¡š©iÚ
);

2398 
	`ex™
(0);

2401 
‹mp_de¡š©iÚ
 = 
	`g‘VoiûDe¡š©iÚ
(
Ãw_sourû
,
Ãw_de¡š©iÚ
);

2404 if((
	`de¡š©iÚIsUp
(
Ãw_de¡š©iÚ
è=ğ
FAILURE
è|| (
nodeID
[Ãw_de¡š©iÚ].
ÿÎInProg»ss
 =ğ
TRUE
))

2406 
‹mp_de¡š©iÚ
 = -1;

2418 if(
nodeID
[
voiû·th
->
·th
[0]].
ty³
 =ğ
INFRA
)

2420 if(
æowsP”Node
[
voiû·th
->
·th
[0]]+1 > 
MAX_PHASES
)

2422 
	`årštf
(
vm
,"revoke severeƒrror,ƒxiting\n");

2423 
	`årštf
(
¡d”r
,"revoke severeƒrror,ƒxiting\n");

2424 
	`ex™
(0);

2428 if(
‹mp_de¡š©iÚ
 != -1)

2430 
»tV®
;

2431 
»tV®
 = 0;

2433 
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
sourû
 = 
Ãw_sourû
;

2434 
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
de¡š©iÚ
 = 
‹mp_de¡š©iÚ
;

2437 
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
voiûMsgDu¿tiÚ
 = 60000 + 
	`bufãrVoiûMsgTime
();

2438 
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
rP©h
 = 
	`g‘RoutšgP©h
(
Ãw_sourû
,
‹mp_de¡š©iÚ
);

2440 
hİDi¡ributiÚ
[
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
rP©h
->
numOfNodesInP©h
-1]++;

2442 
æowSt
[
numOfFlowsInProg»ss
].
sourû
 = 
Ãw_sourû
;

2443 
æowSt
[
numOfFlowsInProg»ss
].
de¡š©iÚ
 = 
‹mp_de¡š©iÚ
;

2444 
æowSt
[
numOfFlowsInProg»ss
].
æowId
 = flowId;

2445 
æowSt
[
numOfFlowsInProg»ss
].
voiûFlow
 = 1;

2446 
æowSt
[
numOfFlowsInProg»ss
].
aP©h
 = 
	`g‘RoutšgP©h
(
Ãw_sourû
,
‹mp_de¡š©iÚ
);

2447 
numOfFlowsInProg»ss
++;

2450 
nodeID
[
Ãw_sourû
].
ÿÎDu¿tiÚ
 = 60000;

2451 
nodeID
[
Ãw_sourû
].
voiûFlow
 = 1;

2452 
nodeID
[
Ãw_sourû
].
ÿÎReque¡S’t
 = 1;

2453 
nodeID
[
Ãw_sourû
].
cu¼’tFlowId
 = 
æowId
;

2454 
nodeID
[
Ãw_sourû
].
ÿÎInProg»ss
 = 
FALSE
;

2455 
nodeID
[
Ãw_sourû
].
æowT—»dDown
 = 
FALSE
;

2456 
numFlowReque¡sR—ched
[
æowId
] = 1;

2461 
i
=0; i<
numVoiûMsg
; i++)

2463 if(
voiûFlowSt
[
i
].
voiûFlowId
 =ğ
æowId
)

2465 
voiûFlowSt
[
i
].
äagm’‹d
++;

2468 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
Ãw_sourû
, 
‹mp_de¡š©iÚ
,
æowId
,„‘V®, 1, -1, 
NULL
);

2469 
»tV®
 !ğ(-1è&&„‘V® < (
MAX_PHASES
-1))

2471 
»tV®
 = 
	`£tSchedulšgEËm’ts
(
Ãw_sourû
, 
‹mp_de¡š©iÚ
,
æowId
,„‘V® + 1, 1, -1, 
NULL
);

2472 
	`årštf
(
¡d”r
,"This…rintf from withinhe setCarryForwardFlow in„evokeƒlements should ideally‚ever be called\n");

2473 
	`ex™
(0);

2476 if(
»tV®
 != -1)

2478 
	`årštf
(
¡d”r
,"set schedulingƒlements in„evokeƒlements should have gonerue\n");

2479 
	`ex™
(0);

2483 
i
=0;i<
numOfFlowsInProg»ss
;i++)

2485 if(
æowSt
[
i
].
æowId
 == flowId)

2487 
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
voiû_pha£
 = 
æowSt
[
i
].
pha£
;

2495 if(
numP©hsInVoiûQueue
 < 50)

2498 
voiûQueue
[
numP©hsInVoiûQueue
].
sourû
 = 
Ãw_sourû
;

2499 
voiûQueue
[
numP©hsInVoiûQueue
].
de¡š©iÚ
 = 
Ãw_de¡š©iÚ
;

2500 
voiûQueue
[
numP©hsInVoiûQueue
].
ov”®Ë2eDe¡š©iÚ
 = 
Ãw_de¡š©iÚ
;

2502 
voiûQueue
[
numP©hsInVoiûQueue
].
ÿÎDu¿tiÚ
 = 60000;

2503 
voiûQueue
[
numP©hsInVoiûQueue
].
voiûQueueFlowId
 = 
æowId
;

2504 
voiûQueue
[
numP©hsInVoiûQueue
].
voiû_pha£
 = -1;

2507 
nodeID
[
Ãw_sourû
].
¡Üe_ÿp
 += ((60000/30)*24);

2509 
	`logStÜeC­
(
voiûQueue
[
numP©hsInVoiûQueue
].
sourû
,
nodeID
[voiûQueue[numP©hsInVoiûQueue].sourû].
¡Üe_ÿp
,
simTime
);

2511 
numP©hsInVoiûQueue
++;

2513 
i
=0; i<
numVoiûMsg
; i++)

2515 if(
voiûFlowSt
[
i
].
voiûFlowId
 =ğ
æowId
)

2517 
voiûFlowSt
[
i
].
äagm’‹d
++;

2521 
	`»shufæeVoiûCu¼Queue
(
voiûCu¼Queue
[
voiû_cu¼_queue_couÁ”
].
voiûFlowId
);

2527 
	`årštf
(
¡d”r
,"Sy¡em ov”lßded iÀ»vok–em’t š voiûQueu%d\n",
numP©hsInVoiûQueue
);

2528 
	`ex™
(0);

2535 
	`checkVoiûQueue
();

2540 
	`fşo£
(
á
);

2542 if(
glob®C®lsInProg»ss
 == 0)

2545 
i
=0; i<
NO_OF_DATA_SLOTS
; i++)

2547 
j
=0; j<
MAX_NO_CHANNELS
; j++)

2549 
k
=0; k<
MAX_NO_NODES
; k++)

2551 if(
¦ÙChªÃlNodes
[
i
][
j
][
k
] > 0)

2555 
¦ÙChªÃlNodes
[
i
][
j
][
k
] = 0;

2562  
SUCCESS
;

2563 
	}
}

2566 
	$g‘F»eSlÙ
(
tx
, 
rx
)

2568 
¦Ù
;

2570 
¦Ù
 = 0; slÙ < 
NO_OF_DATA_SLOTS
; slot++)

2572 if(
¦ÙsP”Node
[
tx
][
¦Ù
] =ğ0 && slÙsP”Node[
rx
][slot] == 0)

2573  
¦Ù
;

2576  
¦Ù
;

2577 
	}
}

2579 
	$checkFlowAdmissiÚ
(
routšgP©h
 *
aP©h
)

2581 
l
;

2582 
cu¼’tSlÙ
;

2584 
l
=0;†<(
aP©h
->
numOfNodesInP©h
 - 1);l++)

2586 
cu¼’tSlÙ
 = 
	`g‘F»eSlÙ
(
aP©h
->
·th
[
l
],‡Path->path[l+1]);

2587 if(
cu¼’tSlÙ
 >ğ
NO_OF_DATA_SLOTS
)

2589  
FALSE
;

2593 
l
=1;†<=(
aP©h
->
numOfNodesInP©h
 - 1);l++)

2595 
cu¼’tSlÙ
 = 
	`g‘F»eSlÙ
(
aP©h
->
·th
[
l
],‡Path->path[l-1]);

2596 if(
cu¼’tSlÙ
 >ğ
NO_OF_DATA_SLOTS
)

2598  
FALSE
;

2601  
TRUE
;

2602 
	}
}

3054 
	$»shufæeFlowQueue
(
æowId
)

3056 
i
,
j
;

3058 
i
=0; i<
numOfFlowsInProg»ss
; i++)

3060 if(
æowSt
[
i
].
æowId
 == flowId)

3063 if(
i
 =ğ
numOfFlowsInProg»ss
)

3065 
	`årštf
(
¡d”r
,"\n Sanity check failed inside„eshuffleFlowQueue:‚o flow found");

3066 
	`ex™
(0);

3068 if(
i
 =ğ(
numOfFlowsInProg»ss
 - 1))

3070 
numOfFlowsInProg»ss
--;

3071 if(
numOfFlowsInProg»ss
 == 0)

3078  
SUCCESS
;

3080 
j
=
i
+1; j < 
numOfFlowsInProg»ss
; j++)

3082 
æowSt
[
i
] = flowSt[
j
];

3083 
i
++;

3085 
numOfFlowsInProg»ss
--;

3090 if(
numOfFlowsInProg»ss
 == 0)

3095 
	}
}

	@schedulerAlgo.c

1 
	~"h—d”.h
"

5 
	#MAX_NODES_SCHED_ALGO
 128

	)

6 
	#MAX_SLOTS_SCHED_ALGO
 8

7 
	#REAL_SLOTS
 8

	)

8 
	#MAX_CHANNELS_SCHED_ALGO
 4

9 
	#MAX_HOPS_SCHED_ALGO
 8

10 

	)

11 
	#MAX_VERTICES_SCHED_ALGO
 (
MAX_NODES_SCHED_ALGO
 * 
MAX_SLOTS_SCHED_ALGO
 * 
MAX_CHANNELS_SCHED_ALGO
 * 
MAX_HOPS_SCHED_ALGO
)

	)

13 
	#SOURCE_SCHED_ALGO
 (-2)

14 
	#UNDEFINED_SCHED_ALGO
 (99)

	)

15 
	#DELAY_BOUND_SCHED_ALGO
 (24)

16 

	)

17 
	#cÚ¡ruùV”‹x
(
node
, 
¦Ù
, 
chªÃl
, 
hİs
è((
ušt32_t
è((((ušt32_tèchªÃÈ& 0x0003è<< 13)|(((ušt32_tèhİ & 0x0007è<< 10è| (((ušt32_tè¦Ù & 0x0007è<< 7è| (((ušt32_tènod& 0x007f))))

	)

19 
	#g‘Node
(
v”‹x
è((
ušt8_t
)(v”‹x & 0x007f))

	)

20 
	#g‘SlÙ
(
v”‹x
è((
ušt8_t
)((v”‹x >> 7è& 0x0007))

	)

21 
	#g‘ChªÃl
(
v”‹x
è((
ušt8_t
)((v”‹x >> 13è& 0x0003))

	)

22 
	#g‘Hİs
(
v”‹x
è((
ušt8_t
)((v”‹x >> 10è& 0x0007))

	)

26 
	gdi¡
[
MAX_VERTICES_SCHED_ALGO
];

27 
ušt32_t
 
	g´eviousNode
[
MAX_VERTICES_SCHED_ALGO
];

28 
	gnodeVis™ed
[
MAX_VERTICES_SCHED_ALGO
];

29 
ušt32_t
 
	gmšV”‹x
;

30 
	gmšDi¡ªû
, 
	g‹mpD–ay
;

34 
	$IsNodeReûiv”
(
¦Ù
, 
chªÃl
, 
nodeToCheck
)

36 
k
;

37 
k
=0; k<
glob®NumSchedEËm
; k++)

39 if(
glob®ScheduËEËm’ts
[
k
].
»ûiv”
 =ğ
nodeToCheck
 && glob®ScheduËEËm’ts[k].
¦ÙToS¹
 =ğ
¦Ù
 && 
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[k].
æowId_chªÃl
è=ğ
chªÃl
)

41  
TRUE
;

45  
FALSE
;

46 
	}
}

48 
	$IsNodeT¿nsm™‹r
(
¦Ù
, 
chªÃl
, 
nodeToCheck
)

50 
k
;

51 
k
=0; k<
glob®NumSchedEËm
; k++)

53 if(
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 =ğ
nodeToCheck
 && glob®ScheduËEËm’ts[k].
¦ÙToS¹
 =ğ
¦Ù
 && 
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[k].
æowId_chªÃl
è=ğ
chªÃl
)

55  
TRUE
;

59  
FALSE
;

60 
	}
}

62 
	$IsChªÃlAvaabËAtTx
(
node
, 
¦Ù
, 
chªÃl
)

64 
i
;

65 
i
 = 0; i < 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
; i++)

67 if(
	`IsNodeReûiv”
(
¦Ù
, 
chªÃl
, 
nodeID
[
node
].
š‹rã»nûLi¡
[
i
]))

71  
FALSE
;

76  
TRUE
;

77 
	}
}

79 
	$IsChªÃlAvaabËAtRx
(
node
, 
¦Ù
, 
chªÃl
)

81 
i
;

82 
i
 = 0; i < 
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
; i++)

84 if(
	`IsNodeT¿nsm™‹r
(
¦Ù
, 
chªÃl
, 
nodeID
[
node
].
š‹rã»nûLi¡
[
i
]))

88  
FALSE
;

93  
TRUE
;

94 
	}
}

96 
	$ÿlcD–ay
(
´evSlÙ
, 
ÃxtSlÙ
)

98 if(
ÃxtSlÙ
 > 
´evSlÙ
)

100  (
ÃxtSlÙ
 - 
´evSlÙ
);

104  (
REAL_SLOTS
 - 
ÃxtSlÙ
 + 
´evSlÙ
);

106 
	}
}

108 
	$A»TwoV”tiûsCÚÃùed
(
ušt32_t
 
»tV”‹xA
, ušt32_ˆ
»tV”‹xB
)

110 
i
, 
j
;

112 
ušt8_t
 
nodeA
, 
¦ÙA
, 
chªÃlA
, 
hİA
;

113 
ušt8_t
 
nodeB
, 
¦ÙB
, 
chªÃlB
, 
hİB
;

115 
nodeA
 = 
	`g‘Node
(
»tV”‹xA
);

116 
¦ÙA
 = 
	`g‘SlÙ
(
»tV”‹xA
);

117 
chªÃlA
 = 
	`g‘ChªÃl
(
»tV”‹xA
);

118 
hİA
 = 
	`g‘Hİs
(
»tV”‹xA
);

120 if(
¦ÙA
 >ğ
REAL_SLOTS
)

123  
FALSE
;

126 
nodeB
 = 
	`g‘Node
(
»tV”‹xB
);

127 
¦ÙB
 = 
	`g‘SlÙ
(
»tV”‹xB
);

128 
chªÃlB
 = 
	`g‘ChªÃl
(
»tV”‹xB
);

129 
hİB
 = 
	`g‘Hİs
(
»tV”‹xB
);

131 if(
¦ÙB
 >ğ
REAL_SLOTS
)

134  
FALSE
;

139 if(
ÃtwÜkG¿ph
[
nodeA
][
nodeB
]!=0 &&‚‘wÜkG¿ph[nodeA][nodeB]!ğ
UNDEFINED
)

142 if(
¦ÙA
 !ğ
¦ÙB
)

146 if(
	`IsChªÃlAvaabËAtTx
(
nodeA
, 
¦ÙB
, 
chªÃlB
è&& 
	`IsChªÃlAvaabËAtRx
(
nodeB
, slotB, channelB))

149 if(
hİB
 =ğ(
hİA
 + 1))

154  
TRUE
;

161  
FALSE
;

163 
	}
}

165 
	$æushDijk¡¿StÜage
()

167 
ušt32_t
 
i
;

170 
i
=0; i<
MAX_VERTICES_SCHED_ALGO
; i++)

172 
di¡
[
i
] = 
UNDEFINED
;

173 
´eviousNode
[
i
] = 
UNDEFINED
;

174 
nodeVis™ed
[
i
] = 
FALSE
;

176 
	}
}

178 
	$£tScheduË_shÜ‹¡P©h
(
ušt16_t
 
sourû
, ušt16_ˆ
de¡š©iÚ
, 
æowId
)

180 
ušt32_t
 
i
, 
j
, 
k
;

181 
foundV”‹x
 = 
FALSE
;

183 
	`æushDijk¡¿StÜage
();

185 
	`årštf
(
¡d”r
,"\nsourû %u de¡š©iÚ %u\n",
sourû
, 
de¡š©iÚ
);

189 if(
sourû
 < 0 || sourû > 
numOfNodesInN‘wÜk
)

191 
	`årštf
(
¡d”r
,"”rÜ iÀ£tScheduË_shÜ‹¡P©h, sourû inv®id %d\n",
sourû
);

192 
	`ex™
(0);

196 if(
de¡š©iÚ
 < 0 || de¡š©iÚ > 
numOfNodesInN‘wÜk
)

198 
	`årštf
(
¡d”r
,"”rÜ iÀ£tScheduË_shÜ‹¡P©h, de¡š©iÚ inv®id %d\n",
de¡š©iÚ
);

199 
	`ex™
(0);

205 
foundV”‹x
 = 
FALSE
;

207 
j
=0; j<
MAX_VERTICES_SCHED_ALGO
; j++)

210 if(
	`g‘SlÙ
(
j
è< 
REAL_SLOTS
)

212 
di¡
[
j
]ğ
ÃtwÜkG¿ph
[
sourû
][
	`g‘Node
(j)];

216 
di¡
[
j
]ğ
UNDEFINED
;

221 if(
ÃtwÜkG¿ph
[
sourû
][
	`g‘Node
(
j
)] == 1)

224 if(
	`g‘SlÙ
(
j
è< 
REAL_SLOTS
 && 
foundV”‹x
 =ğ
FALSE
)

226 
mšV”‹x
 = 
j
;

227 
foundV”‹x
 = 
TRUE
;

233 
´eviousNode
[
j
] = 
SOURCE_SCHED_ALGO
;

241 
foundV”‹x
 = 
FALSE
;

243 
j
=0; j<
MAX_VERTICES_SCHED_ALGO
; j++)

246 if(
j
 !ğ
mšV”‹x
)

248 
nodeVis™ed
[
j
] = 
FALSE
;

252 
nodeVis™ed
[
j
] = 
TRUE
;

258 
k
=1; k<
MAX_VERTICES_SCHED_ALGO
; k++)

261 
j
=0; j<
MAX_VERTICES_SCHED_ALGO
; j++)

264 if(
nodeVis™ed
[
j
] =ğ
FALSE
 && 
	`A»TwoV”tiûsCÚÃùed
(
mšV”‹x
, j))

266 
‹mpD–ay
 = 
di¡
[
mšV”‹x
] + 
	`ÿlcD–ay
(
	`g‘SlÙ
(mšV”‹x), g‘SlÙ(
j
));

269 if(
‹mpD–ay
 < 
DELAY_BOUND_SCHED_ALGO
 &&empD–ay < 
di¡
[
j
])

272 
di¡
[
j
] = di¡[
mšV”‹x
] + 
	`ÿlcD–ay
(
	`g‘SlÙ
(minVertex), getSlot(j));

273 
´eviousNode
[
j
] = 
mšV”‹x
;

280 
mšDi¡ªû
 = 
UNDEFINED
;

282 
j
=0; j<
MAX_VERTICES_SCHED_ALGO
; j++)

286 if(
nodeID
[
	`g‘Node
(
j
)].
ty³
 =ğ
INFRA
 && 
nodeVis™ed
[j] =ğ
FALSE
 && 
di¡
[j] < 
mšDi¡ªû
)

289 
mšDi¡ªû
 = 
di¡
[
j
];

290 
mšV”‹x
 = 
j
;

294 if(
mšDi¡ªû
 =ğ
UNDEFINED
)

303 
nodeVis™ed
[
mšV”‹x
] = 
TRUE
;

308 
	`årštf
(
¡d”r
,"Dijkstra's done, find destination‚ode\n");

310 
foundV”‹x
 = 
FALSE
;

312 
j
=0; j<
MAX_SLOTS_SCHED_ALGO
; j++)

314 
k
=0; k<
MAX_CHANNELS_SCHED_ALGO
; k++)

316 
i
=1; i <
MAX_HOPS_SCHED_ALGO
; i++)

319 if(
di¡
[
	`cÚ¡ruùV”‹x
(
de¡š©iÚ
, 
j
, 
k
, 
i
)] !ğ
UNDEFINED
)

321 
foundV”‹x
 = 
TRUE
;

325 if(
foundV”‹x
 =ğ
TRUE
)

328 if(
foundV”‹x
 =ğ
TRUE
)

334 if(
foundV”‹x
 =ğ
FALSE
)

336 
	`årštf
(
¡d”r
,">>> Scheduling‚ot…ossible <<<\n");

341 
mšV”‹x
 = 
	`cÚ¡ruùV”‹x
(
de¡š©iÚ
, 
j
, 
k
, 
i
);

343 
	`årštf
(
¡d”r
,"V”‹x %u de¡š©iÚ %u\n",
mšV”‹x
, 
	`g‘Node
(minVertex));

345 
k
 = 
glob®NumSchedEËm
;

347 
i
=
mšV”‹x
; i !ğ
SOURCE_SCHED_ALGO
;)

349 
	`årštf
(
¡d”r
,"nod%d slÙ %d chªÃÈ%d hİ %d\n", 
	`g‘Node
(
i
), 
	`g‘SlÙ
(i), 
	`g‘ChªÃl
(i), 
	`g‘Hİs
(i));

353 if(
´eviousNode
[
i
] =ğ
SOURCE_SCHED_ALGO
)

354 
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 = 
sourû
;

356 
glob®ScheduËEËm’ts
[
k
].
Œªsm™‹r
 = 
	`g‘Node
(
´eviousNode
[
i
]);

357 
glob®ScheduËEËm’ts
[
k
].
»ûiv”
 = 
	`g‘Node
(
i
);

358 
glob®ScheduËEËm’ts
[
k
].
æowId_chªÃl
 = 
	`FLOWID_CHANNEL
(
æowId
,
	`g‘ChªÃl
(
i
));

359 
glob®ScheduËEËm’ts
[
k
].
¦ÙToS¹
 = 
	`g‘SlÙ
(
i
);

360 
glob®ScheduËEËm’ts
[
k
].
numSlÙs
 = 1;

363 
¦ÙChªÃlNodes
[
	`g‘SlÙ
(
i
)][
	`g‘ChªÃl
(i)][
	`g‘Node
(
´eviousNode
[i])] = 1;

364 
¦ÙChªÃlNodes
[
	`g‘SlÙ
(
i
)][
	`g‘ChªÃl
(i)][
	`g‘Node
(i)] = 1;

367 
k
++;

369 
i
=
´eviousNode
[i];

372 
glob®NumSchedEËm
 = 
k
;

374 
	`årštf
(
¡d”r
,"glob®NumSchedEËm %d\n",
glob®NumSchedEËm
);

379 
	}
}

381 
	$»vokeEËm’ts_schedAlgo
(
æowId
)

383 
i
, 
j
, 
k
, 
l
,
m
;

384 
–em’tsToRemove
, 
pha£
;

385 
æowFound
;

386 
FILE
 *
á
;

390 
k
 = 
glob®NumSchedEËm
;

393 
æowFound
 = 0;

395 
i
=0;i<
numOfFlowsInProg»ss
;i++)

397 if(
æowSt
[
i
].
æowId
 == flowId)

399 
æowFound
 = 1;

404 if(
æowFound
 == 0)

406 
	`årštf
(
¡d”r
,"\ÀFlow %d could‚Ù bfound,…ossibly‡Ì—dy d—Îoÿ‹d",
æowId
);

407 
	`´štf
("\ÀFlow %d could‚Ù bfound,…ossibly‡Ì—dy d—Îoÿ‹d",
æowId
);

409  
SUCCESS
;

412 
æowFound
 = -1;

413 
–em’tsToRemove
 = 0;

415 
i
=0; i<
k
; i++)

417 if(
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
è=ğ
æowId
)

419 if(
æowFound
 == -1)

421 
æowFound
 = 
i
;

423 
–em’tsToRemove
++;

424 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][glob®ScheduËEËm’ts[i].
Œªsm™‹r
] = 0;

425 
¦ÙChªÃlNodes
[
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
][
	`EXTRACT_CHANNEL
(glob®ScheduËEËm’ts[i].
æowId_chªÃl
)][glob®ScheduËEËm’ts[i].
»ûiv”
] = 0;

430 if(
æowFound
 == -1)

432 
	`årštf
(
¡d”r
,"\ÀRevokšgƒËm’ts: flow %d found,‚ØschedƒËm’t found, mu¡ btimedout\n",
æowId
);

433 
	`´štf
("\ÀRevokšgƒËm’ts: flow %d found,‚ØschedƒËm’t found, mu¡ btimedout\n",
æowId
);

435  
SUCCESS
;

436 
	`ex™
(0);

439 
j
 = 
æowFound
 + 
–em’tsToRemove
;

441 
á
 = 
	`fİ’
("channelInfo.txt","a+");

444 
	`årštf
(
¡d”r
,"glob® schedulšgƒËm’t bešg„emoved %d\ÀfÜ flowId %d\n",
–em’tsToRemove
,
æowId
);

445 if(
j
 =ğ
k
)

450 
k
 -ğ
–em’tsToRemove
;

454 
i
 = 
j
; i<
k
; i++)

457 
glob®ScheduËEËm’ts
[
i
-
–em’tsToRemove
] = globalScheduleElements[i];

460 
k
 -ğ
–em’tsToRemove
;

465 
glob®NumSchedEËm
 = 
k
;

468 
	`årštf
(
¡d”r
,"\n Remaining schedulingƒlements\n");

469 
i
=0; i<
k
; i++)

471 
	`årštf
(
¡d”r
, "ˆ%d\ˆ¸%d\ˆà%d\ˆø%d\ˆ %d\n",
glob®ScheduËEËm’ts
[
i
].
Œªsm™‹r
,

472 
glob®ScheduËEËm’ts
[
i
].
»ûiv”
,

473 
	`EXTRACT_FLOWID
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
),

474 
	`EXTRACT_CHANNEL
(
glob®ScheduËEËm’ts
[
i
].
æowId_chªÃl
),

475 
glob®ScheduËEËm’ts
[
i
].
¦ÙToS¹
);

478 
	`årštf
(
á
,"\n");

479 
	`årštf
(
¡d”r
,"\n");

481 
glob®C®lsInProg»ss
--;

485 
	`£tScheduËInfo
();

487 
	`fşo£
(
á
);

491 if(
glob®C®lsInProg»ss
 == 0)

493 
	`´štf
("\n 0 calls in…rogress,‡ll ofhe followingƒlements should be zero");

494 
i
=0; i<
NO_OF_DATA_SLOTS
; i++)

496 
j
=0; j<
MAX_NO_CHANNELS
; j++)

498 
k
=0; k<
MAX_NO_NODES
; k++)

500 if(
¦ÙChªÃlNodes
[
i
][
j
][
k
] > 0)

501 
	`´štf
("\À¦Ù %d chªÃÈ%d‚od%d: %d",
i
,
j
,
k
,
¦ÙChªÃlNodes
[i][j][k]);

502 
¦ÙChªÃlNodes
[
i
][
j
][
k
] = 0;

509  
SUCCESS
;

510 
	}
}

	@simulation.c

1 
	~"h—d”.h
"

3 
	#PRINT_UNIT
 (1*60*1000)

	)

4 
	#RAND_INIT
 007

	)

6 
	gæowReque¡Reû±iÚCouÁ”
 = 0;

8 
	gæowDrİDueToE2EPack‘Los£s
 = 0;

10 
	g³rûÁageC®lDrİ
 = ()0;

12 
	gcouÁUniqueC®lsOrigš©ed
= 0;

13 
	guniqueC®lsOrigš©ed
[
MAX_FLOW_ID
];

14 
	guniqueC®lsDrİ³d
[
MAX_FLOW_ID
];

17 
ev’t
 * 
	gqueueH—d
 = 
NULL
;

19 
scheduËEËm’t
 
	gglob®ScheduËEËm’ts
[
MAX_SCHED_ELEMENTS
];

22 
	groutšgT»e
[
MAX_NO_NODES
*2];

25 
æowReque¡
 * 
	gÏ¡FlowReque¡
 = 
NULL
;

27 
voiûFlowReque¡
 * 
	gÏ¡VoiûFlowReque¡
 = 
NULL
;

31 
‹¬Down
 * 
	gÏ¡T—rDown
 = 
NULL
;

32 
nodeJoš
 * 
	gÏ¡JošReque¡
 = 
NULL
;

34 
	gnodeSoáS‹AtRoÙ
[
MAX_NO_NODES
];

35 
	guniq_time
[
MAX_NO_NODES
];

36 
	guniq_time_couÁ”
;

38 
	gæowsP”Node
[
MAX_NO_NODES
];

40 
	gvoiûFlowsP”Node
[
MAX_NO_NODES
];

42 
	gpha£sP”Node
[
MAX_NO_NODES
][
MAX_PHASES
];

43 
	g¦ÙsP”Node
[
MAX_NO_NODES
][
NO_OF_DATA_SLOTS
];

44 
	g¦ÙsP”NodeSC
[
MAX_NO_NODES
];

45 
	g¦ÙChªÃlNodes
[
NO_OF_DATA_SLOTS
][
MAX_NO_CHANNELS
][
MAX_NO_NODES
];

47 
	gglob®LogFlowId
 = 1;

48 
	gglob®UniqueFlowId
 = 1;

49 
	gnumOfFlowsInProg»ss
 = 0;

52 
	gglob®NumSchedEËm
 = 0;

56 
	gglob®UniqueVoiûFlowId
 = 1;

57 
	gnumOfVoiûFlowsInProg»ss
 = 0;

58 
FILE
 * 
	gdump
;

59 
FILE
 * 
	gvm
;

60 
FILE
 * 
	g©
;

61 
FILE
 * 
	gvoiû_’d
;

62 
FILE
 * 
	gvoiû_¡¬t
;

63 
FILE
 * 
	gvoiû_log
;

66 
	gscheduËSlÙs
 = 
NO_OF_DATA_SLOTS
;

67 
	gscheduËIÁ”v®
 = 
FRAME_DURATION
;

70 
	gnumOfNodesInT»e
 = 0;

71 
	gnumOfInäaNodesInT»e
 = 0;

73 
	gnumOfP»£ÁNodesInT»e
 = 0;

74 
	gnumOfP»£ÁInäaNodesInT»e
 = 0;

76 
	gnumOfNodesInN‘wÜk
;

77 
	gnumOfInäaNodesInN‘wÜk
;

78 
	gnumOfMobeNodesInN‘wÜk
;

82 
	gnumOfP»£ÁSchedEËm
 = 0;

83 
	gmax_no_äagm’ts
 = 0;

86 
	gglob®C®lsInProg»ss
 = 0;

89 
	gglob®VoiûC®lsInProg»ss
 = 0;

90 
	gnumSucûssVoiûC®ls
[
MAX_FLOW_ID
];

91 
	gnumVoiûFlowReque¡sR—ched
[
MAX_FLOW_ID
];

94 
	gvoiûFlowReque¡sReûived
[
MAX_SIM_CALLS
];

95 
	gvoiûFlowReque¡sRejeùed
[
MAX_SIM_CALLS
];

96 
	gvoiûFlowReque¡sAdm™‹d
[
MAX_SIM_CALLS
];

98 
	gnoOfVoiûC®lsAdm™‹d
 = 0;

99 
	gnoOfTÙ®VoiûFlowReque¡sReûived
 = 0;

100 
	gnoOfTÙ®VoiûFlowReque¡sRejeùed
 = 0;

101 
	gnoOfVoiûC®lsOrigš©ed
 = 0;

105 
	gnoOfVoiûC®lsTimedOut
 = 0;

106 
	gnoOfSucûssVoiûC®ls
 = 0;

107 
	gnoOfUniqueVoiûFlowReque¡sReûived
 = 0;

110 
	gnumP©hsInVoiûQueue
 = 0;

111 
	gnumP©hsInVoiûCu¼Queue
 = 0;

112 
	g»®_time_ÿÎ_couÁ”
 = 0;

113 
	g»voke_æag
 = 0;

118 
	gnumSucûssC®ls
[
MAX_FLOW_ID
];

119 
	gnumFlowReque¡sR—ched
[
MAX_FLOW_ID
];

120 
	gnumTimedOutC®ls
[
MAX_FLOW_ID
];

122 
	gæowReque¡sReûived
[
MAX_SIM_CALLS
];

123 
	gæowReque¡sRejeùed
[
MAX_SIM_CALLS
];

124 
	gæowReque¡sAdm™‹d
[
MAX_SIM_CALLS
];

126 
	ghİDi¡ributiÚ
[
MAX_NO_HOPS
];

128 
	gnoOfC®lsAdm™‹d
 = 0;

129 
	gnoOfTÙ®FlowReque¡sReûived
 = 0;

130 
	gnoOfTÙ®FlowReque¡sRejeùed
 = 0;

131 
	gnoOfC®lsOrigš©ed
 = 0;

132 
	gnoOfC®lsE¼Drİ³d
 = 0;

135 
	gnoOfC®lsTimedOut
 = 0;

136 
	gnoOfSucûssC®ls
 = 0;

137 
	gnoOfUniqueFlowReque¡sReûived
 = 0;

139 
	gÿÎsNÙHªdedOff
 = 0;

142 
	gscheduËPack‘Chªge
 = 
FALSE
;

143 
	gcu¼’tScheduËTime
 = 0;

145 
	gÏ¡ScheduËTime
 = 0;

146 
	gÏ¡ScheduËChªge
 = 0;

148 
	gMEAN_CALL_DURATION
 = 0;

149 
	gMEAN_CALL_FREQUENCY
 = 0;

151 
	gMEAN_VOICE_CALL_DURATION
 = 0;

154 
	gsimTime
 = 0;

155 
	g’dSimTime
 = 4*60*60*1000;

156 
	g”rÜR©e
 = 0.0;

157 
	gcÚ‹ÁiÚProbab™y
 = 1.0;

159 
	gglob®SlÙNo
 = 
UNDEFINED
;

160 
	gglob®NextEv’tTime
 = 
UNDEFINED
;

163 
	gŒªsmissiÚRªgeI
 = (è250, 
	gš‹rã»nûRªgeI
 = () 350;

164 
	gŒªsmissiÚRªgeM
 = (è150, 
	gš‹rã»nûRªgeM
 = () 250;

168 
	gnoOfC®lsAdm™‹d_Unique
[
MAX_FLOW_ID
];

170 
	gnoOfC®lsAdm™‹d_Unique_C®c
 = 0;

171 
	gnumVoiûMsg
 = 0;

172 
	gvoiûHİDi¡ributiÚ
[
MAX_NO_HOPS
+10];

177 
	gaùiveFlowIDTime
[2000];

184 
	$š™ŸlizeSimuÏtiÚ
()

187 
šdex
;

188 
i
,
j
,
k
;

189 
wakeupTime
, 
‹mpTime
;

191 
timeToS¹
;

192 
æowId
, 
sourû
, 
de¡š©iÚ
;

193 
ÿÎDu¿tiÚ
;

195 
ch
;

196 
ev’t
 * 
ªEv’t
;

198 
numFlowEv’ts
 = 0, 
lim™FlowEv’ts
 = 3;

200 
FILE
 *
å
;

202 
queueH—d
 = 
NULL
;

203 
simTime
 = 0;

205 
numOfNodesInT»e
 = 0;

207 
routšgT»e
[0] = 
ROOT
;

208 
nodeID
[
ROOT
].
brßdÿ¡Tuº
 = 0;

209 
nodeID
[
ROOT
].
d•th
 = 0;

213 
æowDrİDueToE2EPack‘Los£s
 = 0;

218 
šdex
 = 1; index < 
MAX_NO_NODES
*2; index++)

220 
routšgT»e
[
šdex
] = 
UNDEFINED
;

223 
i
=0; i<
MAX_NO_NODES
; i++)

225 
æowsP”Node
[
i
] = 0;

233 
i
=0; i<
MAX_NO_NODES
; i++)

235 
j
=0; j<
MAX_PHASES
; j++)

237 
pha£sP”Node
[
i
][
j
] = 0;

243 
i
=0; i<
MAX_NO_NODES
; i++)

245 
j
=0; j<
NO_OF_DATA_SLOTS
; j++)

247 
¦ÙsP”Node
[
i
][
j
] = 0;

252 
i
=0; i<
NO_OF_DATA_SLOTS
; i++)

254 
j
=0; j<
MAX_NO_CHANNELS
; j++)

256 
k
=0; k<
MAX_NO_NODES
; k++)

258 
¦ÙChªÃlNodes
[
i
][
j
][
k
] = 0;

263 
i
=0; i<
MAX_FLOW_ID
; i++)

265 
uniqueC®lsOrigš©ed
[
i
] = 0;

266 
uniqueC®lsDrİ³d
[
i
] = 0;

267 
numSucûssC®ls
[
i
] = 0;

268 
numFlowReque¡sR—ched
[
i
] = 0;

269 
numTimedOutC®ls
[
i
] = 0;

272 
numSucûssVoiûC®ls
[
i
] = 0;

273 
numVoiûFlowReque¡sR—ched
[
i
] = 0;

274 
noOfC®lsAdm™‹d_Unique
[
i
] = 0;

278 
i
=0; i<
MAX_SIM_CALLS
; i++)

280 
æowReque¡sRejeùed
[
i
] = 0;

281 
æowReque¡sReûived
[
i
] = 0;

282 
æowReque¡sAdm™‹d
[
i
] = 0;

285 
voiûFlowReque¡sRejeùed
[
i
] = 0;

286 
voiûFlowReque¡sReûived
[
i
] = 0;

287 
voiûFlowReque¡sAdm™‹d
[
i
] = 0;

292 
i
=0;i<
MAX_NO_HOPS
;i++)

294 
hİDi¡ributiÚ
[
i
] = 0;

297 
voiûHİDi¡ributiÚ
[
i
] = 0;

314 
i
=0; i<
MAX_NO_NODES
; i++)

316 
nodeSoáS‹AtRoÙ
[
i
] = 0;

320 
i
=0; i < 
MAX_MOVING_NODES
; i++)

322 
movšg_nodes
[
i
].
mobe_node
 = -1;

323 
movšg_nodes
[
i
].
dœeùiÚ
 = 0;

324 
movšg_nodes
[
i
].
¡¬‹d_©
 = 0;

327 
uniq_time_couÁ”
 = 0;

330 
i
=0; i<2000; i++)

332 
aùiveFlowIDTime
[
i
] = 0;

336 
	`¡¬tLoggšgNodeSts
();

338 
ªEv’t
 = 
	`g‘ScheduËEv’t
(
simTime
, 
ROOT
, ROOT, 
TX
);

339 
	`š£¹Ev’t
(
ªEv’t
);

340 
ªEv’t
 = 
	`g‘CÚ‹ÁiÚSlÙEv’t
(
simTime
+(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
), 
ROOT
);

341 
	`š£¹Ev’t
(
ªEv’t
);

344 
ªEv’t
 = 
	`g‘VoiûMsgCheckEv’t
(
simTime
);

345 
	`š£¹Ev’t
(
ªEv’t
);

361 
ªEv’t
 = 
	`g‘TİŞogyCheckEv’t
(
simTime
+(
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
)+(
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
));

362 
	`š£¹Ev’t
(
ªEv’t
);

365 
	`´štf
("\ÀnumOfNodesInN‘wÜk %d",
numOfNodesInN‘wÜk
);

366 
	`´štf
("\ÀnumOfInäaNodesInN‘wÜk %d",
numOfInäaNodesInN‘wÜk
);

367 
	`´štf
("\ÀnumOfMobeNodesInN‘wÜk %d",
numOfMobeNodesInN‘wÜk
);

369 
	`š™¿nd
((è
RAND_INIT
);

371 
‹mpTime
 = () 0;

373 
i
=1; i<
numOfInäaNodesInN‘wÜk
; i++)

376 
wakeupTime
 = 
‹mpTime
 + 
	`¿nddoubË
(() 1500);

377 
	`årštf
(
¡d”r
,"\Àwakeu°%d %lf",
i
,
wakeupTime
);

378 
ªEv’t
 = 
	`g‘AliveEv’t
(
wakeupTime
,
i
);

379 
	`š£¹Ev’t
(
ªEv’t
);

380 
‹mpTime
 =empTime + () 3000;

383 
i
=0; i<
numOfMobeNodesInN‘wÜk
; i++)

386 
wakeupTime
 = 
‹mpTime
 + 
	`¿nddoubË
(() 1500);

387 
	`årštf
(
¡d”r
,"\Àwakeu°%d %lf",
numOfInäaNodesInN‘wÜk
 + 
i
,
wakeupTime
);

388 
ªEv’t
 = 
	`g‘AliveEv’t
(
wakeupTime
,
numOfInäaNodesInN‘wÜk
 + 
i
);

389 
	`š£¹Ev’t
(
ªEv’t
);

390 
‹mpTime
 =empTime + () 3000;

393 #ià
GENERATE_REQUESTS_FROM_FILE


395 
å
 = 
	`fİ’
("recordFlow.txt", "r");

397 (
ch
 = 
	`fg‘c
(
å
)è!ğ
EOF
)

399 if(
ch
 == '(')

401 
	`fsÿnf
(
å
,"%lf",&
timeToS¹
);

402 
	`fsÿnf
(
å
,"%d",&
æowId
);

404 
	`årštf
(
¡d”r
,"%là%d\n",
timeToS¹
, 
æowId
);

406 
	`fsÿnf
(
å
,"%d",&
sourû
);

407 
	`fsÿnf
(
å
,"%d",&
de¡š©iÚ
);

408 
	`fsÿnf
(
å
,"%lf",&
ÿÎDu¿tiÚ
);

410 
ªEv’t
 = 
	`g‘G’”©eFlowReque¡Ev’t
(
timeToS¹
, 
æowId
);

411 
	`š£¹Ev’t
(
ªEv’t
);

413 
numFlowEv’ts
++;

420 
	`fşo£
(
å
);

425  
SUCCESS
;

426 
	}
}

429 
	$»sŞve_Çme
(
ev’t_no
,*
ev’t_Çme
)

432 
ev’t_no
)

435 
	`¡rıy
(
ev’t_Çme
,"TX");

438 
	`¡rıy
(
ev’t_Çme
,"RX");

441 
	`¡rıy
(
ev’t_Çme
,"RX_BEGIN");

444 
	`¡rıy
(
ev’t_Çme
,"RX_END");

447 
	`¡rıy
(
ev’t_Çme
,"CONTENTION_RX_BEGIN");

450 
	`¡rıy
(
ev’t_Çme
,"CONTENTION_RX_END");

453 
	`¡rıy
(
ev’t_Çme
,"DATA_RX_BEGIN");

456 
	`¡rıy
(
ev’t_Çme
,"DATA_RX_END");

459 
	`¡rıy
(
ev’t_Çme
,"HANDLE_CONTENTION_SLOT");

462 
	`¡rıy
(
ev’t_Çme
,"STOP_TRANSMISSION");

465 
	`¡rıy
(
ev’t_Çme
,"MAKE_ALIVE");

468 
	`¡rıy
(
ev’t_Çme
,"MAKE_DEAD");

471 
	`¡rıy
(
ev’t_Çme
,"DATA_SLOT_TRANSMIT");

474 
	`¡rıy
(
ev’t_Çme
,"CONTENTION_SLOT_BEGINS");

477 
	`¡rıy
(
ev’t_Çme
,"CONTENTION_SLOT_BACKOFF");

480 
	`¡rıy
(
ev’t_Çme
,"JOIN_REQUEST_TIMEOUT");

483 
	`¡rıy
(
ev’t_Çme
,"FLOW_REQUEST_TIMEOUT");

486 
	`¡rıy
(
ev’t_Çme
,"KEEP_JOINED_TIMEOUT");

489 
	`¡rıy
(
ev’t_Çme
,"SCHEDULE_DISSEMINATE");

492 
	`¡rıy
(
ev’t_Çme
,"SCHEDULE_RECEPTION_TIMEOUT");

495 
	`¡rıy
(
ev’t_Çme
,"NEXT_FLOW_REQUEST");

498 
	`¡rıy
(
ev’t_Çme
,"CAN_START_FLOW");

501 
	`¡rıy
(
ev’t_Çme
,"START_NEW_SCHEDULE");

504 
	`¡rıy
(
ev’t_Çme
,"BW_REQUEST_TIMEOUT");

507 
	`¡rıy
(
ev’t_Çme
,"LINK_ACK_TIMEOUT");

510 
	`¡rıy
(
ev’t_Çme
,"CALL_REQUEST");

513 
	`¡rıy
(
ev’t_Çme
,"VOICE_MSG_CHECK");

516 
	`¡rıy
(
ev’t_Çme
,"STORE_CAP");

519 
	`¡rıy
(
ev’t_Çme
,"TOPOLOGY_UPDATE_CHECK");

522 
	`¡rıy
(
ev’t_Çme
,"NODE_DISABLE");

525 
	`¡rıy
(
ev’t_Çme
,"VOICE_MSG_RELAY");

528 
	`¡rıy
(
ev’t_Çme
,"FRAGMENT_RECEPTION_TIMEOUT");

531 
	`¡rıy
(
ev’t_Çme
,"MOBILITY");

534 
	`¡rıy
(
ev’t_Çme
,"START_MOBILE");

537 
	`¡rıy
(
ev’t_Çme
,"STOP_MOBILE");

541 
	}
}

544 
	$»sŞve_·ck‘
(
·ck‘
, *
·ck‘_ty³
)

547 
·ck‘
)

550 
	`¡rıy
(
·ck‘_ty³
,"SCHEDULE");

553 
	`¡rıy
(
·ck‘_ty³
,"SCHEDULE_ELEMENT");

556 
	`¡rıy
(
·ck‘_ty³
,"DATA");

559 
	`¡rıy
(
·ck‘_ty³
,"JOIN_REQUEST");

562 
	`¡rıy
(
·ck‘_ty³
,"FLOW_REQUEST");

565 
	`¡rıy
(
·ck‘_ty³
,"BW_REQUEST");

568 
	`¡rıy
(
·ck‘_ty³
,"TEAR_DOWN");

571 
	`¡rıy
(
·ck‘_ty³
,"LINK_LEVEL_ACK");

574 
	`¡rıy
(
·ck‘_ty³
,"CONTENTION_FORWARD");

577 
	`¡rıy
(
·ck‘_ty³
,"VOICE_FLOW_REQUEST");

580 
	`¡rıy
(
·ck‘_ty³
,"TOPOLOGY_UPDATE");

583 
	`¡rıy
(
·ck‘_ty³
,"EXPECTED_FRAGMENT");

586 
	`¡rıy
(
·ck‘_ty³
,"MOBILE_DIRECTION");

589 
	}
}

593 
	$upd©eLoÿlTimšgs
()

595 
šdex
;

596 
šdex
 = 1; index <ğ
numOfNodesInN‘wÜk
; index++)

598 if(
nodeID
[
šdex
].
synchrÚized
 =ğ
TRUE
)

599 
nodeID
[
šdex
].
loÿlTime
 = 
simTime
 -‚odeID[šdex].
off£t
;

601  
SUCCESS
;

602 
	}
}

604 
	$´štNeighbÜInfo
(
node
)

606 
i
,
j
;

608 
	`årštf
(
¡d”r
,"\ÀNeighbÜ oànod%d‡» \n", 
node
);

609 
i
=0; i<
nodeID
[
node
].
numNeighbÜs
; i++)

611 
	`årštf
(
¡d”r
,"%d ", 
nodeID
[
node
].
ÃighbÜLi¡
[
i
]);

613 
	`årštf
(
¡d”r
,"\ÀIÁ”ã»r oànod%d‡» \n", 
node
);

614 
i
=0; i<
nodeID
[
node
].
numIÁ”ã¼šgNeighbÜs
; i++)

616 
	`årštf
(
¡d”r
,"%d ", 
nodeID
[
node
].
š‹rã»nûLi¡
[
i
]);

619 
	`årštf
(
¡d”r
,"\ÀNode fÜ which‚od%d i ¨ÃighbÜ \n", 
node
);

620 
i
=0; i<
numOfNodesInN‘wÜk
; i++)

622 
j
=0; j<
nodeID
[
i
].
numNeighbÜs
; j++)

624 if(
nodeID
[
i
].
ÃighbÜLi¡
[
j
] =ğ
node
)

626 
	`årštf
(
¡d”r
,"nod%d i ¨ÃighbÜ oà%d \n", 
node
, 
i
);

630 
	`årštf
(
¡d”r
,"\ÀNode fÜ which‚od%d i ª iÁ”ã»¸\n", 
node
);

631 
i
=0; i<
numOfNodesInN‘wÜk
; i++)

633 
j
=0; j < 
nodeID
[
i
].
numIÁ”ã¼šgNeighbÜs
; j++)

635 if(
nodeID
[
i
].
š‹rã»nûLi¡
[
j
] =ğ
node
)

637 
	`årštf
(
¡d”r
,"nod%d i ª iÁ”ã»¸oà%d \n", 
node
, 
i
);

642 
	}
}

644 
	$maš
(
¬gc
, *
¬gv
[])

646 
ev’t
 * 
ªEv’t
;

647 
·ck‘FÜm©
 * 
Ùh”Pack‘
;

649 
ex³ùedTime
 = (è
PRINT_UNIT
;

651 
FILE
 *
fv
,*
fx
,*
fy
,*
fz
,*
fk
,*
fc
,*
â
,*
ev’t_queue_dump
;

654 
ty³
;

655 
node
;

656 
i
,
j
;

657 
noOfSucûssC®ls
 = 0;

658 
mšu‹s
;

661 
ev’t_couÁ”
,
cyşe_couÁ”
=0;

662 
ev’t
 * 
cu¼_queue_ev’t
;

663 * 
ev’t_Çme
;

664 
ev’t_Çme
 = (*)
	`m®loc
(30*());

665 * 
·ck‘_ty³
;

666 
·ck‘_ty³
 = (*)
	`m®loc
(30*());

672 
couÁNodesFlow
 = 0;

674 #ià
GENERATE_REQUESTS_FROM_FILE


676 ià(
¬gc
 < 3)

678 
	`årštf
(
¡d”r
, "\n\n usage: ./lo3mac <errorrate_between(0,1)> <hoursofsim> >emp.dump\n\n");

679 
	`ex™
(0);

684 
”rÜR©e
 = (è
	`©of
(
¬gv
[1]);

685 
’dSimTime
 = (è
	`©of
(
¬gv
[2]) * 60 * 60 * 1000;

688 
MEAN_CALL_FREQUENCY
 = () (1);

689 
MEAN_CALL_DURATION
 = () (1);

690 
MEAN_VOICE_CALL_DURATION
 = () (1);

695 ià(
¬gc
 < 6)

697 
	`årštf
(
¡d”r
, "\n\n usage: ./lo3mac <errorrate_between(0,1)> <hoursofsim> callDuration[0,4)minutes interCallDuration[0,3)hours storedVoiceDuration[0,4)minutes >emp.dump\n\n");

698 
	`ex™
(0);

703 
”rÜR©e
 = (è
	`©of
(
¬gv
[1]);

704 
’dSimTime
 = (è
	`©of
(
¬gv
[2]) * 60 * 60 * 1000;

706 
MEAN_CALL_FREQUENCY
 = (è
	`©of
(
¬gv
[3]) * 60 * 60 * 1000;

707 
MEAN_CALL_DURATION
 = (è
	`©of
(
¬gv
[4]) * 60 * 1000;

709 
MEAN_VOICE_CALL_DURATION
 = (è
	`©of
(
¬gv
[5]) * 60 * 1000;

712 
	`årštf
(
¡d”r
, "%là%là%là%là%lf", 
MEAN_CALL_FREQUENCY
, 
MEAN_CALL_DURATION
, 
”rÜR©e
, 
’dSimTime
,
MEAN_VOICE_CALL_DURATION
);

713 
	`´štf
("%là%là%là%là%lf", 
MEAN_CALL_FREQUENCY
, 
MEAN_CALL_DURATION
, 
”rÜR©e
, 
’dSimTime
,
MEAN_VOICE_CALL_DURATION
);

719 
FILE
 *
å
, *
fq
, *
ä
;

721 
å
 = 
	`fİ’
("outputFiles/results.txt","w+");

722 if(
å
 =ğ
NULL
)

724 
	`årštf
(
¡d”r
,"\nƒrror in opening file");

725 
	`ex™
(0);

728 
fq
 = 
	`fİ’
("outputFiles/simCalls.txt","w+");

729 if(
fq
 =ğ
NULL
)

731 
	`årštf
(
¡d”r
,"\nƒrror in opening file");

732 
	`ex™
(0);

735 
	`årštf
(
fq
,"if 3 col,hen globalCallsInProgress 0 simTime \n if 4 coloumnshen flowid globalCallsInProgress ? simTime\n\n");

737 
fv
 = 
	`fİ’
("outputFiles/callsDistribution.txt","w+");

738 if(
fv
 =ğ
NULL
)

740 
	`årštf
(
¡d”r
,"\nƒrror in opening file");

741 
	`ex™
(0);

744 
ä
 = 
	`fİ’
("outputFiles/scheduleInfo.txt","w+");

745 if(
ä
 =ğ
NULL
)

747 
	`årštf
(
¡d”r
,"\nƒrror in opening file");

748 
	`ex™
(0);

752 
fc
 = 
	`fİ’
("outputFiles/hopDistribution.txt","w+");

753 if(
fc
 =ğ
NULL
)

755 
	`årštf
(
¡d”r
,"\nƒrror in opening file");

756 
	`ex™
(0);

759 
â
 = 
	`fİ’
("outputFiles/nodeUpTime.txt","w+");

760 if(
â
 =ğ
NULL
)

762 
	`årštf
(
¡d”r
,"\nƒrror in opening file");

763 
	`ex™
(0);

767 
ev’t_queue_dump
 = 
	`fİ’
("outputFiles/event_queue_dump.txt","a+");

768 if(
ev’t_queue_dump
 =ğ
NULL
)

770 
	`årštf
(
¡d”r
,"\nƒrror in opening fileƒvent queue dump");

771 
	`ex™
(0);

774 
vm
 = 
	`fİ’
("outputFiles/voiceMsg.txt","w+");

775 if(
vm
 =ğ
NULL
)

777 
	`årštf
(
¡d”r
,"\nƒrror in opening file voiceMsg.txt");

778 
	`ex™
(0);

781 
dump
 = 
	`fİ’
("outputFiles/flowSequence.txt","w+");

782 if(
dump
 =ğ
NULL
)

784 
	`årštf
(
¡d”r
,"\nƒrror in opening file flowSequence.txt");

785 
	`ex™
(0);

788 
©
 = 
	`fİ’
("outputFiles/automatic_teardown.txt","w+");

789 if(
©
 =ğ
NULL
)

791 
	`årštf
(
¡d”r
,"\nƒrror in opening file‡utomatic_teardown.txt");

792 
	`ex™
(0);

795 
voiû_’d
 = 
	`fİ’
("outputFiles/Voice_End.txt","w+");

796 if(
voiû_’d
 =ğ
NULL
)

798 
	`årštf
(
¡d”r
,"\nƒrror in opening file Voice_End.txt");

799 
	`ex™
(0);

802 
voiû_¡¬t
 = 
	`fİ’
("outputFiles/Voice_Start.txt","w+");

803 if(
voiû_¡¬t
 =ğ
NULL
)

805 
	`årštf
(
¡d”r
,"\nƒrror in opening file Voice_Start.txt");

806 
	`ex™
(0);

809 
voiû_log
 = 
	`fİ’
("outputFiles/Voice_Log.txt","w+");

810 if(
voiû_log
 =ğ
NULL
)

812 
	`årštf
(
¡d”r
,"\nƒrror in opening file Voice_Log.txt");

817 
fx
 = 
	`fİ’
("outputFiles/flowStartTimes.txt","w+");

818 
fy
 = 
	`fİ’
("outputFiles/admitCalls.txt","w+");

819 
	`årštf
(
fy
,"outputFiles/noOfCallsAdmitted, flowId, globalCallsInProgress, simTime\n\n");

820 
fz
 = 
	`fİ’
("outputFiles/callAccepted.txt","w+");

822 
fk
 = 
	`fİ’
("outputFiles/channelInfo.txt","w+");

824 
	`fşo£
(
fx
);

825 
	`fşo£
(
fy
);

826 
	`fşo£
(
fk
);

827 
	`fşo£
(
fz
);

829 
mšu‹s
 = 0;

832 
	`š™ŸlizeNodes
();

833 
	`·r£CoÜdš©eFe
();

834 
	`exŒaùIÅut
("networkGraph.txt");

835 
	`š™ŸlizeSimuÏtiÚ
();

839 
i
=0;i<
numOfNodesInN‘wÜk
;i++)

841 
	`årštf
(
¡d”r
,"NeighbÜ oàNod%d: ",
i
);

842 
j
=0;j<
nodeID
[
i
].
numNeighbÜs
;j++)

844 
	`årštf
(
¡d”r
,"%d ",
nodeID
[
i
].
ÃighbÜLi¡
[
j
]);

846 
	`årštf
(
¡d”r
,"\n");

849 
	`årštf
(
¡d”r
,"\n Details of‚etwork graph: For‡ given‚ode, which‚odes‡re connected \n");

850 
i
=0;i<
numOfNodesInN‘wÜk
;i++)

852 
	`årštf
(
¡d”r
," Nod%d: ",
i
);

853 
j
=0;j<
numOfNodesInN‘wÜk
;j++)

855 if(
ÃtwÜkG¿ph
[
i
][
j
]!=0 &&‚‘wÜkG¿ph[i][j]!=
UNDEFINED
)

856 
	`årštf
(
¡d”r
,"%d ",
j
);

858 
	`årštf
(
¡d”r
,"\n");

860 
	`årštf
(
¡d”r
,"\n");

864 
	`ev’tQueueNÙEm±y
())

867 
ªEv’t
 = 
	`ÃxtEv’t
();

869 #ifdeà
DEBUG_ENABLE


887 if(
ªEv’t
->
time
 < 0 ||‡nEv’t->tim< 
simTime
)

889 
	`årštf
(
¡d”r
,"\n Santiy check failed,ƒventime‚egative or in…ast");

890 
	`årštf
(
¡d”r
,"\Àev’ˆtim%làsimTim%lf",
ªEv’t
->
time
, 
simTime
);

891 
	`ex™
(0);

894 if(
ªEv’t
->
ty³
 !ğ
BW_REQUEST_TIMEOUT
 &&‡nEv’t->ty³ !ğ
GENERATE_FLOW_REQUEST
 &&‡nEv’t->
node
 > 
numOfNodesInN‘wÜk
)

897 
	`de¡royEv’t
(
ªEv’t
);

902 
simTime
 = 
ªEv’t
->
time
;

905 if(
simTime
 > 
ex³ùedTime
)

907 
mšu‹s
++;

908 
ex³ùedTime
 +ğ(è
PRINT_UNIT
;

909 
	`årštf
(
¡d”r
,"\À>>> %d mšu‹ ov”",
mšu‹s
);

910 
	`´štf
("\À%d mšu‹ ov”",
mšu‹s
);

913 
	`upd©eLoÿlTimšgs
();

923 
	`´oûssEv’t
(
ªEv’t
);

924 
	`de¡royEv’t
(
ªEv’t
);

929 
cu¼_queue_ev’t
 = 
queueH—d
;

930 
ev’t_couÁ”
=0;

972 if(
simTime
 > 
’dSimTime
)

977 
	`fşo£
(
ev’t_queue_dump
);

979 
	`´štEv’tQueue
();

980 
	`’dLoggšgNodeSts
();

982 
	`årštf
(
¡d”r
,"\n Gracefully Exiting\n");

986 
i
=0; i<
MAX_FLOW_ID
; i++)

988 
couÁUniqueC®lsOrigš©ed
 +ğ
uniqueC®lsOrigš©ed
[
i
];

993 
æowDrİDueToE2EPack‘Los£s
 = 0;

994 
i
=0; i<
MAX_FLOW_ID
; i++)

996 
æowDrİDueToE2EPack‘Los£s
 +ğ
uniqueC®lsDrİ³d
[
i
];

999 
noOfUniqueFlowReque¡sReûived
 = 0;

1000 
i
=0;i<
noOfC®lsOrigš©ed
; i++)

1002 
noOfUniqueFlowReque¡sReûived
 +ğ
numFlowReque¡sR—ched
[
i
+1];

1005 
i
=0;i<
noOfC®lsOrigš©ed
; i++)

1007 
noOfC®lsAdm™‹d_Unique_C®c
 +ğ
noOfC®lsAdm™‹d_Unique
[
i
+1];

1018 
	`årštf
(
å
,"\ÀUniquæow„eque¡ »ûived‡ˆroÙ %d", 
noOfUniqueFlowReque¡sReûived
);

1022 
	`årštf
(
å
,"\ÀUniquÿÎ adm™‹d (ouˆoàæow„eque¡ »ûivedèby scheduË¸%d", 
noOfC®lsAdm™‹d_Unique_C®c
);

1023 
	`årštf
(
å
,"\ÀNØoàÿÎ »jeùed by scheduË¸%d", 
noOfUniqueFlowReque¡sReûived
 - 
noOfC®lsAdm™‹d_Unique_C®c
);

1026 
noOfSucûssC®ls
 = 0;

1027 
i
=0;i<
noOfC®lsOrigš©ed
; i++)

1029 if(
numSucûssC®ls
[
i
+1] == 0)

1033 
noOfSucûssC®ls
 +ğ
numSucûssC®ls
[
i
+1];

1035 
	`årštf
(
å
,"\ÀOuˆoàAdm™‹d c®ls,‚ØoàÿÎ sucûssfuÈ© cl›Á %d", 
noOfSucûssC®ls
);

1038 
noOfC®lsTimedOut
 = 0;

1039 
i
=0;i<
noOfC®lsOrigš©ed
; i++)

1041 if(
numTimedOutC®ls
[
i
+1] == 1)

1045 
noOfC®lsTimedOut
 +ğ
numTimedOutC®ls
[
i
+1];

1047 
	`³ndšgTasks
();

1049 
	`årštf
(
å
,"\ÀOuˆoàOrigš©ed c®ls,‚ØoàÿÎ unsucûssfuÈ© cl›Á: (Timed Outè%d should b(Origš©ed - Sucûssfulè%d", 
noOfC®lsTimedOut
, 
noOfUniqueFlowReque¡sReûived
 - 
noOfSucûssC®ls
);

1051 
	`årštf
(
å
,"\ÀNØoàÿÎ Drİ³d‡á”„oÙ dutØTimouˆÑhi i dutØcÚŒŞ ov”h—dè(Adm™‹d - Sucûssful): %d ",
noOfC®lsAdm™‹d_Unique_C®c
 - 
noOfSucûssC®ls
);

1052 
	`årštf
(
å
,"\ÀC®l Drİ³d dutØšsuffic›Á…ack‘ ©„eûiv” %d",
æowDrİDueToE2EPack‘Los£s
);

1058 
i
=0;i<
noOfC®lsOrigš©ed
; i++)

1060 if(
numFlowReque¡sR—ched
[
i
+1] == 0)

1066 
	`årštf
(
fv
,"Node Flow_req_recvd Flow_req_rej Flow_req_admt\n");

1068 
i
=0;i<
MAX_SIM_CALLS
;i++)

1070 
	`årštf
(
fv
,"\n%d \ˆ%d \ˆ%d \ˆ%d",
i
,
æowReque¡sReûived
[i], 
æowReque¡sRejeùed
[i], 
æowReque¡sAdm™‹d
[i]);

1074 
	`årštf
(
fc
,"Hİ C®l w™h hİs",
i
,
hİDi¡ributiÚ
[i]);

1075 
i
=0;i<
MAX_NO_HOPS
;i++)

1077 
	`årštf
(
fc
,"\n%d \ˆ%d",
i
,
hİDi¡ributiÚ
[i]);

1080 
	`årštf
(
fc
, "\n\nHops Voice Calls with hops\n\n");

1081 
i
=0;i<(
MAX_NO_HOPS
+10);i++)

1083 
	`årštf
(
fc
,"\n%d \ˆ%d",
i
,
voiûHİDi¡ributiÚ
[i]);

1086 
i
=0;i<
numOfNodesInN‘wÜk
;i++)

1088 
	`årštf
(
â
,"\À%d \ˆ%lf", 
i
, (è
nodeSt
[i].
upTime
 + ()
’dSimTime
 * ()((
NO_OF_CONTROL_SLOTS
 * 
CONTROL_SLOT_DURATION
 + 
NO_OF_CONTENTION_SLOTS
 * 
CONTENTION_SLOT_DURATION
è/ 
FRAME_DURATION
));

1091 
	`fşo£
(
å
);

1092 
	`fşo£
(
fq
);

1093 
	`fşo£
(
ä
);

1094 
	`fşo£
(
fv
);

1095 
	`fşo£
(
fc
);

1096 
	`fşo£
(
â
);

1109 
i
=0;i<
numOfFlowsInProg»ss
;i++)

1110 
	`årštf
(
¡d”r
,"FLow id %d sourû %d de¡š©iÚ %d\n",
æowSt
[
i
].
æowId
,æowSt[i].
sourû
,æowSt[i].
de¡š©iÚ
);

1114 
i
=0; i<
numVoiûMsg
; i++)

1116 
	`årštf
(
voiû_log
,"æowId %d sourû %d de¡š©iÚ %d s¹_tim%là’d_tim%làhİ %d„evoked %d f¿gm’‹d %d\n",
voiûFlowSt
[
i
].
voiûFlowId
, voiûFlowSt[i].
sourû
, voiûFlowSt[i].
de¡š©iÚ
, voiûFlowSt[i].
¡¬t_time
, voiûFlowSt[i].
’d_time
, voiûFlowSt[i].
hİs
, voiûFlowSt[i].
»voked
, voiûFlowSt[i].
äagm’‹d
+1);

1129 
	`årštf
(
¡d”r
,"\ÀcouÁNodesFlow %d\n", 
couÁNodesFlow
);

1131 
	`årštf
(
¡d”r
,"\ÀFlowReque¡Reû±iÚ %d\n", 
æowReque¡Reû±iÚCouÁ”
);

1136 
	`årštf
(
¡d”r
,"\n closing down \n");

1138 
	`fşo£
(
dump
);

1139 
	`fşo£
(
vm
);

1140 
	`fşo£
(
voiû_’d
);

1141 
	`fşo£
(
voiû_¡¬t
);

1142  
SUCCESS
;

1144 
	}
}

	@/usr/include/malloc.h

20 #iâdeà
_MALLOC_H


21 
	#_MALLOC_H
 1

	)

23 
	~<ã©u»s.h
>

24 
	~<¡ddef.h
>

25 
	~<¡dio.h
>

26 
	#__m®loc_±r_t
 *

	)

29 
	#__m®loc_size_t
 
size_t


	)

30 
	#__m®loc_±rdiff_t
 
±rdiff_t


	)

32 #ifdeà
__GNUC__


34 
	#__MALLOC_P
(
¬gs
è¬g 
__THROW


	)

37 
	#__MALLOC_PMT
(
¬gs
è
	)
args

39 #ifdeà
_LIBC


40 
	#__MALLOC_HOOK_VOLATILE


	)

41 
	#__MALLOC_DEPRECATED


	)

43 
	#__MALLOC_HOOK_VOLATILE
 vŞ©e

	)

44 
	#__MALLOC_DEPRECATED
 
__©Œibu‹_d•»ÿ‹d__


	)

49 
	#__MALLOC_P
(
¬gs
è
	)
args

50 
	#__MALLOC_PMT
(
¬gs
è
	)
args

51 
	#__MALLOC_HOOK_VOLATILE


	)

52 
	#__MALLOC_DEPRECATED
 
__©Œibu‹_d•»ÿ‹d__


	)

57 
__BEGIN_DECLS


60 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

63 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

64 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

71 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

72 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

75 
	$ä“
 (*
__±r
è
__THROW
;

78 
	$cä“
 (*
__±r
è
__THROW
;

81 *
	$mem®ign
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

82 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

85 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

89 * 
	$pv®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

93 *(*
__mÜecÜe
è(
±rdiff_t
 
__size
);

96 *
	$__deçuÉ_mÜecÜe
 (
±rdiff_t
 
__size
)

97 
__THROW
 
__©Œibu‹_m®loc__
;

101 
	sm®lšfo


103 
¬’a
;

104 
Üdblks
;

105 
smblks
;

106 
hblks
;

107 
hblkhd
;

108 
usmblks
;

109 
fsmblks
;

110 
uÜdblks
;

111 
fÜdblks
;

112 
k“pco¡
;

116 
m®lšfo
 
	$m®lšfo
 (è
__THROW
;

119 #iâdeà
M_MXFAST


120 
	#M_MXFAST
 1

	)

122 #iâdeà
M_NLBLKS


123 
	#M_NLBLKS
 2

	)

125 #iâdeà
M_GRAIN


126 
	#M_GRAIN
 3

	)

128 #iâdeà
M_KEEP


129 
	#M_KEEP
 4

	)

133 
	#M_TRIM_THRESHOLD
 -1

	)

134 
	#M_TOP_PAD
 -2

	)

135 
	#M_MMAP_THRESHOLD
 -3

	)

136 
	#M_MMAP_MAX
 -4

	)

137 
	#M_CHECK_ACTION
 -5

	)

138 
	#M_PERTURB
 -6

	)

139 
	#M_ARENA_TEST
 -7

	)

140 
	#M_ARENA_MAX
 -8

	)

143 
	$m®lİt
 (
__·¿m
, 
__v®
è
__THROW
;

147 
	$m®loc_Œim
 (
size_t
 
__·d
è
__THROW
;

151 
size_t
 
	$m®loc_u§bË_size
 (*
__±r
è
__THROW
;

154 
	$m®loc_¡©s
 (è
__THROW
;

157 
	$m®loc_šfo
 (
__İtiÚs
, 
FILE
 *
__å
è
__THROW
;

160 *
	$m®loc_g‘_¡©e
 (è
__THROW
;

164 
	$m®loc_£t_¡©e
 (*
__±r
è
__THROW
;

169 (*
__MALLOC_HOOK_VOLATILE
 
__m®loc_š™Ÿlize_hook
) ()

170 
__MALLOC_DEPRECATED
;

172 (*
__MALLOC_HOOK_VOLATILE
 
__ä“_hook
è(*
__±r
,

173 cÚ¡ 
__m®loc_±r_t
)

174 
__MALLOC_DEPRECATED
;

175 *(*
__MALLOC_HOOK_VOLATILE
 
__m®loc_hook
è(
size_t
 
__size
,

176 cÚ¡ 
__m®loc_±r_t
)

177 
__MALLOC_DEPRECATED
;

178 *(*
__MALLOC_HOOK_VOLATILE
 
__»®loc_hook
è(*
__±r
,

179 
size_t
 
__size
,

180 cÚ¡ 
__m®loc_±r_t
)

181 
__MALLOC_DEPRECATED
;

182 *(*
__MALLOC_HOOK_VOLATILE
 
__mem®ign_hook
è(
size_t
 
__®ignm’t
,

183 
size_t
 
__size
,

184 cÚ¡ 
__m®loc_±r_t
)

185 
__MALLOC_DEPRECATED
;

186 (*
__MALLOC_HOOK_VOLATILE
 
__aá”_mÜecÜe_hook
) ();

189 
	$__m®loc_check_š™
 (è
__THROW
 
__MALLOC_DEPRECATED
;

192 
__END_DECLS


	@/usr/include/math.h

24 #iâdef 
_MATH_H


25 
	#_MATH_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 
	~<b™s/huge_v®.h
>

34 #ifdeà
__USE_ISOC99


35 
	~<b™s/huge_v®f.h
>

36 
	~<b™s/huge_v®l.h
>

39 
	~<b™s/šf.h
>

42 
	~<b™s/Çn.h
>

46 
	~<b™s/m©hdef.h
>

53 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

54 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

55 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

56 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

57 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

58 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

59 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

60 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

61 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

62 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

63 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

64 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

66 
	#_MdoubË_
 

	)

67 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

68 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

69 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

70 
	~<b™s/m©hÿÎs.h
>

71 #undeà
_MdoubË_


72 #undeà
_MdoubË_BEGIN_NAMESPACE


73 #undeà
_MdoubË_END_NAMESPACE


74 #undeà
__MATH_PRECNAME


76 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


82 #iâdeà
_Mæßt_


83 
	#_Mæßt_
 

	)

85 
	#_MdoubË_
 
_Mæßt_


	)

86 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

87 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

88 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

89 
	~<b™s/m©hÿÎs.h
>

90 #undeà
_MdoubË_


91 #undeà
_MdoubË_BEGIN_NAMESPACE


92 #undeà
_MdoubË_END_NAMESPACE


93 #undeà
__MATH_PRECNAME


95 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

96 || 
defšed
 
__LDBL_COMPAT


97 #ifdeà
__LDBL_COMPAT


99 #ifdeà
__USE_ISOC99


100 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

101 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

102 #ifdeà
__REDIRECT_NTH


103 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

104 
__Ædbl_Ãx‰ow¬df
)

105 
	`__©Œibu‹__
 ((
__cÚ¡__
));

106 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

107 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

108 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

109 (
__x
, 
__y
),

110 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

115 #ià
defšed
 
__LDBL_COMPAT
 || defšed 
__NO_LONG_DOUBLE_MATH


117 #undeà
__MATHDECL_1


118 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

119 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

120 
¬gs
, 
®Ÿs
)

	)

121 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

122 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

128 #iâdeà
_MlÚg_doubË_


129 
	#_MlÚg_doubË_
 

	)

131 
	#_MdoubË_
 
_MlÚg_doubË_


	)

132 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

133 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

134 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

135 
	#__MATH_DECLARE_LDOUBLE
 1

	)

136 
	~<b™s/m©hÿÎs.h
>

137 #undeà
_MdoubË_


138 #undeà
_MdoubË_BEGIN_NAMESPACE


139 #undeà
_MdoubË_END_NAMESPACE


140 #undeà
__MATH_PRECNAME


145 #undeà
__MATHDECL_1


146 #undeà
__MATHDECL


147 #undeà
__MATHCALL


150 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


152 
signgam
;

157 #ifdeà
__USE_ISOC99


195 
FP_NAN
 =

196 
	#FP_NAN
 0

	)

197 
FP_NAN
,

198 
FP_INFINITE
 =

199 
	#FP_INFINITE
 1

	)

200 
FP_INFINITE
,

201 
FP_ZERO
 =

202 
	#FP_ZERO
 2

	)

203 
FP_ZERO
,

204 
FP_SUBNORMAL
 =

205 
	#FP_SUBNORMAL
 3

	)

206 
FP_SUBNORMAL
,

207 
FP_NORMAL
 =

208 
	#FP_NORMAL
 4

	)

209 
FP_NORMAL


213 #ifdeà
__NO_LONG_DOUBLE_MATH


214 
	#åşassify
(
x
) \

215 ( (
x
è=ğ (è? 
	`__åşassifyf
 (xè: 
	`__åşassify
 (x))

	)

217 
	#åşassify
(
x
) \

218 ( (
x
) ==  () \

219 ? 
	`__åşassifyf
 (
x
) \

220 :  (
x
) ==  () \

221 ? 
	`__åşassify
 (
x
è: 
	`__åşassifyl
 (x))

	)

225 #ifdeà
__NO_LONG_DOUBLE_MATH


226 
	#signb™
(
x
) \

227 ( (
x
è=ğ (è? 
	`__signb™f
 (xè: 
	`__signb™
 (x))

	)

229 
	#signb™
(
x
) \

230 ( (
x
) ==  () \

231 ? 
	`__signb™f
 (
x
) \

232 :  (
x
) ==  () \

233 ? 
	`__signb™
 (
x
è: 
	`__signb™l
 (x))

	)

237 #ifdeà
__NO_LONG_DOUBLE_MATH


238 
	#isfš™e
(
x
) \

239 ( (
x
è=ğ (è? 
	`__fš™ef
 (xè: 
	`__fš™e
 (x))

	)

241 
	#isfš™e
(
x
) \

242 ( (
x
) ==  () \

243 ? 
	`__fš™ef
 (
x
) \

244 :  (
x
) ==  () \

245 ? 
	`__fš™e
 (
x
è: 
	`__fš™–
 (x))

	)

249 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

253 #ifdeà
__NO_LONG_DOUBLE_MATH


254 
	#i¢ª
(
x
) \

255 ( (
x
è=ğ (è? 
	`__i¢ªf
 (xè: 
	`__i¢ª
 (x))

	)

257 
	#i¢ª
(
x
) \

258 ( (
x
) ==  () \

259 ? 
	`__i¢ªf
 (
x
) \

260 :  (
x
) ==  () \

261 ? 
	`__i¢ª
 (
x
è: 
	`__i¢ªl
 (x))

	)

265 #ifdeà
__NO_LONG_DOUBLE_MATH


266 
	#isšf
(
x
) \

267 ( (
x
è=ğ (è? 
	`__isšff
 (xè: 
	`__isšf
 (x))

	)

269 
	#isšf
(
x
) \

270 ( (
x
) ==  () \

271 ? 
	`__isšff
 (
x
) \

272 :  (
x
) ==  () \

273 ? 
	`__isšf
 (
x
è: 
	`__isšæ
 (x))

	)

277 
	#MATH_ERRNO
 1

	)

278 
	#MATH_ERREXCEPT
 2

	)

283 #iâdeà
__FAST_MATH__


284 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

289 #ifdef 
__USE_MISC


293 
_IEEE_
 = -1,

294 
_SVID_
,

295 
_XOPEN_
,

296 
_POSIX_
,

297 
_ISOC_


298 } 
	t_LIB_VERSION_TYPE
;

303 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

307 #ifdeà
__USE_SVID


313 #ifdeà
__ılu¥lus


314 
__exû±iÚ


316 
exû±iÚ


319 
ty³
;

320 *
Çme
;

321 
¬g1
;

322 
¬g2
;

323 
»tv®
;

324 
	}
};

326 #ifdeà
__ılu¥lus


327 
	$m©h”r
 (
__exû±iÚ
 *
__exc
è
	`throw
 ();

329 
	`m©h”r
 (
exû±iÚ
 *
__exc
);

332 
	#X_TLOSS
 1.41484755040568800000e+16

	)

335 
	#DOMAIN
 1

	)

336 
	#SING
 2

	)

337 
	#OVERFLOW
 3

	)

338 
	#UNDERFLOW
 4

	)

339 
	#TLOSS
 5

	)

340 
	#PLOSS
 6

	)

343 
	#HUGE
 3.40282347e+38F

	)

347 #ifdeà
__USE_XOPEN


349 
	#MAXFLOAT
 3.40282347e+38F

	)

356 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


357 
	#M_E
 2.7182818284590452354

	)

358 
	#M_LOG2E
 1.4426950408889634074

	)

359 
	#M_LOG10E
 0.43429448190325182765

	)

360 
	#M_LN2
 0.69314718055994530942

	)

361 
	#M_LN10
 2.30258509299404568402

	)

362 
	#M_PI
 3.14159265358979323846

	)

363 
	#M_PI_2
 1.57079632679489661923

	)

364 
	#M_PI_4
 0.78539816339744830962

	)

365 
	#M_1_PI
 0.31830988618379067154

	)

366 
	#M_2_PI
 0.63661977236758134308

	)

367 
	#M_2_SQRTPI
 1.12837916709551257390

	)

368 
	#M_SQRT2
 1.41421356237309504880

	)

369 
	#M_SQRT1_2
 0.70710678118654752440

	)

375 #ifdeà
__USE_GNU


376 
	#M_El
 2.718281828459045235360287471352662498L

	)

377 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

378 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

379 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

380 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

381 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

382 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

383 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

384 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

385 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

386 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

387 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

388 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

395 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


396 
	#__NO_MATH_INLINES
 1

	)

399 #ià
defšed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

406 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

407 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

408 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

409 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

410 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

411 
	#isunÜd”ed
(
u
, 
v
è
	`__butš_isunÜd”ed
(u, v)

	)

415 #ifdeà
__USE_EXTERN_INLINES


416 
	~<b™s/m©hšlše.h
>

421 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

422 
	~<b™s/m©h-fš™e.h
>

425 #ifdeà
__USE_ISOC99


429 #iâdeà
isg»©”


430 
	#isg»©”
(
x
, 
y
) \

431 (
__ex‹nsiÚ__
 \

432 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

433 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; 
	}
}))

	)

437 #iâdeà
isg»©”equ®


438 
	#isg»©”equ®
(
x
, 
y
) \

439 (
__ex‹nsiÚ__
 \

440 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

441 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

445 #iâdeà
i¦ess


446 
	#i¦ess
(
x
, 
y
) \

447 (
__ex‹nsiÚ__
 \

448 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

449 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

453 #iâdeà
i¦es£qu®


454 
	#i¦es£qu®
(
x
, 
y
) \

455 (
__ex‹nsiÚ__
 \

456 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

457 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

461 #iâdeà
i¦essg»©”


462 
	#i¦essg»©”
(
x
, 
y
) \

463 (
__ex‹nsiÚ__
 \

464 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

465 !
	`isunÜd”ed
 (
__x
, 
__y
è&& (__x < __y || __y < __x); }))

	)

469 #iâdeà
isunÜd”ed


470 
	#isunÜd”ed
(
u
, 
v
) \

471 (
__ex‹nsiÚ__
 \

472 ({ 
	`__ty³of__
(
u
è
__u
 = (u); __ty³of__(
v
è
__v
 = (v); \

473 
	`åşassify
 (
__u
è=ğ
FP_NAN
 || fpşassify (
__v
è=ğFP_NAN; }))

	)

478 
	g__END_DECLS


	@/usr/include/netinet/in.h

19 #iâdef 
_NETINET_IN_H


20 
	#_NETINET_IN_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	~<¡dšt.h
>

24 
	~<sys/sock‘.h
>

25 
	~<b™s/ty³s.h
>

28 
__BEGIN_DECLS


33 
	mIPPROTO_IP
 = 0,

34 
	#IPPROTO_IP
 
IPPROTO_IP


	)

35 
	mIPPROTO_HOPOPTS
 = 0,

36 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

37 
	mIPPROTO_ICMP
 = 1,

38 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

39 
	mIPPROTO_IGMP
 = 2,

40 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

41 
	mIPPROTO_IPIP
 = 4,

42 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

43 
	mIPPROTO_TCP
 = 6,

44 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

45 
	mIPPROTO_EGP
 = 8,

46 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

47 
	mIPPROTO_PUP
 = 12,

48 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

49 
	mIPPROTO_UDP
 = 17,

50 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

51 
	mIPPROTO_IDP
 = 22,

52 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

53 
	mIPPROTO_TP
 = 29,

54 
	#IPPROTO_TP
 
IPPROTO_TP


	)

55 
	mIPPROTO_DCCP
 = 33,

56 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

57 
	mIPPROTO_IPV6
 = 41,

58 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

59 
	mIPPROTO_ROUTING
 = 43,

60 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

61 
	mIPPROTO_FRAGMENT
 = 44,

62 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

63 
	mIPPROTO_RSVP
 = 46,

64 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

65 
	mIPPROTO_GRE
 = 47,

66 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

67 
	mIPPROTO_ESP
 = 50,

68 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

69 
	mIPPROTO_AH
 = 51,

70 
	#IPPROTO_AH
 
IPPROTO_AH


	)

71 
	mIPPROTO_ICMPV6
 = 58,

72 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

73 
	mIPPROTO_NONE
 = 59,

74 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

75 
	mIPPROTO_DSTOPTS
 = 60,

76 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

77 
	mIPPROTO_MTP
 = 92,

78 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

79 
	mIPPROTO_ENCAP
 = 98,

80 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

81 
	mIPPROTO_PIM
 = 103,

82 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

83 
	mIPPROTO_COMP
 = 108,

84 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

85 
	mIPPROTO_SCTP
 = 132,

86 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

87 
	mIPPROTO_UDPLITE
 = 136,

88 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

89 
	mIPPROTO_RAW
 = 255,

90 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

91 
	mIPPROTO_MAX


96 
ušt16_t
 
	tš_pÜt_t
;

101 
	mIPPORT_ECHO
 = 7,

102 
	mIPPORT_DISCARD
 = 9,

103 
	mIPPORT_SYSTAT
 = 11,

104 
	mIPPORT_DAYTIME
 = 13,

105 
	mIPPORT_NETSTAT
 = 15,

106 
	mIPPORT_FTP
 = 21,

107 
	mIPPORT_TELNET
 = 23,

108 
	mIPPORT_SMTP
 = 25,

109 
	mIPPORT_TIMESERVER
 = 37,

110 
	mIPPORT_NAMESERVER
 = 42,

111 
	mIPPORT_WHOIS
 = 43,

112 
	mIPPORT_MTP
 = 57,

114 
	mIPPORT_TFTP
 = 69,

115 
	mIPPORT_RJE
 = 77,

116 
	mIPPORT_FINGER
 = 79,

117 
	mIPPORT_TTYLINK
 = 87,

118 
	mIPPORT_SUPDUP
 = 95,

121 
	mIPPORT_EXECSERVER
 = 512,

122 
	mIPPORT_LOGINSERVER
 = 513,

123 
	mIPPORT_CMDSERVER
 = 514,

124 
	mIPPORT_EFSSERVER
 = 520,

127 
	mIPPORT_BIFFUDP
 = 512,

128 
	mIPPORT_WHOSERVER
 = 513,

129 
	mIPPORT_ROUTESERVER
 = 520,

132 
	mIPPORT_RESERVED
 = 1024,

135 
	mIPPORT_USERRESERVED
 = 5000

140 
ušt32_t
 
	tš_addr_t
;

141 
	sš_addr


143 
š_addr_t
 
	ms_addr
;

152 
	#IN_CLASSA
(
a
è((((
š_addr_t
)×)è& 0x80000000è=ğ0)

	)

153 
	#IN_CLASSA_NET
 0xff000000

	)

154 
	#IN_CLASSA_NSHIFT
 24

	)

155 
	#IN_CLASSA_HOST
 (0xfffffffà& ~
IN_CLASSA_NET
)

	)

156 
	#IN_CLASSA_MAX
 128

	)

158 
	#IN_CLASSB
(
a
è((((
š_addr_t
)×)è& 0xc0000000è=ğ0x80000000)

	)

159 
	#IN_CLASSB_NET
 0xffff0000

	)

160 
	#IN_CLASSB_NSHIFT
 16

	)

161 
	#IN_CLASSB_HOST
 (0xfffffffà& ~
IN_CLASSB_NET
)

	)

162 
	#IN_CLASSB_MAX
 65536

	)

164 
	#IN_CLASSC
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xc0000000)

	)

165 
	#IN_CLASSC_NET
 0xffffff00

	)

166 
	#IN_CLASSC_NSHIFT
 8

	)

167 
	#IN_CLASSC_HOST
 (0xfffffffà& ~
IN_CLASSC_NET
)

	)

169 
	#IN_CLASSD
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xe0000000)

	)

170 
	#IN_MULTICAST
(
a
è
	`IN_CLASSD
×)

	)

172 
	#IN_EXPERIMENTAL
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xe0000000)

	)

173 
	#IN_BADCLASS
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xf0000000)

	)

176 
	#INADDR_ANY
 ((
š_addr_t
è0x00000000)

	)

178 
	#INADDR_BROADCAST
 ((
š_addr_t
è0xffffffff)

	)

180 
	#INADDR_NONE
 ((
š_addr_t
è0xffffffff)

	)

183 
	#IN_LOOPBACKNET
 127

	)

185 #iâdeà
INADDR_LOOPBACK


186 
	#INADDR_LOOPBACK
 ((
š_addr_t
è0x7f000001è

	)

190 
	#INADDR_UNSPEC_GROUP
 ((
š_addr_t
è0xe0000000è

	)

191 
	#INADDR_ALLHOSTS_GROUP
 ((
š_addr_t
è0xe0000001è

	)

192 
	#INADDR_ALLRTRS_GROUP
 ((
š_addr_t
è0xe0000002è

	)

193 
	#INADDR_MAX_LOCAL_GROUP
 ((
š_addr_t
è0xe00000ffè

	)

197 
	sš6_addr


201 
ušt8_t
 
	m__u6_addr8
[16];

202 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


203 
ušt16_t
 
	m__u6_addr16
[8];

204 
ušt32_t
 
	m__u6_addr32
[4];

206 } 
	m__š6_u
;

207 
	#s6_addr
 
__š6_u
.
__u6_addr8


	)

208 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


209 
	#s6_addr16
 
__š6_u
.
__u6_addr16


	)

210 
	#s6_addr32
 
__š6_u
.
__u6_addr32


	)

214 cÚ¡ 
š6_addr
 
š6addr_ªy
;

215 cÚ¡ 
š6_addr
 
š6addr_loİback
;

216 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

217 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

219 
	#INET_ADDRSTRLEN
 16

	)

220 
	#INET6_ADDRSTRLEN
 46

	)

224 
	ssockaddr_š


226 
__SOCKADDR_COMMON
 (
sš_
);

227 
š_pÜt_t
 
	msš_pÜt
;

228 
š_addr
 
	msš_addr
;

231 
	msš_z”o
[ (
sockaddr
) -

232 
__SOCKADDR_COMMON_SIZE
 -

233  (
š_pÜt_t
) -

234  (
š_addr
)];

238 
	ssockaddr_š6


240 
__SOCKADDR_COMMON
 (
sš6_
);

241 
š_pÜt_t
 
	msš6_pÜt
;

242 
ušt32_t
 
	msš6_æowšfo
;

243 
š6_addr
 
	msš6_addr
;

244 
ušt32_t
 
	msš6_scİe_id
;

248 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


250 
	s_m»q


253 
š_addr
 
	mimr_muÉŸddr
;

256 
š_addr
 
	mimr_š‹rçû
;

259 
	s_m»q_sourû


262 
š_addr
 
	mimr_muÉŸddr
;

265 
š_addr
 
	mimr_š‹rçû
;

268 
š_addr
 
	mimr_sourûaddr
;

274 
	sv6_m»q


277 
š6_addr
 
	mv6mr_muÉŸddr
;

280 
	mv6mr_š‹rçû
;

284 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


286 
	sgroup_»q


289 
ušt32_t
 
	mgr_š‹rçû
;

292 
sockaddr_¡Üage
 
	mgr_group
;

295 
	sgroup_sourû_»q


298 
ušt32_t
 
	mg¤_š‹rçû
;

301 
sockaddr_¡Üage
 
	mg¤_group
;

304 
sockaddr_¡Üage
 
	mg¤_sourû
;

309 
	s_msf‹r


312 
š_addr
 
	mimsf_muÉŸddr
;

315 
š_addr
 
	mimsf_š‹rçû
;

318 
ušt32_t
 
	mimsf_fmode
;

321 
ušt32_t
 
	mimsf_num¤c
;

323 
š_addr
 
	mimsf_¦i¡
[1];

326 
	#IP_MSFILTER_SIZE
(
num¤c
è( (
_msf‹r
) \

327 -  (
š_addr
) \

328 + (
num¤c
è*  (
š_addr
))

	)

330 
	sgroup_f‹r


333 
ušt32_t
 
	mgf_š‹rçû
;

336 
sockaddr_¡Üage
 
	mgf_group
;

339 
ušt32_t
 
	mgf_fmode
;

342 
ušt32_t
 
	mgf_num¤c
;

344 
sockaddr_¡Üage
 
	mgf_¦i¡
[1];

347 
	#GROUP_FILTER_SIZE
(
num¤c
è( (
group_f‹r
) \

348 -  (
sockaddr_¡Üage
) \

349 + ((
num¤c
) \

350 *  (
sockaddr_¡Üage
)))

	)

355 
	~<b™s/š.h
>

364 
ušt32_t
 
	$Áohl
 (
ušt32_t
 
__ÃÚg
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

365 
ušt16_t
 
	$Áohs
 (
ušt16_t
 
__ÃtshÜt
)

366 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

367 
ušt32_t
 
	$htÚl
 (
ušt32_t
 
__ho¡lÚg
)

368 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

369 
ušt16_t
 
	$htÚs
 (
ušt16_t
 
__ho¡shÜt
)

370 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

372 
	~<’dŸn.h
>

375 
	~<b™s/by‹sw­.h
>

377 #ifdeà
__OPTIMIZE__


381 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


384 
	#Áohl
(
x
è(x)

	)

385 
	#Áohs
(
x
è(x)

	)

386 
	#htÚl
(
x
è(x)

	)

387 
	#htÚs
(
x
è(x)

	)

389 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


390 
	#Áohl
(
x
è
	`__bsw­_32
 (x)

	)

391 
	#Áohs
(
x
è
	`__bsw­_16
 (x)

	)

392 
	#htÚl
(
x
è
	`__bsw­_32
 (x)

	)

393 
	#htÚs
(
x
è
	`__bsw­_16
 (x)

	)

398 #ifdeà
__GNUC__


399 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

400 (
__ex‹nsiÚ__
 \

401 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

402 
__a
->
s6_addr32
[0] == 0 \

403 && 
__a
->
s6_addr32
[1] == 0 \

404 && 
__a
->
s6_addr32
[2] == 0 \

405 && 
__a
->
s6_addr32
[3] =ğ0; 
	}
}))

	)

407 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

408 (
__ex‹nsiÚ__
 \

409 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

410 
__a
->
s6_addr32
[0] == 0 \

411 && 
__a
->
s6_addr32
[1] == 0 \

412 && 
__a
->
s6_addr32
[2] == 0 \

413 && 
__a
->
s6_addr32
[3] =ğ
	`htÚl
 (1); }))

	)

415 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

416 (
__ex‹nsiÚ__
 \

417 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

418 (
__a
->
s6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xã800000); }))

	)

420 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

421 (
__ex‹nsiÚ__
 \

422 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

423 (
__a
->
s6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xãc00000); }))

	)

425 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

426 (
__ex‹nsiÚ__
 \

427 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

428 
__a
->
s6_addr32
[0] == 0 \

429 && 
__a
->
s6_addr32
[1] == 0 \

430 && 
__a
->
s6_addr32
[2] =ğ
	`htÚl
 (0xffff); }))

	)

432 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

433 (
__ex‹nsiÚ__
 \

434 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

435 
__a
->
s6_addr32
[0] == 0 \

436 && 
__a
->
s6_addr32
[1] == 0 \

437 && 
__a
->
s6_addr32
[2] == 0 \

438 && 
	`Áohl
 (
__a
->
s6_addr32
[3]è> 1; }))

	)

440 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

441 (
__ex‹nsiÚ__
 \

442 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

443 cÚ¡ 
š6_addr
 *
__b
 = (cÚ¡ š6_add¸*è(
b
); \

444 
__a
->
s6_addr32
[0] =ğ
__b
->s6_addr32[0] \

445 && 
__a
->
s6_addr32
[1] =ğ
__b
->s6_addr32[1] \

446 && 
__a
->
s6_addr32
[2] =ğ
__b
->s6_addr32[2] \

447 && 
__a
->
s6_addr32
[3] =ğ
__b
->s6_addr32[3]; }))

	)

449 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

450 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

451 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

452 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

453 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ0)

	)

455 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

456 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

457 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

458 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

459 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ
	`htÚl
 (1))

	)

461 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

462 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

463 =ğ
	`htÚl
 (0xã800000))

	)

465 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

466 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

467 =ğ
	`htÚl
 (0xãc00000))

	)

469 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

470 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

471 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

472 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ
	`htÚl
 (0xffff)))

	)

474 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

475 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

476 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

477 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0) \

478 && (
	`Áohl
 (((cÚ¡ 
ušt32_t
 *è(
a
))[3]è> 1))

	)

480 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

481 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[0]) \

482 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[1]) \

483 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[2]) \

484 && (((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[3]))

	)

487 
	#IN6_IS_ADDR_MULTICAST
(
a
è(((cÚ¡ 
ušt8_t
 *è×))[0] =ğ0xff)

	)

489 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


491 
	$bšd»svpÜt
 (
__sockfd
, 
sockaddr_š
 *
__sock_š
è
__THROW
;

494 
	$bšd»svpÜt6
 (
__sockfd
, 
sockaddr_š6
 *
__sock_š
)

495 
__THROW
;

499 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

500 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

501 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x1))

	)

503 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

504 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

505 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x2))

	)

507 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

508 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

509 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x5))

	)

511 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

512 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

513 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x8))

	)

515 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

516 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

517 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0xe))

	)

520 #ifdeà
__USE_GNU


521 
cmsghdr
;

524 
	sš6_pktšfo


526 
š6_addr
 
i6_addr
;

527 
i6_ifšdex
;

531 
	s6_mtušfo


533 
sockaddr_š6
 
6m_addr
;

534 
ušt32_t
 
6m_mtu
;

539 
	$š‘6_İtiÚ_¥aû
 (
__nby‹s
)

540 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

541 
	$š‘6_İtiÚ_š™
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

542 
__ty³
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

543 
	$š‘6_İtiÚ_­³nd
 (
cmsghdr
 *
__cmsg
,

544 cÚ¡ 
ušt8_t
 *
__ty³p
, 
__muÉx
,

545 
__¶usy
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

546 
ušt8_t
 *
	$š‘6_İtiÚ_®loc
 (
cmsghdr
 *
__cmsg
, 
__d©®’
,

547 
__muÉx
, 
__¶usy
)

548 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

549 
	$š‘6_İtiÚ_Ãxt
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

550 
ušt8_t
 **
__Œp
)

551 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

552 
	$š‘6_İtiÚ_fšd
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

553 
ušt8_t
 **
__Œp
, 
__ty³
)

554 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

558 
	$š‘6_İt_š™
 (*
__extbuf
, 
sockËn_t
 
__ex’
è
__THROW
;

559 
	$š‘6_İt_­³nd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

560 
ušt8_t
 
__ty³
, 
sockËn_t
 
__Ën
, ušt8_ˆ
__®ign
,

561 **
__d©abuå
è
__THROW
;

562 
	$š‘6_İt_fšish
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
)

563 
__THROW
;

564 
	$š‘6_İt_£t_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

565 
sockËn_t
 
__v®Ën
è
__THROW
;

566 
	$š‘6_İt_Ãxt
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

567 
ušt8_t
 *
__ty³p
, 
sockËn_t
 *
__ËÅ
,

568 **
__d©abuå
è
__THROW
;

569 
	$š‘6_İt_fšd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

570 
ušt8_t
 
__ty³
, 
sockËn_t
 *
__ËÅ
,

571 **
__d©abuå
è
__THROW
;

572 
	$š‘6_İt_g‘_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

573 
sockËn_t
 
__v®Ën
è
__THROW
;

577 
sockËn_t
 
	$š‘6_¹h_¥aû
 (
__ty³
, 
__£gm’ts
è
__THROW
;

578 *
	$š‘6_¹h_š™
 (*
__bp
, 
sockËn_t
 
__bp_Ën
, 
__ty³
,

579 
__£gm’ts
è
__THROW
;

580 
	$š‘6_¹h_add
 (*
__bp
, cÚ¡ 
š6_addr
 *
__addr
è
__THROW
;

581 
	$š‘6_¹h_»v”£
 (cÚ¡ *
__š
, *
__out
è
__THROW
;

582 
	$š‘6_¹h_£gm’ts
 (cÚ¡ *
__bp
è
__THROW
;

583 
š6_addr
 *
	$š‘6_¹h_g‘addr
 (cÚ¡ *
__bp
, 
__šdex
)

584 
__THROW
;

590 
	$g‘v4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

591 
š_addr
 
__group
, 
ušt32_t
 *
__fmode
,

592 
ušt32_t
 *
__num¤c
, 
š_addr
 *
__¦i¡
)

593 
__THROW
;

596 
	$£tv4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

597 
š_addr
 
__group
, 
ušt32_t
 
__fmode
,

598 
ušt32_t
 
__num¤c
,

599 cÚ¡ 
š_addr
 *
__¦i¡
)

600 
__THROW
;

604 
	$g‘sourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

605 cÚ¡ 
sockaddr
 *
__group
,

606 
sockËn_t
 
__grou¶’
, 
ušt32_t
 *
__fmode
,

607 
ušt32_t
 *
__num¤c
,

608 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

611 
	$£tsourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

612 cÚ¡ 
sockaddr
 *
__group
,

613 
sockËn_t
 
__grou¶’
, 
ušt32_t
 
__fmode
,

614 
ušt32_t
 
__num¤c
,

615 cÚ¡ 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

618 
__END_DECLS


	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_SVID
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_BSD
 || defšed 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_BSD


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ià(
defšed
 
__USE_POSIX2
 || defšed 
__USE_SVID
 || defšed 
__USE_BSD
 || \

868 
defšed
 
__USE_MISC
)

873 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

879 
	`pşo£
 (
FILE
 *
__¡»am
);

883 #ifdef 
__USE_POSIX


885 *
	$ù”mid
 (*
__s
è
__THROW
;

889 #ifdeà
__USE_XOPEN


891 *
	`cu£rid
 (*
__s
);

895 #ifdef 
__USE_GNU


896 
ob¡ack
;

899 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

900 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

901 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

902 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

903 cÚ¡ *
__»¡riù
 
__fÜm©
,

904 
_G_va_li¡
 
__¬gs
)

905 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

909 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


913 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

917 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

920 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

923 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


927 
	#__Ãed_g‘İt


	)

928 
	~<g‘İt.h
>

933 #ifdeà
__USE_EXTERN_INLINES


934 
	~<b™s/¡dio.h
>

936 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


937 
	~<b™s/¡dio2.h
>

939 #ifdeà
__LDBL_COMPAT


940 
	~<b™s/¡dio-ldbl.h
>

943 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_BSD


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ià
defšed
 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_BSD


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_BSD


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__a
;

422 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

423 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

424 
	$”ªd48_r
 (
__xsubi
[3],

425 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

426 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

429 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

430 *
__»¡riù
 
__»suÉ
)

431 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

432 
	$Äªd48_r
 (
__xsubi
[3],

433 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

434 *
__»¡riù
 
__»suÉ
)

435 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

438 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

439 *
__»¡riù
 
__»suÉ
)

440 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

441 
	$j¿nd48_r
 (
__xsubi
[3],

442 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

443 *
__»¡riù
 
__»suÉ
)

444 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

447 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

448 
__THROW
 
	`__nÚnuÎ
 ((2));

450 
	$£ed48_r
 (
__£ed16v
[3],

451 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$lcÚg48_r
 (
__·¿m
[7],

454 
d¿nd48_d©a
 *
__bufãr
)

455 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

461 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


462 
	#__m®loc_ªd_ÿÎoc_defšed


	)

463 
__BEGIN_NAMESPACE_STD


465 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

467 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

468 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

469 
__END_NAMESPACE_STD


472 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


473 
__BEGIN_NAMESPACE_STD


479 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

480 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

482 
	$ä“
 (*
__±r
è
__THROW
;

483 
__END_NAMESPACE_STD


485 #ifdef 
__USE_MISC


487 
	$cä“
 (*
__±r
è
__THROW
;

490 #ià
defšed
 
__USE_GNU
 || defšed 
__USE_BSD
 || defšed 
__USE_MISC


491 
	~<®loÿ.h
>

494 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

495 || 
defšed
 
__USE_BSD


497 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

500 #ifdeà
__USE_XOPEN2K


502 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

503 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

506 #ifdeà
__USE_ISOC11


508 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

509 
__THROW
 
__wur
 
	`__©Œibu‹__
 ((
__m®loc__
, 
	`__®loc_size__
 (2)));

512 
__BEGIN_NAMESPACE_STD


514 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

518 
	`©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

520 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


522 #ifdeà
__ılu¥lus


523 "C++" 
	`©_quick_ex™
 ((*
__func
) ())

524 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

526 
	`©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

529 
__END_NAMESPACE_STD


531 #ifdef 
__USE_MISC


534 
	`Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

535 
__THROW
 
	`__nÚnuÎ
 ((1));

538 
__BEGIN_NAMESPACE_STD


542 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

544 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


548 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

550 
__END_NAMESPACE_STD


552 #ifdeà
__USE_ISOC99


553 
__BEGIN_NAMESPACE_C99


556 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

557 
__END_NAMESPACE_C99


561 
__BEGIN_NAMESPACE_STD


563 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

564 
__END_NAMESPACE_STD


566 #ifdeà
__USE_GNU


569 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

570 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

573 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


577 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

580 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


583 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

584 
__THROW
 
	`__nÚnuÎ
 ((2));

587 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

590 #ifdef 
__USE_MISC


594 
	$ş—»nv
 (è
__THROW
;

598 #ià
defšed
 
__USE_MISC
 \

599 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

605 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

608 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 \

609 || 
defšed
 
__USE_XOPEN2K8


618 #iâdeà
__USE_FILE_OFFSET64


619 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

621 #ifdeà
__REDIRECT


622 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

623 
	`__nÚnuÎ
 ((1)è
__wur
;

625 
	#mk¡emp
 
mk¡emp64


	)

628 #ifdeà
__USE_LARGEFILE64


629 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_MISC


640 #iâdeà
__USE_FILE_OFFSET64


641 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__REDIRECT


644 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

645 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

647 
	#mk¡emps
 
mk¡emps64


	)

650 #ifdeà
__USE_LARGEFILE64


651 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

652 
	`__nÚnuÎ
 ((1)è
__wur
;

656 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K8


662 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

665 #ifdeà
__USE_GNU


672 #iâdeà
__USE_FILE_OFFSET64


673 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

675 #ifdeà
__REDIRECT


676 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

677 
	`__nÚnuÎ
 ((1)è
__wur
;

679 
	#mko¡emp
 
mko¡emp64


	)

682 #ifdeà
__USE_LARGEFILE64


683 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

694 
	`__nÚnuÎ
 ((1)è
__wur
;

696 #ifdeà
__REDIRECT


697 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

698 
__æags
), 
mko¡emps64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mko¡emps
 
mko¡emps64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

706 
	`__nÚnuÎ
 ((1)è
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

724 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

727 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


733 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

734 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

739 #iâdeà
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com·r_â_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com·r_â_t
 
	tcom·risÚ_â_t
;

747 #ifdeà
__USE_GNU


748 (*
	t__com·r_d_â_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

755 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

756 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

760 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

761 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

762 #ifdeà
__USE_GNU


763 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

764 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

765 
	`__nÚnuÎ
 ((1, 4));

770 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

771 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

772 
__END_NAMESPACE_STD


774 #ifdeà
__USE_ISOC99


775 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

776 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

780 
__BEGIN_NAMESPACE_STD


784 
div_t
 
	$div
 (
__num”
, 
__d’om
)

785 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

786 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

787 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

788 
__END_NAMESPACE_STD


790 #ifdeà
__USE_ISOC99


791 
__BEGIN_NAMESPACE_C99


792 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

793 
__d’om
)

794 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

795 
__END_NAMESPACE_C99


799 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

800 || 
defšed
 
__USE_SVID


807 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

808 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

813 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

814 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

819 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

820 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

823 #ifdeà
__USE_MISC


825 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

826 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

827 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

828 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

829 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

830 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

831 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

832 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

837 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

838 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

839 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

840 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

841 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

842 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

844 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

845 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

846 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

847 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

848 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

849 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

856 
__BEGIN_NAMESPACE_STD


859 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

862 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

863 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

866 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
 
__wur
;

870 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

871 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

873 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

874 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

875 
__THROW
;

876 
__END_NAMESPACE_STD


879 #ifdeà
__USE_SVID


884 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

888 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


895 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

896 *cÚ¡ *
__»¡riù
 
__tok’s
,

897 **
__»¡riù
 
__v®u•
)

898 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

902 #ifdeà
__USE_XOPEN


904 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

910 #ifdeà
__USE_XOPEN2KXSI


912 
	$posix_İ’±
 (
__oæag
è
__wur
;

915 #ifdeà
__USE_XOPEN


920 
	$g¿Á±
 (
__fd
è
__THROW
;

924 
	$uÆock±
 (
__fd
è
__THROW
;

929 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

932 #ifdeà
__USE_GNU


936 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

937 
__THROW
 
	`__nÚnuÎ
 ((2));

940 
	`g‘±
 ();

943 #ifdeà
__USE_BSD


947 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

948 
__THROW
 
	`__nÚnuÎ
 ((1));

951 
	~<b™s/¡dlib-æßt.h
>

954 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


955 
	~<b™s/¡dlib.h
>

957 #ifdeà
__LDBL_COMPAT


958 
	~<b™s/¡dlib-ldbl.h
>

962 #undeà
__Ãed_m®loc_ªd_ÿÎoc


964 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

35 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN


54 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

65 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

69 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

74 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

77 #ifdeà
__OPTIMIZE__


78 
__ex‹º_®ways_šlše
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


81  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

84 
__ex‹º_®ways_šlše
 const *

85 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


87  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifdeà
__USE_GNU


100 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

106 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

107 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

117 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

128 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

129 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

133 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

137 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

141 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

150 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

151 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
 
	`__nÚnuÎ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifdeà
__USE_XOPEN2K8


159 
	~<xloÿË.h
>

162 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

163 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

165 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

166 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

169 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 \

170 || 
defšed
 
__USE_XOPEN2K8


172 *
	$¡rdup
 (cÚ¡ *
__s
)

173 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

179 #ià
defšed
 
__USE_XOPEN2K8


180 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

181 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

184 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


186 
	#¡rdu·
(
s
) \

187 (
__ex‹nsiÚ__
 \

189 cÚ¡ *
__Şd
 = (
s
); \

190 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

191 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

192 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

193 
	}
}))

	)

196 
	#¡ºdu·
(
s
, 
n
) \

197 (
__ex‹nsiÚ__
 \

199 cÚ¡ *
__Şd
 = (
s
); \

200 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

201 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

202 
__Ãw
[
__Ën
] = '\0'; \

203 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

204 }))

	)

207 
	g__BEGIN_NAMESPACE_STD


209 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


212 *
¡rchr
 (*
__s
, 
__c
)

213 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

214 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

215 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

217 #ifdeà
__OPTIMIZE__


218 
__ex‹º_®ways_šlše
 *

219 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


221  
__butš_¡rchr
 (
__s
, 
__c
);

224 
__ex‹º_®ways_šlše
 const *

225 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


227  
__butš_¡rchr
 (
__s
, 
__c
);

232 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

233 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

236 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


239 *
	`¡¼chr
 (*
__s
, 
__c
)

240 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

241 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

242 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

244 #ifdeà
__OPTIMIZE__


245 
__ex‹º_®ways_šlše
 *

246 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


248  
	`__butš_¡¼chr
 (
__s
, 
__c
);

251 
__ex‹º_®ways_šlše
 const *

252 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


254  
	`__butš_¡¼chr
 (
__s
, 
__c
);

257 
	}
}

259 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

260 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

262 
__END_NAMESPACE_STD


264 #ifdeà
__USE_GNU


267 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


268 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

269 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

270 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

271 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

273 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

274 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

278 
__BEGIN_NAMESPACE_STD


281 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

282 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

285 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

286 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

288 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


291 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

292 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

293 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

294 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

296 #ifdeà
__OPTIMIZE__


297 
__ex‹º_®ways_šlše
 *

298 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


300  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

303 
__ex‹º_®ways_šlše
 const *

304 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


306  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

309 
	}
}

311 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

312 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

315 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


318 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

319 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

320 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

321 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

323 #ifdeà
__OPTIMIZE__


324 
__ex‹º_®ways_šlše
 *

325 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


327  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

330 
__ex‹º_®ways_šlše
 const *

331 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


333  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

336 
	}
}

338 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

339 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

344 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

345 
__THROW
 
	`__nÚnuÎ
 ((2));

346 
__END_NAMESPACE_STD


350 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

351 cÚ¡ *
__»¡riù
 
__d–im
,

352 **
__»¡riù
 
__§ve_±r
)

353 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

354 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


355 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

356 **
__»¡riù
 
__§ve_±r
)

357 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

360 #ifdeà
__USE_GNU


362 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


363 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

364 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

365 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

366 cÚ¡ *
__ÃedË
)

367 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

369 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

370 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

374 #ifdeà
__USE_GNU


378 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

379 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

380 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

384 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

385 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

386 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

387 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

388 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

389 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

393 
__BEGIN_NAMESPACE_STD


395 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

396 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

397 
__END_NAMESPACE_STD


399 #ifdef 
__USE_XOPEN2K8


402 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

403 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

407 
__BEGIN_NAMESPACE_STD


409 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

410 
__END_NAMESPACE_STD


411 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_MISC


419 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


422 #ifdeà
__REDIRECT_NTH


423 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

424 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

425 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

427 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

428 
__THROW
 
	`__nÚnuÎ
 ((2));

429 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

434 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

435 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

439 #ifdeà
__USE_XOPEN2K8


441 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

447 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

449 #ifdeà
__USE_BSD


451 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

452 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

455 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

458 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

459 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

462 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


465 *
	`šdex
 (*
__s
, 
__c
)

466 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

467 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

468 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

470 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


471 
__ex‹º_®ways_šlše
 *

472 
	`šdex
 (*
__s
, 
__c
è
__THROW


474  
	`__butš_šdex
 (
__s
, 
__c
);

477 
__ex‹º_®ways_šlše
 const *

478 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


480  
	`__butš_šdex
 (
__s
, 
__c
);

483 
	}
}

485 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

486 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

490 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


493 *
	`ršdex
 (*
__s
, 
__c
)

494 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

495 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

496 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

498 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


499 
__ex‹º_®ways_šlše
 *

500 
	`ršdex
 (*
__s
, 
__c
è
__THROW


502  
	`__butš_ršdex
 (
__s
, 
__c
);

505 
__ex‹º_®ways_šlše
 const *

506 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


508  
	`__butš_ršdex
 (
__s
, 
__c
);

511 
	}
}

513 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

514 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

519 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

523 #ifdef 
__USE_GNU


524 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

525 #ifdeà
__GNUC__


526 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

527 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

532 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

533 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

536 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

537 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

540 #ifdef 
__USE_GNU


543 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

544 
__loÿË_t
 
__loc
)

545 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

547 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

548 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

549 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

552 #ifdef 
__USE_BSD


555 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

556 cÚ¡ *
__»¡riù
 
__d–im
)

557 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

560 #ifdef 
__USE_XOPEN2K8


562 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

565 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

566 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

567 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

568 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

572 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

573 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

575 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

576 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

577 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

580 #ifdef 
__USE_GNU


582 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

583 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

586 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

589 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #iâdeà
ba£Çme


596 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


597 "C++" *
	$ba£Çme
 (*
__f’ame
)

598 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

599 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

600 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

602 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

608 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

609 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

610 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


630 
	~<b™s/¡ršg.h
>

633 
	~<b™s/¡ršg2.h
>

636 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


638 
	~<b™s/¡ršg3.h
>

642 
__END_DECLS


	@/usr/include/time.h

22 #iâdef 
_TIME_H


24 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

25 ! 
defšed
 
	g__Ãed_time¥ec
)

26 
	#_TIME_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__Ãed_size_t


	)

36 
	#__Ãed_NULL


	)

37 
	~<¡ddef.h
>

41 
	~<b™s/time.h
>

44 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


45 #iâdeà
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

53 
	#__şock_t_defšed
 1

	)

55 
	~<b™s/ty³s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__şock_t
 
	tşock_t
;

60 
	g__END_NAMESPACE_STD


61 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


62 
	$__USING_NAMESPACE_STD
(
şock_t
)

66 #undeà
__Ãed_şock_t


68 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

69 
	#__time_t_defšed
 1

	)

71 
	~<b™s/ty³s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #undeà
__Ãed_time_t


84 #ià!
defšed
 
__şockid_t_defšed
 && \

85 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

86 
	#__şockid_t_defšed
 1

	)

88 
	~<b™s/ty³s.h
>

91 
__şockid_t
 
	tşockid_t
;

94 #undeà
__şockid_time_t


96 #ià!
defšed
 
__tim”_t_defšed
 && \

97 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

98 
	#__tim”_t_defšed
 1

	)

100 
	~<b™s/ty³s.h
>

103 
__tim”_t
 
	ttim”_t
;

106 #undeà
__Ãed_tim”_t


109 #ià(!
defšed
 
__time¥ec_defšed
 \

110 && ((
defšed
 
_TIME_H
 \

111 && (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
 \

112 || 
defšed
 
__USE_ISOC11
)) \

113 || 
defšed
 
__Ãed_time¥ec
))

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
__sysÿÎ_¦Úg_t
 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 cÚ¡ *
tm_zÚe
;

149 
__tm_gmtoff
;

150 cÚ¡ *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 #ifdeà
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
şock_t
 
	$şock
 (è
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

195 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

196 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

199 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

205 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

206 cÚ¡ *
__»¡riù
 
__fÜm©
,

207 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifdeà
__USE_XOPEN


213 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

214 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

215 
__THROW
;

218 #ifdeà
__USE_XOPEN2K8


221 
	~<xloÿË.h
>

223 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

224 cÚ¡ *
__»¡riù
 
__fÜm©
,

225 cÚ¡ 
tm
 *
__»¡riù
 
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

229 #ifdeà
__USE_GNU


230 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

231 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

232 
__loÿË_t
 
__loc
è
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

243 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

244 
__END_NAMESPACE_STD


246 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


249 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

250 
tm
 *
__»¡riù
 
__
è
__THROW
;

254 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

255 
tm
 *
__»¡riù
 
__
è
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

264 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

265 
__END_NAMESPACE_STD


267 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


272 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

273 *
__»¡riù
 
__buf
è
__THROW
;

276 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

277 *
__»¡riù
 
__buf
è
__THROW
;

282 *
__tzÇme
[2];

283 
__daylight
;

284 
__timezÚe
;

287 #ifdef 
__USE_POSIX


289 *
tzÇme
[2];

293 
	$tz£t
 (è
__THROW
;

296 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


297 
daylight
;

298 
timezÚe
;

301 #ifdeà
__USE_SVID


304 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

310 
	#__i¦—p
(
y—r
) \

311 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

314 #ifdeà
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

322 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

325 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

329 #ifdeà
__USE_POSIX199309


334 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

335 
time¥ec
 *
__»maššg
);

339 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

342 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

345 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

346 
__THROW
;

348 #ifdeà
__USE_XOPEN2K


353 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

354 cÚ¡ 
time¥ec
 *
__»q
,

355 
time¥ec
 *
__»m
);

358 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

363 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

364 
sigev’t
 *
__»¡riù
 
__evp
,

365 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

368 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

371 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

372 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

373 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

376 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

377 
__THROW
;

380 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

384 #ifdeà
__USE_ISOC11


386 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_XOPEN_EXTENDED


403 
g‘d©e_”r
;

412 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

415 #ifdeà
__USE_GNU


426 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

427 
tm
 *
__»¡riù
 
__»sbuå
);

430 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_BSD


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_BSD
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

62 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


63 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

64 
	#htŞe16
(
x
è(x)

	)

65 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

66 
	#Ë16toh
(
x
è(x)

	)

68 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

69 
	#htŞe32
(
x
è(x)

	)

70 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

71 
	#Ë32toh
(
x
è(x)

	)

73 #ià
__GLIBC_HAVE_LONG_LONG


74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è(x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è(x)

	)

81 
	#htobe16
(
x
è(x)

	)

82 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

83 
	#be16toh
(
x
è(x)

	)

84 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

86 
	#htobe32
(
x
è(x)

	)

87 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

88 
	#be32toh
(
x
è(x)

	)

89 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

91 #ià
__GLIBC_HAVE_LONG_LONG


92 
	#htobe64
(
x
è(x)

	)

93 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

94 
	#be64toh
(
x
è(x)

	)

95 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

98 #undeà
__USE_ISOC11


99 #undeà
__USE_ISOC99


100 #undeà
__USE_ISOC95


101 #undeà
__USE_ISOCXX11


102 #undeà
__USE_POSIX


103 #undeà
__USE_POSIX2


104 #undeà
__USE_POSIX199309


105 #undeà
__USE_POSIX199506


106 #undeà
__USE_XOPEN


107 #undeà
__USE_XOPEN_EXTENDED


108 #undeà
__USE_UNIX98


109 #undeà
__USE_XOPEN2K


110 #undeà
__USE_XOPEN2KXSI


111 #undeà
__USE_XOPEN2K8


112 #undeà
__USE_XOPEN2K8XSI


113 #undeà
__USE_LARGEFILE


114 #undeà
__USE_LARGEFILE64


115 #undeà
__USE_FILE_OFFSET64


116 #undeà
__USE_BSD


117 #undeà
__USE_SVID


118 #undeà
__USE_MISC


119 #undeà
__USE_ATFILE


120 #undeà
__USE_GNU


121 #undeà
__USE_REENTRANT


122 #undeà
__USE_FORTIFY_LEVEL


123 #undeà
__FAVOR_BSD


124 #undeà
__KERNEL_STRICT_NAMES


128 #iâdeà
_LOOSE_KERNEL_NAMES


129 
	#__KERNEL_STRICT_NAMES


	)

133 
	#__USE_ANSI
 1

	)

142 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


143 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

144 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

146 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

151 #ià
defšed
 
_BSD_SOURCE
 && \

152 !(
defšed
 
	g_POSIX_SOURCE
 || defšed 
	g_POSIX_C_SOURCE
 || \

153 
defšed
 
	g_XOPEN_SOURCE
 || defšed 
	g_GNU_SOURCE
 || defšed 
	g_SVID_SOURCE
)

154 
	#__FAVOR_BSD
 1

	)

158 #ifdeà
_GNU_SOURCE


159 #undeà
_ISOC95_SOURCE


160 
	#_ISOC95_SOURCE
 1

	)

161 #undeà
_ISOC99_SOURCE


162 
	#_ISOC99_SOURCE
 1

	)

163 #undeà
_ISOC11_SOURCE


164 
	#_ISOC11_SOURCE
 1

	)

165 #undeà
_POSIX_SOURCE


166 
	#_POSIX_SOURCE
 1

	)

167 #undeà
_POSIX_C_SOURCE


168 
	#_POSIX_C_SOURCE
 200809L

	)

169 #undeà
_XOPEN_SOURCE


170 
	#_XOPEN_SOURCE
 700

	)

171 #undeà
_XOPEN_SOURCE_EXTENDED


172 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

173 #undeà
_LARGEFILE64_SOURCE


174 
	#_LARGEFILE64_SOURCE
 1

	)

175 #undeà
_BSD_SOURCE


176 
	#_BSD_SOURCE
 1

	)

177 #undeà
_SVID_SOURCE


178 
	#_SVID_SOURCE
 1

	)

179 #undeà
_ATFILE_SOURCE


180 
	#_ATFILE_SOURCE
 1

	)

185 #ià(!
defšed
 
__STRICT_ANSI__
 && !defšed 
_ISOC99_SOURCE
 && \

186 !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 && \

187 !
defšed
 
	g_XOPEN_SOURCE
 && !defšed 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
)

188 
	#_BSD_SOURCE
 1

	)

189 
	#_SVID_SOURCE
 1

	)

193 #ià(
defšed
 
_ISOC11_SOURCE
 \

194 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

195 
	#__USE_ISOC11
 1

	)

199 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

200 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

201 
	#__USE_ISOC99
 1

	)

205 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

206 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

207 
	#__USE_ISOC95
 1

	)

214 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

215 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

216 
	#__USE_ISOCXX11
 1

	)

221 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

222 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

223 
	#_POSIX_SOURCE
 1

	)

224 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

225 
	#_POSIX_C_SOURCE
 2

	)

226 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

227 
	#_POSIX_C_SOURCE
 199506L

	)

228 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

229 
	#_POSIX_C_SOURCE
 200112L

	)

231 
	#_POSIX_C_SOURCE
 200809L

	)

233 
	#__USE_POSIX_IMPLICITLY
 1

	)

236 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


237 
	#__USE_POSIX
 1

	)

240 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


241 
	#__USE_POSIX2
 1

	)

244 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

245 
	#__USE_POSIX199309
 1

	)

248 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

249 
	#__USE_POSIX199506
 1

	)

252 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

253 
	#__USE_XOPEN2K
 1

	)

254 #undeà
__USE_ISOC95


255 
	#__USE_ISOC95
 1

	)

256 #undeà
__USE_ISOC99


257 
	#__USE_ISOC99
 1

	)

260 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

261 
	#__USE_XOPEN2K8
 1

	)

262 #undeà
_ATFILE_SOURCE


263 
	#_ATFILE_SOURCE
 1

	)

266 #ifdef 
_XOPEN_SOURCE


267 
	#__USE_XOPEN
 1

	)

268 #ià(
_XOPEN_SOURCE
 - 0) >= 500

269 
	#__USE_XOPEN_EXTENDED
 1

	)

270 
	#__USE_UNIX98
 1

	)

271 #undeà
_LARGEFILE_SOURCE


272 
	#_LARGEFILE_SOURCE
 1

	)

273 #ià(
_XOPEN_SOURCE
 - 0) >= 600

274 #ià(
_XOPEN_SOURCE
 - 0) >= 700

275 
	#__USE_XOPEN2K8
 1

	)

276 
	#__USE_XOPEN2K8XSI
 1

	)

278 
	#__USE_XOPEN2K
 1

	)

279 
	#__USE_XOPEN2KXSI
 1

	)

280 #undeà
__USE_ISOC95


281 
	#__USE_ISOC95
 1

	)

282 #undeà
__USE_ISOC99


283 
	#__USE_ISOC99
 1

	)

286 #ifdeà
_XOPEN_SOURCE_EXTENDED


287 
	#__USE_XOPEN_EXTENDED
 1

	)

292 #ifdeà
_LARGEFILE_SOURCE


293 
	#__USE_LARGEFILE
 1

	)

296 #ifdeà
_LARGEFILE64_SOURCE


297 
	#__USE_LARGEFILE64
 1

	)

300 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

301 
	#__USE_FILE_OFFSET64
 1

	)

304 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


305 
	#__USE_MISC
 1

	)

308 #ifdef 
_BSD_SOURCE


309 
	#__USE_BSD
 1

	)

312 #ifdef 
_SVID_SOURCE


313 
	#__USE_SVID
 1

	)

316 #ifdef 
_ATFILE_SOURCE


317 
	#__USE_ATFILE
 1

	)

320 #ifdef 
_GNU_SOURCE


321 
	#__USE_GNU
 1

	)

324 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


325 
	#__USE_REENTRANT
 1

	)

328 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

329 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

330 #ià
_FORTIFY_SOURCE
 > 1

331 
	#__USE_FORTIFY_LEVEL
 2

	)

333 
	#__USE_FORTIFY_LEVEL
 1

	)

336 
	#__USE_FORTIFY_LEVEL
 0

	)

341 
	~<¡dc-´edef.h
>

349 #undeà
__GNU_LIBRARY__


350 
	#__GNU_LIBRARY__
 6

	)

354 
	#__GLIBC__
 2

	)

355 
	#__GLIBC_MINOR__
 17

	)

357 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

358 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

361 #ià
defšed
 
__GNUC__
 \

362 || (
defšed
 
	g__PGI
 && defšed 
	g__i386__
 ) \

363 || (
defšed
 
	g__INTEL_COMPILER
 && (defšed 
	g__i386__
 || defšed 
	g__Ÿ64__
)) \

364 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

365 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

369 #iâdeà
__ASSEMBLER__


370 #iâdeà
_SYS_CDEFS_H


371 
	~<sys/cdefs.h
>

376 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


377 
	#__USE_LARGEFILE
 1

	)

378 
	#__USE_LARGEFILE64
 1

	)

384 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

385 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

386 && 
defšed
 
	g__ex‹º_šlše


387 
	#__USE_EXTERN_INLINES
 1

	)

395 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

20 #iâdeà
_GETOPT_H


22 #iâdeà
__Ãed_g‘İt


23 
	#_GETOPT_H
 1

	)

33 #ià!
defšed
 
__GNU_LIBRARY__


34 
	~<ùy³.h
>

37 #iâdeà
__THROW


38 #iâdeà
__GNUC_PREREQ


39 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

41 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

42 
	#__THROW
 
	`throw
 ()

	)

44 
	#__THROW


	)

48 #ifdef 
__ılu¥lus


58 *
İrg
;

72 
İtšd
;

77 
İ‹¼
;

81 
İtİt
;

83 #iâdeà
__Ãed_g‘İt


105 
	sİtiÚ


107 cÚ¡ *
	gÇme
;

110 
	ghas_¬g
;

111 *
	gæag
;

112 
	gv®
;

117 
	#no_¬gum’t
 0

	)

118 
	#»quœed_¬gum’t
 1

	)

119 
	#İtiÚ®_¬gum’t
 2

	)

147 #ifdeà
__GNU_LIBRARY__


151 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

152 
__THROW
;

154 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

155 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


159 #ifdeà
__REDIRECT


160 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

161 cÚ¡ *
__shÜtİts
),

162 
__posix_g‘İt
);

164 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

165 cÚ¡ *
__shÜtİts
è
__THROW
;

166 
	#g‘İt
 
__posix_g‘İt


	)

170 
g‘İt
 ();

173 #iâdeà
__Ãed_g‘İt


174 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

175 cÚ¡ *
__shÜtİts
,

176 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

177 
__THROW
;

178 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

179 cÚ¡ *
__shÜtİts
,

180 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

181 
__THROW
;

185 #ifdef 
__ılu¥lus


190 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

29 #iâdeà
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_cÚfig.h
>

34 
	#_IO_åos_t
 
_G_åos_t


	)

35 
	#_IO_åos64_t
 
_G_åos64_t


	)

36 
	#_IO_size_t
 
size_t


	)

37 
	#_IO_ssize_t
 
__ssize_t


	)

38 
	#_IO_off_t
 
__off_t


	)

39 
	#_IO_off64_t
 
__off64_t


	)

40 
	#_IO_pid_t
 
__pid_t


	)

41 
	#_IO_uid_t
 
__uid_t


	)

42 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

43 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

44 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

45 
	#_IO_va_li¡
 
_G_va_li¡


	)

46 
	#_IO_wšt_t
 
wšt_t


	)

49 
	#__Ãed___va_li¡


	)

50 
	~<¡d¬g.h
>

51 #ifdeà
__GNUC_VA_LIST


52 #undeà
_IO_va_li¡


53 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

56 #iâdeà
__P


57 
	~<sys/cdefs.h
>

60 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

62 #iâdeà
EOF


63 
	#EOF
 (-1)

	)

65 #iâdeà
NULL


66 #ià
defšed
 
__GNUG__
 && \

67 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

68 
	#NULL
 (
__nuÎ
)

	)

70 #ià!
defšed
(
__ılu¥lus
)

71 
	#NULL
 ((*)0)

	)

73 
	#NULL
 (0)

	)

78 
	#_IOS_INPUT
 1

	)

79 
	#_IOS_OUTPUT
 2

	)

80 
	#_IOS_ATEND
 4

	)

81 
	#_IOS_APPEND
 8

	)

82 
	#_IOS_TRUNC
 16

	)

83 
	#_IOS_NOCREATE
 32

	)

84 
	#_IOS_NOREPLACE
 64

	)

85 
	#_IOS_BIN
 128

	)

93 
	#_IO_MAGIC
 0xFBAD0000

	)

94 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

95 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

96 
	#_IO_USER_BUF
 1

	)

97 
	#_IO_UNBUFFERED
 2

	)

98 
	#_IO_NO_READS
 4

	)

99 
	#_IO_NO_WRITES
 8

	)

100 
	#_IO_EOF_SEEN
 0x10

	)

101 
	#_IO_ERR_SEEN
 0x20

	)

102 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

103 
	#_IO_LINKED
 0x80

	)

104 
	#_IO_IN_BACKUP
 0x100

	)

105 
	#_IO_LINE_BUF
 0x200

	)

106 
	#_IO_TIED_PUT_GET
 0x400

	)

107 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

108 
	#_IO_IS_APPENDING
 0x1000

	)

109 
	#_IO_IS_FILEBUF
 0x2000

	)

110 
	#_IO_BAD_SEEN
 0x4000

	)

111 
	#_IO_USER_LOCK
 0x8000

	)

113 
	#_IO_FLAGS2_MMAP
 1

	)

114 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

115 #ifdeà
_LIBC


116 
	#_IO_FLAGS2_FORTIFY
 4

	)

118 
	#_IO_FLAGS2_USER_WBUF
 8

	)

119 #ifdeà
_LIBC


120 
	#_IO_FLAGS2_SCANF_STD
 16

	)

121 
	#_IO_FLAGS2_NOCLOSE
 32

	)

122 
	#_IO_FLAGS2_CLOEXEC
 64

	)

126 
	#_IO_SKIPWS
 01

	)

127 
	#_IO_LEFT
 02

	)

128 
	#_IO_RIGHT
 04

	)

129 
	#_IO_INTERNAL
 010

	)

130 
	#_IO_DEC
 020

	)

131 
	#_IO_OCT
 040

	)

132 
	#_IO_HEX
 0100

	)

133 
	#_IO_SHOWBASE
 0200

	)

134 
	#_IO_SHOWPOINT
 0400

	)

135 
	#_IO_UPPERCASE
 01000

	)

136 
	#_IO_SHOWPOS
 02000

	)

137 
	#_IO_SCIENTIFIC
 04000

	)

138 
	#_IO_FIXED
 010000

	)

139 
	#_IO_UNITBUF
 020000

	)

140 
	#_IO_STDIO
 040000

	)

141 
	#_IO_DONT_CLOSE
 0100000

	)

142 
	#_IO_BOOLALPHA
 0200000

	)

145 
_IO_jump_t
; 
	g_IO_FILE
;

148 #ifdeà
_IO_MTSAFE_IO


149 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

150 
	~<b™s/¡dio-lock.h
>

155 
	t_IO_lock_t
;

161 
	s_IO_m¬k”
 {

162 
_IO_m¬k”
 *
	m_Ãxt
;

163 
_IO_FILE
 *
	m_sbuf
;

167 
	m_pos
;

169 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

170 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

171 
	mpublic
:

172 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

173 ~
¡»amm¬k”
();

174 
§všg
(è{  
	m_¥os
 == -2; }

175 
d–
(
¡»amm¬k”
&);

176 
d–
();

181 
	e__codecvt_»suÉ


183 
	m__codecvt_ok
,

184 
	m__codecvt_·¹Ÿl
,

185 
	m__codecvt_”rÜ
,

186 
	m__codecvt_nocÚv


189 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


192 
	s_IO_codecvt


194 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

195 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

196 
	m__mb¡©e_t
 *,

197 cÚ¡ 
	mwch¬_t
 *,

198 cÚ¡ 
	mwch¬_t
 *,

199 cÚ¡ 
	mwch¬_t
 **, *,

201 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

202 
	m__mb¡©e_t
 *, *,

204 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

205 
	m__mb¡©e_t
 *,

207 cÚ¡ **, 
	mwch¬_t
 *,

208 
	mwch¬_t
 *, wchar_t **);

209 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

211 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

212 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

213 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

215 
_IO_icÚv_t
 
	m__cd_š
;

216 
_IO_icÚv_t
 
	m__cd_out
;

220 
	s_IO_wide_d©a


222 
wch¬_t
 *
	m_IO_»ad_±r
;

223 
wch¬_t
 *
	m_IO_»ad_’d
;

224 
wch¬_t
 *
	m_IO_»ad_ba£
;

225 
wch¬_t
 *
	m_IO_wr™e_ba£
;

226 
wch¬_t
 *
	m_IO_wr™e_±r
;

227 
wch¬_t
 *
	m_IO_wr™e_’d
;

228 
wch¬_t
 *
	m_IO_buf_ba£
;

229 
wch¬_t
 *
	m_IO_buf_’d
;

231 
wch¬_t
 *
	m_IO_§ve_ba£
;

232 
wch¬_t
 *
	m_IO_backup_ba£
;

234 
wch¬_t
 *
	m_IO_§ve_’d
;

236 
__mb¡©e_t
 
	m_IO_¡©e
;

237 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

238 
_IO_codecvt
 
	m_codecvt
;

240 
wch¬_t
 
	m_shÜtbuf
[1];

242 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

246 
	s_IO_FILE
 {

247 
	m_æags
;

248 
	#_IO_fe_æags
 
_æags


	)

252 * 
	m_IO_»ad_±r
;

253 * 
	m_IO_»ad_’d
;

254 * 
	m_IO_»ad_ba£
;

255 * 
	m_IO_wr™e_ba£
;

256 * 
	m_IO_wr™e_±r
;

257 * 
	m_IO_wr™e_’d
;

258 * 
	m_IO_buf_ba£
;

259 * 
	m_IO_buf_’d
;

261 *
	m_IO_§ve_ba£
;

262 *
	m_IO_backup_ba£
;

263 *
	m_IO_§ve_’d
;

265 
_IO_m¬k”
 *
	m_m¬k”s
;

267 
_IO_FILE
 *
	m_chaš
;

269 
	m_f’o
;

271 
	m_blksize
;

273 
	m_æags2
;

275 
_IO_off_t
 
	m_Şd_off£t
;

277 
	#__HAVE_COLUMN


	)

279 
	m_cur_cŞumn
;

280 sigÃd 
	m_vbË_off£t
;

281 
	m_shÜtbuf
[1];

285 
_IO_lock_t
 *
	m_lock
;

286 #ifdeà
_IO_USE_OLD_IO_FILE


289 
	s_IO_FILE_com¶‘e


291 
_IO_FILE
 
	m_fe
;

293 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

294 
_IO_off64_t
 
	m_off£t
;

295 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


297 
_IO_codecvt
 *
	m_codecvt
;

298 
_IO_wide_d©a
 *
	m_wide_d©a
;

299 
_IO_FILE
 *
	m_ä“»s_li¡
;

300 *
	m_ä“»s_buf
;

301 
size_t
 
	m_ä“»s_size
;

303 *
	m__·d1
;

304 *
	m__·d2
;

305 *
	m__·d3
;

306 *
	m__·d4
;

307 
size_t
 
	m__·d5
;

309 
	m_mode
;

311 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

315 #iâdeà
__ılu¥lus


316 
_IO_FILE
 
	t_IO_FILE
;

319 
	g_IO_FILE_¶us
;

321 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

322 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

323 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

324 #iâdeà
_LIBC


325 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

326 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

327 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

329 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

330 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

331 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

339 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

347 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

348 
	tsize_t
 
	t__n
);

356 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

359 
	t__io_şo£_â
 (*
	t__cook›
);

362 #ifdeà
_GNU_SOURCE


364 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

365 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

366 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

367 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

372 
__io_»ad_â
 *
	m»ad
;

373 
__io_wr™e_â
 *
	mwr™e
;

374 
__io_£ek_â
 *
	m£ek
;

375 
__io_şo£_â
 *
	mşo£
;

376 } 
	t_IO_cook›_io_funùiÚs_t
;

377 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

379 
	g_IO_cook›_fe
;

382 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

383 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

387 #ifdeà
__ılu¥lus


391 
__und”æow
 (
_IO_FILE
 *);

392 
__uæow
 (
_IO_FILE
 *);

393 
__ov”æow
 (
_IO_FILE
 *, );

394 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


395 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

396 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

397 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

400 #ià 
__GNUC__
 >= 3

401 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

403 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

406 
	#_IO_g‘c_uÆocked
(
_å
) \

407 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

408 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

409 
	#_IO_³ekc_uÆocked
(
_å
) \

410 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

411 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

412 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

413 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

414 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

415 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

416 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

418 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


419 
	#_IO_g‘wc_uÆocked
(
_å
) \

420 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

421 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

422 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

423 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

424 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

425 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

426 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

427 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

428 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

429 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

432 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

433 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

435 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

436 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

437 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

438 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

440 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

443 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

444 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

446 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

447 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

448 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

450 #ifdeà
_IO_MTSAFE_IO


451 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

452 
	#_IO_æockfe
(
_å
) \

453 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

454 
	#_IO_fuÆockfe
(
_å
) \

455 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

457 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

458 
	#_IO_æockfe
(
_å
è

	)

459 
	#_IO_fuÆockfe
(
_å
è

	)

460 
	#_IO_árylockfe
(
_å
è

	)

461 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

462 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

465 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

466 
_IO_va_li¡
, *
__»¡riù
);

467 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

468 
_IO_va_li¡
);

469 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

470 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

472 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

473 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

475 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

477 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


478 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

479 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

480 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

481 #ià
__GNUC__
 >= 2

484 #ià
defšed
 
_LIBC
 && defšed 
SHARED


485 
	~<shlib-com·t.h
>

486 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

487 
	#_IO_fwide_maybe_šcom·tibË
 \

488 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

489 cÚ¡ 
_IO_¡dš_u£d
;

490 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

493 #iâdeà
_IO_fwide_maybe_šcom·tibË


494 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

498 
	#_IO_fwide
(
__å
, 
__mode
) \

499 ({ 
__»suÉ
 = (
__mode
); \

500 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

502 ià((
__å
)->
_mode
 == 0) \

504 (
__å
)->
_mode
 = -1; \

505 
__»suÉ
 = (
__å
)->
_mode
; \

507 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

508 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

510 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

511 
__»suÉ
; })

	)

514 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

515 
_IO_va_li¡
, *
__»¡riù
);

516 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

517 
_IO_va_li¡
);

518 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

519 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

522 #ifdeà
__LDBL_COMPAT


523 
	~<b™s/libio-ldbl.h
>

526 #ifdeà
__ılu¥lus


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

146 #ià!
defšed
 
__ılu¥lus
 || defšed 
__STDC_LIMIT_MACROS


148 #ià
__WORDSIZE
 == 64

149 
	#__INT64_C
(
c
èø## 
L


	)

150 
	#__UINT64_C
(
c
èø## 
UL


	)

152 
	#__INT64_C
(
c
èø## 
LL


	)

153 
	#__UINT64_C
(
c
èø## 
ULL


	)

159 
	#INT8_MIN
 (-128)

	)

160 
	#INT16_MIN
 (-32767-1)

	)

161 
	#INT32_MIN
 (-2147483647-1)

	)

162 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

164 
	#INT8_MAX
 (127)

	)

165 
	#INT16_MAX
 (32767)

	)

166 
	#INT32_MAX
 (2147483647)

	)

167 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

170 
	#UINT8_MAX
 (255)

	)

171 
	#UINT16_MAX
 (65535)

	)

172 
	#UINT32_MAX
 (4294967295U)

	)

173 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

177 
	#INT_LEAST8_MIN
 (-128)

	)

178 
	#INT_LEAST16_MIN
 (-32767-1)

	)

179 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

180 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

182 
	#INT_LEAST8_MAX
 (127)

	)

183 
	#INT_LEAST16_MAX
 (32767)

	)

184 
	#INT_LEAST32_MAX
 (2147483647)

	)

185 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

188 
	#UINT_LEAST8_MAX
 (255)

	)

189 
	#UINT_LEAST16_MAX
 (65535)

	)

190 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

191 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

195 
	#INT_FAST8_MIN
 (-128)

	)

196 #ià
__WORDSIZE
 == 64

197 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

198 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

200 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

201 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

203 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

205 
	#INT_FAST8_MAX
 (127)

	)

206 #ià
__WORDSIZE
 == 64

207 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

208 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

210 
	#INT_FAST16_MAX
 (2147483647)

	)

211 
	#INT_FAST32_MAX
 (2147483647)

	)

213 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

216 
	#UINT_FAST8_MAX
 (255)

	)

217 #ià
__WORDSIZE
 == 64

218 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

219 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

221 
	#UINT_FAST16_MAX
 (4294967295U)

	)

222 
	#UINT_FAST32_MAX
 (4294967295U)

	)

224 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

228 #ià
__WORDSIZE
 == 64

229 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

230 
	#INTPTR_MAX
 (9223372036854775807L)

	)

231 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

233 
	#INTPTR_MIN
 (-2147483647-1)

	)

234 
	#INTPTR_MAX
 (2147483647)

	)

235 
	#UINTPTR_MAX
 (4294967295U)

	)

240 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

242 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

245 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

251 #ià
__WORDSIZE
 == 64

252 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

253 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

255 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

256 
	#PTRDIFF_MAX
 (2147483647)

	)

260 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

261 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

264 #ià
__WORDSIZE
 == 64

265 
	#SIZE_MAX
 (18446744073709551615UL)

	)

267 
	#SIZE_MAX
 (4294967295U)

	)

271 #iâdeà
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

286 #ià!
defšed
 
__ılu¥lus
 || defšed 
__STDC_CONSTANT_MACROS


289 
	#INT8_C
(
c
è
	)
c

290 
	#INT16_C
(
c
è
	)
c

291 
	#INT32_C
(
c
è
	)
c

292 #ià
__WORDSIZE
 == 64

293 
	#INT64_C
(
c
èø## 
L


	)

295 
	#INT64_C
(
c
èø## 
LL


	)

299 
	#UINT8_C
(
c
è
	)
c

300 
	#UINT16_C
(
c
è
	)
c

301 
	#UINT32_C
(
c
èø## 
U


	)

302 #ià
__WORDSIZE
 == 64

303 
	#UINT64_C
(
c
èø## 
UL


	)

305 
	#UINT64_C
(
c
èø## 
ULL


	)

309 #ià
__WORDSIZE
 == 64

310 
	#INTMAX_C
(
c
èø## 
L


	)

311 
	#UINTMAX_C
(
c
èø## 
UL


	)

313 
	#INTMAX_C
(
c
èø## 
LL


	)

314 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/ctype.h

23 #iâdef 
_CTYPE_H


24 
	#_CTYPE_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

29 
	g__BEGIN_DECLS


31 #iâdeà
_ISb™


40 
	~<’dŸn.h
>

41 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


42 
	#_ISb™
(
b™
è(1 << (b™))

	)

44 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

49 
	m_ISuµ”
 = 
_ISb™
 (0),

50 
	m_ISlow”
 = 
_ISb™
 (1),

51 
	m_IS®pha
 = 
_ISb™
 (2),

52 
	m_ISdig™
 = 
_ISb™
 (3),

53 
	m_ISxdig™
 = 
_ISb™
 (4),

54 
	m_IS¥aû
 = 
_ISb™
 (5),

55 
	m_IS´št
 = 
_ISb™
 (6),

56 
	m_ISg¿ph
 = 
_ISb™
 (7),

57 
	m_ISbÏnk
 = 
_ISb™
 (8),

58 
	m_ISúŒl
 = 
_ISb™
 (9),

59 
	m_ISpunù
 = 
_ISb™
 (10),

60 
	m_IS®num
 = 
_ISb™
 (11)

80 cÚ¡ **
	$__ùy³_b_loc
 ()

81 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

82 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

83 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

84 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

85 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

88 #iâdeà
__ılu¥lus


89 
	#__isùy³
(
c
, 
ty³
) \

90 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

91 #–ià
defšed
 
__USE_EXTERN_INLINES


92 
	#__isùy³_f
(
ty³
) \

93 
__ex‹º_šlše
 \

94 
is
##
	`ty³
 (
__c
è
__THROW
 \

96  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

97 
	}

	)
}

100 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

101 
	#__tßscii
(
c
è((cè& 0x7fè

	)

103 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

105 
__BEGIN_NAMESPACE_STD


111 
__exùy³
 (
i§Êum
);

112 
__exùy³
 (
i§Íha
);

113 
__exùy³
 (
isúŒl
);

114 
__exùy³
 (
isdig™
);

115 
__exùy³
 (
i¦ow”
);

116 
__exùy³
 (
isg¿ph
);

117 
__exùy³
 (
i¥ršt
);

118 
__exùy³
 (
i¥unù
);

119 
__exùy³
 (
is¥aû
);

120 
__exùy³
 (
isuµ”
);

121 
__exùy³
 (
isxdig™
);

125 
	$tŞow”
 (
__c
è
__THROW
;

128 
	$touµ”
 (
__c
è
__THROW
;

130 
__END_NAMESPACE_STD


134 #ifdef 
__USE_ISOC99


135 
__BEGIN_NAMESPACE_C99


137 
	`__exùy³
 (
isbÏnk
);

139 
__END_NAMESPACE_C99


142 #ifdeà
__USE_GNU


144 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

147 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


151 
	$i§scii
 (
__c
è
__THROW
;

155 
	$tßscii
 (
__c
è
__THROW
;

159 
	`__exùy³
 (
_touµ”
);

160 
	`__exùy³
 (
_tŞow”
);

164 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

165 (
__ex‹nsiÚ__
 \

166 ({ 
__»s
; \

167 ià( (
c
) > 1) \

169 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

171 
__c
 = (
c
); \

172 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

175 
__»s
 = 
f
 
¬gs
; \

178 
__»s
 = (
a
)[(è(
c
)]; \

179 
__»s
; 
	}
}))

	)

181 #ià!
defšed
 
__NO_CTYPE


182 #ifdeà
__isùy³_f


183 
	$__isùy³_f
 (
®num
)

184 
	$__isùy³_f
 (
®pha
)

185 
	$__isùy³_f
 (
úŒl
)

186 
	$__isùy³_f
 (
dig™
)

187 
	$__isùy³_f
 (
low”
)

188 
	$__isùy³_f
 (
g¿ph
)

189 
	$__isùy³_f
 (
´št
)

190 
	$__isùy³_f
 (
punù
)

191 
	$__isùy³_f
 (
¥aû
)

192 
	$__isùy³_f
 (
uµ”
)

193 
	$__isùy³_f
 (
xdig™
)

194 #ifdeà
__USE_ISOC99


195 
	$__isùy³_f
 (
bÏnk
)

197 #–ià
defšed
 
__isùy³


198 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

199 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

200 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

201 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

202 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

203 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

204 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

205 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

206 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

207 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

208 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

209 #ifdeà
__USE_ISOC99


210 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

214 #ifdeà
__USE_EXTERN_INLINES


215 
__ex‹º_šlše
 

216 
	`__NTH
 (
	$tŞow”
 (
__c
))

218  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

219 
	}
}

221 
__ex‹º_šlše
 

222 
__NTH
 (
	$touµ”
 (
__c
))

224  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

225 
	}
}

228 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


229 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

230 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

233 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


234 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

235 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

237 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

238 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

244 #ifdeà
__USE_XOPEN2K8


258 
	~<xloÿË.h
>

262 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

263 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

265 
	#__exùy³_l
(
Çme
) \

266 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

272 
__exùy³_l
 (
i§Êum_l
);

273 
__exùy³_l
 (
i§Íha_l
);

274 
__exùy³_l
 (
isúŒl_l
);

275 
__exùy³_l
 (
isdig™_l
);

276 
__exùy³_l
 (
i¦ow”_l
);

277 
__exùy³_l
 (
isg¿ph_l
);

278 
__exùy³_l
 (
i¥ršt_l
);

279 
__exùy³_l
 (
i¥unù_l
);

280 
__exùy³_l
 (
is¥aû_l
);

281 
__exùy³_l
 (
isuµ”_l
);

282 
__exùy³_l
 (
isxdig™_l
);

284 
__exùy³_l
 (
isbÏnk_l
);

288 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

289 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

293 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

295 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


296 
	#__tŞow”_l
(
c
, 
loÿË
) \

297 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

298 
	#__touµ”_l
(
c
, 
loÿË
) \

299 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

300 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

301 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

305 #iâdeà
__NO_CTYPE


306 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

307 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

308 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

309 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

310 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

311 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

312 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

313 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

314 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

315 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

316 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

318 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

320 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


321 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

322 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

325 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

326 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

327 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

328 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

329 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

330 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

331 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

332 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

333 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

334 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

335 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

337 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

339 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


340 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

341 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

348 
__END_DECLS


	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

30 
	~<b™s/´edefs.h
>

34 
	#__STDC_ISO_10646__
 201103L

	)

37 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004

64 
	g__gcÚv_¡•
;

65 
	g__gcÚv_¡•_d©a
;

66 
	g__gcÚv_lßded_objeù
;

67 
	g__gcÚv_Œªs_d©a
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 (*
	t__gcÚv_Œªs_fù
è(
	t__gcÚv_¡•
 *,

85 
	t__gcÚv_¡•_d©a
 *, *,

89 
	tsize_t
 *);

92 (*
	t__gcÚv_Œªs_cÚ‹xt_fù
) (*, const *,

97 (*
	t__gcÚv_Œªs_qu”y_fù
) (const *, const ***,

98 
	tsize_t
 *);

101 (*
	t__gcÚv_Œªs_š™_fù
) (**, const *);

102 (*
	t__gcÚv_Œªs_’d_fù
) (*);

104 
	s__gcÚv_Œªs_d©a


107 
__gcÚv_Œªs_fù
 
__Œªs_fù
;

108 
__gcÚv_Œªs_cÚ‹xt_fù
 
__Œªs_cÚ‹xt_fù
;

109 
__gcÚv_Œªs_’d_fù
 
__Œªs_’d_fù
;

110 *
__d©a
;

111 
__gcÚv_Œªs_d©a
 *
__Ãxt
;

116 
	s__gcÚv_¡•


118 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

119 cÚ¡ *
__modÇme
;

121 
__couÁ”
;

123 *
__äom_Çme
;

124 *
__to_Çme
;

126 
__gcÚv_fù
 
__fù
;

127 
__gcÚv_btowc_fù
 
__btowc_fù
;

128 
__gcÚv_š™_fù
 
__š™_fù
;

129 
__gcÚv_’d_fù
 
__’d_fù
;

133 
__mš_Ãeded_äom
;

134 
__max_Ãeded_äom
;

135 
__mš_Ãeded_to
;

136 
__max_Ãeded_to
;

139 
__¡©eful
;

141 *
__d©a
;

146 
	s__gcÚv_¡•_d©a


148 *
__outbuf
;

149 *
__outbuãnd
;

153 
__æags
;

157 
__švoÿtiÚ_couÁ”
;

161 
__š‹º®_u£
;

163 
__mb¡©e_t
 *
__¡©•
;

164 
__mb¡©e_t
 
__¡©e
;

168 
__gcÚv_Œªs_d©a
 *
__Œªs
;

173 
	s__gcÚv_šfo


175 
size_t
 
__n¡•s
;

176 
__gcÚv_¡•
 *
__¡•s
;

177 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

178 } *
	t__gcÚv_t
;

	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

150 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

151 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

158 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

159 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

164 
__THROW
 
__©Œibu‹_pu»__
;

166 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©Œibu‹_pu»__
;

168 
__END_NAMESPACE_STD


170 #ifdeà
__USE_XOPEN2K8


172 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

175 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

176 
size_t
 
__n
è
__THROW
;

180 
	~<xloÿË.h
>

182 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

183 
__loÿË_t
 
__loc
è
__THROW
;

185 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

196 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

197 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifdeà
__USE_XOPEN2K8


206 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

207 
__loÿË_t
 
__loc
è
__THROW
;

212 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

213 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

216 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
__©Œibu‹_pu»__
;

231 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

233 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
__©Œibu‹_pu»__
;

240 
__END_NAMESPACE_STD


242 #ifdeà
__USE_GNU


245 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

246 
__THROW
 
__©Œibu‹_pu»__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

253 
__THROW
 
__©Œibu‹_pu»__
;

256 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

257 
__THROW
 
__©Œibu‹_pu»__
;

259 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

262 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

263 cÚ¡ 
wch¬_t
 *
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

266 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

267 
__THROW
 
__©Œibu‹_pu»__
;

270 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

273 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

274 cÚ¡ 
wch¬_t
 *
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

277 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

278 
__THROW
 
__©Œibu‹_pu»__
;

282 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

283 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

284 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

287 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

288 
__END_NAMESPACE_STD


290 #ifdeà
__USE_XOPEN


292 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

295 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

296 cÚ¡ 
wch¬_t
 *
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

299 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

300 
__THROW
 
__©Œibu‹_pu»__
;

304 #ifdeà
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

307 
__THROW
 
__©Œibu‹_pu»__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

316 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

320 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©Œibu‹_pu»__
;

325 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©Œibu‹_pu»__
;

329 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

330 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

334 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdeà
__USE_GNU


344 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

345 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

357 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

361 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

365 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

366 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

367 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

370 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

371 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

377 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifdeà
__USE_EXTERN_INLINES


386 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

387 
__ex‹º_šlše
 
wšt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

392 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

393 
__ex‹º_šlše
 

394 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

395 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

396 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

398 
__ex‹º_šlše
 
size_t


399 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

400 
mb¡©e_t
 *
__»¡riù
 
__ps
))

401 {  (
__ps
 !ğ
NULL


402 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

409 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

410 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

414 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

415 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

416 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

424 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

425 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

429 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

430 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

431 
size_t
 
__nwc
, size_ˆ
__Ën
,

432 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

437 #ifdeà
__USE_XOPEN


439 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

443 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

451 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifdeà
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

460 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

469 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

473 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

474 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GNUC__
 && defšed 
__USE_GNU
)

479 
__BEGIN_NAMESPACE_C99


482 
__ex‹nsiÚ__


483 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

484 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

485 
__THROW
;

489 
__ex‹nsiÚ__


490 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

491 
wch¬_t
 **
__»¡riù
 
__’d±r
,

492 
__ba£
è
__THROW
;

493 
__END_NAMESPACE_C99


496 #ià
defšed
 
__GNUC__
 && defšed 
__USE_GNU


499 
__ex‹nsiÚ__


500 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

501 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

502 
__THROW
;

506 
__ex‹nsiÚ__


507 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

508 
wch¬_t
 **
__»¡riù
 
__’d±r
,

509 
__ba£
è
__THROW
;

512 #ifdeà
__USE_GNU


526 
	~<xloÿË.h
>

530 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

531 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

532 
__loÿË_t
 
__loc
è
__THROW
;

534 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

535 
wch¬_t
 **
__»¡riù
 
__’d±r
,

536 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

538 
__ex‹nsiÚ__


539 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

540 
wch¬_t
 **
__»¡riù
 
__’d±r
,

541 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

543 
__ex‹nsiÚ__


544 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

545 
wch¬_t
 **
__»¡riù
 
__’d±r
,

546 
__ba£
, 
__loÿË_t
 
__loc
)

547 
__THROW
;

549 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

550 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

551 
__THROW
;

553 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

554 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

555 
__THROW
;

557 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

558 
wch¬_t
 **
__»¡riù
 
__’d±r
,

559 
__loÿË_t
 
__loc
è
__THROW
;

563 #ifdeà
__USE_XOPEN2K8


566 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

567 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

571 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

572 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

583 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

594 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

595 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

601 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

605 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

606 
__THROW
 ;

612 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

613 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

614 
__gnuc_va_li¡
 
__¬g
)

620 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

621 
__gnuc_va_li¡
 
__¬g
)

625 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

626 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

627 
__gnuc_va_li¡
 
__¬g
)

628 
__THROW
 ;

635 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

636 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

642 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

646 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

647 
__THROW
 ;

649 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

650 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

651 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

652 #ifdeà
__REDIRECT


656 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

657 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

658 
__isoc99_fwsÿnf
)

660 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_wsÿnf
)

663 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

664 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

665 ...), 
__isoc99_swsÿnf
)

668 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

669 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

670 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

671 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

673 
__THROW
;

674 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

675 
	#wsÿnf
 
__isoc99_wsÿnf


	)

676 
	#swsÿnf
 
__isoc99_swsÿnf


	)

680 
__END_NAMESPACE_STD


683 #ifdeà
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

690 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

691 
__gnuc_va_li¡
 
__¬g
)

697 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

698 
__gnuc_va_li¡
 
__¬g
)

701 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

702 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

703 
__gnuc_va_li¡
 
__¬g
)

704 
__THROW
 ;

706 #ià!
defšed
 
__USE_GNU
 \

707 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

708 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

711 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

712 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

714 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

717 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

718 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

719 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

722 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

723 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

726 
__gnuc_va_li¡
 
__¬g
);

727 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

728 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

730 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

731 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

732 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

746 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

752 
wšt_t
 
	`g‘wch¬
 ();

759 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

760 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

766 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

774 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

775 
__FILE
 *
__»¡riù
 
__¡»am
);

781 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

782 
__FILE
 *
__»¡riù
 
__¡»am
);

789 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

790 
__END_NAMESPACE_STD


793 #ifdeà
__USE_GNU


801 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

802 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

810 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

818 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

827 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

828 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

837 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

838 
__FILE
 *
__»¡riù
 
__¡»am
);

846 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

847 
__FILE
 *
__»¡riù
 
__¡»am
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

856 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

857 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifdeà
__USE_GNU


861 
	~<xloÿË.h
>

865 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

866 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

867 cÚ¡ 
tm
 *
__»¡riù
 
__
,

868 
__loÿË_t
 
__loc
è
__THROW
;

877 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


878 
	#__Ãed_iswxxx


	)

879 
	~<wùy³.h
>

883 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


884 
	~<b™s/wch¬2.h
>

887 #ifdeà
__LDBL_COMPAT


888 
	~<b™s/wch¬-ldbl.h
>

891 
__END_DECLS


899 #undeà
__Ãed_mb¡©e_t


900 #undeà
__Ãed_wšt_t


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@
1
.
1
/usr/include
39
746
c_funda_clearing.c
coordinateToGraph.c
fragment.c
generateRandomGraph.c
getEventStructures.c
handleContentionSlot.c
handleDataSlot.c
handlePackets.c
handlePriorityQueue.c
handleScheduleTxRx.c
header.h
input.c
nodeStats.c
randomfunc.c
rootfunc.c
routingPath.c
scheduler.c
schedulerAlgo.c
simulation.c
/usr/include/malloc.h
/usr/include/math.h
/usr/include/netinet/in.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/time.h
/usr/include/alloca.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/stdint.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/ctype.h
/usr/include/stdc-predef.h
/usr/include/gconv.h
/usr/include/wchar.h
/usr/include/wctype.h
